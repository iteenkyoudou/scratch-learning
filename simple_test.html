<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>シンプルテスト</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .btn { background: #007bff; color: white; border: none; padding: 10px 20px; margin: 10px; cursor: pointer; }
        .sprite { width: 40px; height: 40px; background: red; border-radius: 50%; position: absolute; }
        .container { border: 1px solid #ccc; width: 400px; height: 200px; position: relative; margin: 20px 0; }
        .status { border: 1px solid #007bff; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>シンプルアニメーションテスト</h1>
    
    <div class="status" id="status">テスト準備完了</div>
    
    <div class="container">
        <div class="sprite" id="sprite" style="left: 50px; top: 50px;">😸</div>
    </div>
    
    <button class="btn" onclick="testAnimation()">アニメーションテスト</button>
    <button class="btn" onclick="testReset()">リセット</button>
    
    <script>
        console.log('シンプルテスト開始');
        
        function testAnimation() {
            console.log('testAnimation called');
            const sprite = document.getElementById('sprite');
            const status = document.getElementById('status');
            
            if (!sprite || !status) {
                console.error('要素が見つかりません');
                alert('要素が見つかりません');
                return;
            }
            
            status.textContent = 'アニメーション開始';
            
            // 1つのクローンを作成
            const clone = sprite.cloneNode(true);
            clone.id = 'clone-1';
            clone.style.left = '150px';
            clone.style.top = '100px';
            clone.style.background = 'blue';
            
            sprite.parentNode.appendChild(clone);
            status.textContent = 'クローン作成完了';
            
            console.log('アニメーション完了');
        }
        
        function testReset() {
            console.log('testReset called');
            const clones = document.querySelectorAll('[id^="clone-"]');
            clones.forEach(clone => clone.remove());
            
            const status = document.getElementById('status');
            if (status) {
                status.textContent = 'リセット完了';
            }
            
            console.log('リセット完了');
        }
    </script>
</body>
</html>