<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scratchå­¦ç¿’ã‚µã‚¤ãƒˆ - ã‚·ãƒ³ãƒ—ãƒ«ç‰ˆ</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <style>
        body {
            font-family: 'Hiragino Kaku Gothic ProN', 'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ ProN W3', 'Meiryo', 'ãƒ¡ã‚¤ãƒªã‚ª', 'MS PGothic', sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8f5ff;
            min-height: 100vh;
            line-height: 1.6;
        }
        .header {
            background: #7C3F9E;
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(124, 63, 158, 0.3);
            border: 3px solid #fff;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .lesson-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .lesson-card {
            background: #ffffff;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 
                0 6px 20px rgba(0,0,0,0.1),
                inset 0 1px 0 rgba(255,255,255,0.6);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            border: 2px solid #e0e0e0;
            position: relative;
            overflow: hidden;
        }
        .lesson-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
            border-color: #7C3F9E;
        }
        .lesson-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: #7C3F9E;
        }
        .emoji {
            font-size: 56px;
            margin-bottom: 15px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }
        .lesson-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
            letter-spacing: 0.5px;
        }
        .lesson-desc {
            color: #5a6c7d;
            font-size: 15px;
            font-weight: 500;
        }
        .step-container {
            display: none;
            background: #ffffff;
            border-radius: 20px;
            padding: 30px;
            margin-top: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border: 2px solid #e3f2fd;
            position: relative;
        }
        .step-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: #7C3F9E;
            border-radius: 20px 20px 0 0;
        }
        .step-active { display: block; }
        .step-nav {
            text-align: center;
            margin-top: 20px;
        }
        .btn {
            background: #7C3F9E;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            margin: 0 8px;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 4px 15px rgba(124, 63, 158, 0.3);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(124, 63, 158, 0.4);
            background: #FF6600;
        }
        .btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .progress-bar {
            width: 100%;
            height: 12px;
            background: #e8f4f8;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 2px solid #ddd;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: #7C3F9E;
            border-radius: 8px;
            transition: width 0.5s ease;
            position: relative;
        }
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        .block-container {
            background: #f8fffe;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid #e1f5fe;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        
        h1, h2, h3, h4 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        h1 {
            font-size: 28px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h2 {
            font-size: 24px;
            color: #34495e;
        }
        h3 {
            font-size: 20px;
            color: #2c3e50;
        }
        
        p {
            color: #34495e;
            line-height: 1.7;
            margin-bottom: 15px;
        }
        .blocks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .block-item {
            background: #ffffff;
            padding: 18px;
            border-radius: 12px;
            border: 2px solid #e3f2fd;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .block-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-color: #FF8533;
        }
        .japanese-label {
            color: #455a64;
            font-size: 13px;
            font-weight: 500;
            line-height: 1.5;
            margin-top: 8px;
            padding: 5px 0;
        }
        .japanese-label strong {
            color: #2c3e50;
            font-weight: bold;
        }
        .execution-container {
            margin: 20px 0;
        }
        .execution-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: #f8f5ff;
            border: 2px solid #7C3F9E;
            border-radius: 12px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(124, 63, 158, 0.1);
        }
        .step-number {
            background: #7C3F9E;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            font-size: 16px;
            box-shadow: 0 3px 10px rgba(124, 63, 158, 0.3);
            border: 2px solid #fff;
        }
        .info-box {
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        .info-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            border-radius: 0 15px 15px 0;
        }
        .info-box.hint {
            background: #e3f2fd;
            border-color: #81d4fa;
        }
        .info-box.hint::before {
            background: #2196f3;
        }
        .info-box.success {
            background: #e8f5e8;
            border-color: #a5d6a7;
        }
        .info-box.success::before {
            background: #4caf50;
        }
        .info-box.learn {
            background: #fff3e0;
            border-color: #ffcc80;
        }
        .info-box.learn::before {
            background: #FF6600;
        }
        .status {
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 1000;
        }
        .status.loading {
            background: #ffa500;
            color: white;
        }
        .status.success {
            background: #4CAF50;
            color: white;
        }
        .status.error {
            background: #f44336;
            color: white;
        }
        .japanese-label {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }
        
        /* ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° */
        .flow-container {
            margin: 20px 0;
        }
        
        .flow-chart {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #e9ecef;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .flow-step {
            background: white;
            border: 2px solid #4A90E2;
            border-radius: 8px;
            padding: 12px;
            margin: 10px auto;
            max-width: 280px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .flow-decision {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 15px;
            margin: 15px auto;
            max-width: 280px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .flow-branches {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            gap: 20px;
        }
        
        /* ãƒšãƒ³æç”»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .pen-line {
            position: absolute;
            background: #ff6b6b;
            z-index: 1;
            opacity: 0.8;
        }
        
        .stage {
            position: relative;
            width: 400px;
            height: 300px;
            background: #f0f8ff;
            border: 2px solid #4A90E2;
            border-radius: 8px;
            margin: 20px auto;
            overflow: hidden;
        }
        
        .sprite {
            position: absolute;
            font-size: 24px;
            transition: all 0.5s ease;
            z-index: 10;
        }
        
        .pen-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }
        
        .branch-true, .branch-false {
            flex: 1;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .branch-true {
            background: #e8f6e8;
            border: 2px solid #4CAF50;
        }
        
        .branch-false {
            background: #ffebee;
            border: 2px solid #f44336;
        }
        
        .branch-true .flow-step,
        .branch-false .flow-step {
            background: white;
            border: 1px solid #ccc;
            margin: 10px auto;
            max-width: 200px;
            padding: 8px;
            font-size: 12px;
        }
        
        .step-content {
            text-align: left;
            font-size: 13px;
        }
        
        .step-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 11px;
        }
        
        /* ã‚¯ãƒ­ãƒ¼ãƒ³å­¦ç¿’ã®ä¾‹è¡¨ç¤ºç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .example-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .example-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .example-desc {
            font-size: 14px;
            color: #666;
            line-height: 1.4;
        }
        
        .info-box.challenge {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .info-box.challenge strong {
            color: #856404;
        }
        
        .decision-content {
            text-align: center;
            font-size: 14px;
        }
        
        .decision-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–¢é€£ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .animation-container {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .stage {
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            width: 100%;
            height: 300px;
            position: relative;
            margin: 15px 0;
            overflow: hidden;
        }
        .sprite {
            position: absolute;
            font-size: 48px;
            left: 50px;
            top: 50px;
            transition: all 1s ease-in-out;
            z-index: 2;
        }
        .speech-bubble {
            position: absolute;
            background: white;
            border: 2px solid #333;
            border-radius: 20px;
            padding: 8px 15px;
            font-size: 14px;
            font-weight: bold;
            display: none;
            z-index: 3;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 20px;
            width: 0;
            height: 0;
            border: 10px solid transparent;
            border-top-color: white;
        }
        .speech-bubble::before {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 18px;
            width: 0;
            height: 0;
            border: 12px solid transparent;
            border-top-color: #333;
        }
        .play-btn, .reset-btn {
            background: #4A90E2;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        .reset-btn {
            background: #666;
        }
        .play-btn:hover {
            background: #357abd;
        }
        .reset-btn:hover {
            background: #555;
        }
        .animation-status {
            background: #e8f4fd;
            border-left: 4px solid #4A90E2;
            padding: 12px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 14px;
            font-weight: bold;
        }
        
        /* å·¦å³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .side-by-side-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            align-items: flex-start;
        }
        
        .left-panel {
            flex: 1;
            min-width: 0;
        }
        
        .right-panel {
            flex: 1;
            min-width: 0;
        }
        
        .execution-content {
            flex: 1;
            min-width: 0;
        }
        
        .execution-description {
            color: #666;
            font-size: 12px;
            margin-top: 5px;
            line-height: 1.4;
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
        @media (max-width: 768px) {
            .side-by-side-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .left-panel,
            .right-panel {
                flex: none;
                width: 100%;
            }
        }
        
        /* ç·´ç¿’å•é¡Œç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .answer-section {
            margin: 30px 0;
            text-align: center;
        }
        
        .answer-btn {
            background: #ff9500;
            font-size: 16px;
            padding: 12px 24px;
        }
        
        .answer-btn:hover {
            background: #e6850e;
        }
        
        .answer-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .answer-container {
            margin-top: 20px;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="status" class="status loading">ãƒ–ãƒ­ãƒƒã‚¯èª­ã¿è¾¼ã¿ä¸­...</div>
    
    <div class="container">
        <div id="home-view">
            <div class="header">
                <h1>ğŸ® Scratchå­¦ç¿’ã‚µã‚¤ãƒˆ</h1>
                <p>æ¥½ã—ããƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’å­¦ã¼ã†ï¼</p>
            </div>
            
            <div class="lesson-grid">
                <div class="lesson-card" onclick="showProgramFlow()">
                    <div class="emoji">ğŸ“–</div>
                    <div class="lesson-title">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æµã‚Œ</div>
                    <div class="lesson-desc">ãƒ–ãƒ­ãƒƒã‚¯ãŒé †ç•ªã«å‹•ãæ§˜å­ã‚’å­¦ã¼ã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showConditionalMenu()">
                    <div class="emoji">ğŸ¤”</div>
                    <div class="lesson-title">æ¡ä»¶åˆ†å²</div>
                    <div class="lesson-desc">æ¡ä»¶ã«ã‚ˆã£ã¦å‹•ãã‚’å¤‰ãˆã‚ˆã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showLoop()">
                    <div class="emoji">ğŸ”„</div>
                    <div class="lesson-title">ç¹°ã‚Šè¿”ã—</div>
                    <div class="lesson-desc">åŒã˜å‹•ãã‚’ä½•åº¦ã‚‚å®Ÿè¡Œã—ã‚ˆã†ï¼</div>
                </div>
                
                <!-- Phase 1-4: æ–°æ©Ÿèƒ½ -->
                <div class="lesson-card" onclick="showCoordinates()">
                    <div class="emoji">ğŸ¯</div>
                    <div class="lesson-title">åº§æ¨™ã¨ã‚¹ãƒ†ãƒ¼ã‚¸</div>
                    <div class="lesson-desc">Xãƒ»Yåº§æ¨™ã§ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’å‹•ã‹ãã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showVariablesMenu()">
                    <div class="emoji">ğŸ“Š</div>
                    <div class="lesson-title">å¤‰æ•°ã¨è¨ˆç®—</div>
                    <div class="lesson-desc">æ•°ã‚’è¦šãˆã¦è¨ˆç®—ã—ã¦ã¿ã‚ˆã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showCostumes()">
                    <div class="emoji">ğŸ‘—</div>
                    <div class="lesson-title">è¦‹ãŸç›®ã®å¤‰æ›´</div>
                    <div class="lesson-desc">ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å§¿ã‚’å¤‰ãˆã‚ˆã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="console.log('Clone card clicked'); showClonesMenu();">
                    <div class="emoji">ğŸ‘¥</div>
                    <div class="lesson-title">ã‚¯ãƒ­ãƒ¼ãƒ³æ©Ÿèƒ½</div>
                    <div class="lesson-desc">ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’ãŸãã•ã‚“ä½œã£ã¦ã¿ã‚ˆã†ï¼</div>
                </div>
                
                <!-- æ–°æ©Ÿèƒ½è¿½åŠ  -->
                <div class="lesson-card" onclick="showSoundsMenu()">
                    <div class="emoji">ğŸµ</div>
                    <div class="lesson-title">éŸ³ã¨éŸ³æ¥½</div>
                    <div class="lesson-desc">éŸ³ã‚’é³´ã‚‰ã—ã¦æ¥½ã—ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚ã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showMessagesMenu()">
                    <div class="emoji">ğŸ“¢</div>
                    <div class="lesson-title">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ©Ÿèƒ½</div>
                    <div class="lesson-desc">ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆåŒå£«ã§ä¼šè©±ã•ã›ã‚ˆã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showBackgroundsMenu()">
                    <div class="emoji">ğŸ­</div>
                    <div class="lesson-title">èƒŒæ™¯ã¨ã‚¹ãƒ†ãƒ¼ã‚¸</div>
                    <div class="lesson-desc">ã‚¹ãƒ†ãƒ¼ã‚¸ã®èƒŒæ™¯ã‚’å¤‰ãˆã¦ä¸–ç•Œã‚’ä½œã‚ã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showListsMenu()">
                    <div class="emoji">ğŸ“‹</div>
                    <div class="lesson-title">ãƒªã‚¹ãƒˆ</div>
                    <div class="lesson-desc">ãŸãã•ã‚“ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ•´ç†ã—ã¦ä½¿ãŠã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showPenMenu()">
                    <div class="emoji">âœï¸</div>
                    <div class="lesson-title">ãƒšãƒ³æ©Ÿèƒ½</div>
                    <div class="lesson-desc">ç·šã‚„å›³å½¢ã‚’æã„ã¦èŠ¸è¡“ä½œå“ã‚’ä½œã‚ã†ï¼</div>
                </div>
            </div>
        </div>

        <div id="program-flow" style="display: none;">
            <div class="progress-bar">
                <div id="progress" class="progress-fill" style="width: 16.7%"></div>
            </div>
            <h2 id="step-title">ã‚¹ãƒ†ãƒƒãƒ— 1 / 6</h2>

            <!-- Step 1: çµæœã‚’è¦‹ã‚‹ -->
            <div id="step1" class="step-container step-active">
                <h3>ğŸ¯ ãã‚‡ã†ã¤ãã‚‹ã†ã”ãã®ã‚‚ãã²ã‚‡ã†</h3>
                <div class="info-box learn">
                    <strong>ğŸ“š ã“ã‚Œã‹ã‚‰ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                    ã­ã“ãŒé †ç•ªã«å‹•ãæ¥½ã—ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚<br>
                    â€¢ ã­ã“ãŒã€Œã“ã‚“ã«ã¡ã¯ï¼ã€ã¨ã‚ã„ã•ã¤<br>
                    â€¢ å°‘ã—å¾…ã£ã¦ã‹ã‚‰å³ã«å‹•ã<br>
                    â€¢ ãã‚‹ã£ã¨å›ã‚‹<br>
                    â€¢ æœ€å¾Œã«ã€Œã•ã‚ˆã†ãªã‚‰ï¼ã€ã¨ãŠã‚ã‹ã‚Œ<br><br>
                    <strong>ğŸ“ å‹‰å¼·ã®ãƒã‚¤ãƒ³ãƒˆ:</strong> ãƒ–ãƒ­ãƒƒã‚¯ãŒä¸Šã‹ã‚‰é †ç•ªã«å‹•ãã€Œé †æ¬¡å‡¦ç†ã€ã‚’ä½“é¨“ã—ã‚ˆã†ï¼
                </div>

                <h3>ğŸ¬ å®Œæˆã—ãŸå‹•ãã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼</h3>
                <p>ã¾ãšã¯å®Œæˆç‰ˆã‚’è¦‹ã¦ã€ã©ã‚“ãªå‹•ãã«ãªã‚‹ã‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã¾ã—ã‚‡ã†ã€‚</p>
                
                <!-- ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ -->
                <div class="animation-container">
                    <h4>ğŸ­ ç›®æ¨™ã¨ãªã‚‹ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã®å‹•ã</h4>
                    <div class="stage">
                        <div id="sprite" class="sprite">ğŸ±</div>
                        <div id="speech-bubble" class="speech-bubble"></div>
                        <button class="play-btn" onclick="playAnimation()">â–¶ï¸ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†ç”Ÿ</button>
                        <button class="reset-btn" onclick="resetAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    <div class="animation-status" id="animation-status">ç·‘ã®æ——ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹ã—ã¾ã—ã‚‡ã†ï¼</div>
                </div>

                <div class="info-box hint">
                    <strong>ğŸ¤” å‹•ãã®æµã‚Œã¯ï¼Ÿ</strong> ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒé †ç•ªã«ã€Œã‚ã„ã•ã¤â†’å¾…æ©Ÿâ†’ç§»å‹•â†’å›è»¢â†’ã‚ã„ã•ã¤ã€ã‚’è¡Œã„ã¾ã—ãŸã€‚ä¸€ã¤ãšã¤é †ç•ªã«å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ï¼
                </div>

                <h3>ğŸ“¦ ã“ã®ã†ã”ãã‚’ã¤ãã‚‹ãŸã‚ã«ã²ã¤ã‚ˆã†ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
                <p>ã†ãˆã®ã†ã”ãã‚’ã¤ãã‚‹ãŸã‚ã«ã€ã¤ãã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ã‚ˆã†ã—ã¾ã™ï¼š</p>
                
                <div class="blocks-grid">
                    <div class="block-item">
                        <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                        <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã¯ã˜ã¾ã‚Šï¼ˆã¿ã©ã‚Šã®ã¯ãŸãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">[ã“ã‚“ã«ã¡ã¯ï¼] ã¨ã„ã† :: looks</pre>
                        <div class="japanese-label">æœ€åˆã®ã‚ã„ã•ã¤ï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(1) ã³ã‚‡ã†ã¾ã¤ :: control</pre>
                        <div class="japanese-label">ã†ã”ãã®ã‚ã„ã ã‚’ã¤ãã‚‹ï¼ˆã›ã„ãã‚‡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 3å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(50) ã»ã†ã”ã‹ã™ :: motion</pre>
                        <div class="japanese-label">ã¿ãã«ã†ã”ãï¼ˆã†ã”ããƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">ã¿ãã« (90) ã©ã¾ã‚ã™ :: motion</pre>
                        <div class="japanese-label">90ã©ã¾ã‚ã‚‹ï¼ˆã†ã”ããƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">[ã•ã‚ˆã†ãªã‚‰ï¼] ã¨ã„ã† :: looks</pre>
                        <div class="japanese-label">æœ€å¾Œã®ãŠã‚ã‹ã‚Œï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                </div>

                <div class="info-box success">
                    <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’æ­£ã—ã„é †ç•ªã§çµ„ã¿ç«‹ã¦ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã—ã‚‡ã†ï¼
                </div>
            </div>

            <!-- Step 2: çµ„ã¿ç«‹ã¦ -->
            <div id="step2" class="step-container">
                <h3>ğŸ”§ ãƒ–ãƒ­ãƒƒã‚¯ã‚’ãã¿ãŸã¦ã¦ã¿ã‚ˆã†ï¼</h3>
                <p>ã•ã‚ã€ã˜ã£ã•ã„ã«ã¿ãŸã†ã”ãã‚’ã¤ãã‚‹ãŸã‚ã«ãƒ–ãƒ­ãƒƒã‚¯ã‚’ãŸã ã—ã„ã˜ã‚…ã‚“ã°ã‚“ã§ãã¿ãŸã¦ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
                
                <div class="block-container">
                    <h4>ğŸ¯ ãã¿ãŸã¦ã‹ãŸ:</h4>
                    <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
[ã“ã‚“ã«ã¡ã¯ï¼] ã¨ã„ã† :: looks
(1) ã³ã‚‡ã†ã¾ã¤ :: control
(50) ã»ã†ã”ã‹ã™ :: motion
(1) ã³ã‚‡ã†ã¾ã¤ :: control
ã¿ãã« (90) ã©ã¾ã‚ã™ :: motion
(1) ã³ã‚‡ã†ã¾ã¤ :: control
[ã•ã‚ˆã†ãªã‚‰ï¼] ã¨ã„ã† :: looks
                    </pre>
                </div>

                <div class="info-box success">
                    <strong>âœ… ã‚„ã£ã¦ã¿ã‚ˆã†ï¼</strong> ã˜ã£ã•ã„ã®Scratchã§ã“ã®ã¨ãŠã‚Šã«ãƒ–ãƒ­ãƒƒã‚¯ã‚’ãã¿ãŸã¦ã¦ã€ã¿ã©ã‚Šã®ã¯ãŸã‚’ãŠã—ã¦ã¿ã¦ãã ã•ã„ï¼
                </div>

                <div class="info-box hint">
                    <strong>ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆ:</strong> ãƒ–ãƒ­ãƒƒã‚¯ã¯ã†ãˆã‹ã‚‰ã—ãŸã¸ã€ã˜ã‚…ã‚“ã°ã‚“ã©ãŠã‚Šã«ãªã‚‰ã¹ã‚‹ã“ã¨ãŒãŸã„ã›ã¤ã§ã™ã€‚
                </div>
            </div>

            <!-- Step 3: è©³ã—ã„è§£èª¬ -->
            <div id="step3" class="step-container">
                <h3>ğŸ§  ãªãœã“ã®ã‚ˆã†ã«å‹•ãã®ï¼Ÿé †æ¬¡å‡¦ç†ã®ã²ã¿ã¤</h3>
                <p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒé †ç•ªé€šã‚Šã«å‹•ãç†ç”±ã‚’ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¦‹ãªãŒã‚‰ãã‚ã—ãå­¦ã³ã¾ã—ã‚‡ã†ã€‚</p>
                
                <!-- å·¦å³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ -->
                <div class="side-by-side-container">
                    <!-- å·¦å´: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ -->
                    <div class="left-panel">
                        <div class="animation-container">
                            <h4>ğŸ” å‹•ãã‚’ãã‚ã—ãè¦‹ã¦ã¿ã‚ˆã†</h4>
                            <div class="stage">
                                <div id="sprite2" class="sprite">ğŸ±</div>
                                <div id="speech-bubble2" class="speech-bubble"></div>
                                <button class="play-btn" onclick="playDetailedAnimation()">ğŸ”¬ ãã‚ã—ã„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†ç”Ÿ</button>
                                <button class="reset-btn" onclick="resetDetailedAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                            </div>
                            <div class="animation-status" id="detailed-status">ãã‚ã—ã„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æµã‚Œã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼</div>
                        </div>
                    </div>

                    <!-- å³å´: é †æ¬¡å‡¦ç†ã®è§£èª¬ -->
                    <div class="right-panel">
                        <div class="execution-container">
                            <h4>ğŸ“‹ é †æ¬¡å‡¦ç†ã®æµã‚Œ:</h4>
                            <div class="execution-item">
                                <div class="step-number">1</div>
                                <div class="execution-content">
                                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                                    <div class="execution-description">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã‚¹ã‚¿ãƒ¼ãƒˆã¡ã¦ã‚“</div>
                                </div>
                            </div>
                            <div class="execution-item">
                                <div class="step-number">2</div>
                                <div class="execution-content">
                                    <pre class="blocks">[ã“ã‚“ã«ã¡ã¯ï¼] ã¨ã„ã† :: looks</pre>
                                    <div class="execution-description">æœ€åˆã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼šã‚ã„ã•ã¤</div>
                                </div>
                            </div>
                            <div class="execution-item">
                                <div class="step-number">3</div>
                                <div class="execution-content">
                                    <pre class="blocks">(1) ã³ã‚‡ã†ã¾ã¤ :: control</pre>
                                    <div class="execution-description">ã‚ã„ã ã‚’ã‚ã‘ã¦ã¿ã‚„ã™ãã™ã‚‹</div>
                                </div>
                            </div>
                            <div class="execution-item">
                                <div class="step-number">4</div>
                                <div class="execution-content">
                                    <pre class="blocks">(50) ã»ã†ã”ã‹ã™ :: motion</pre>
                                    <div class="execution-description">ã¤ãã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼šã„ã©ã†</div>
                                </div>
                            </div>
                            <div class="execution-item">
                                <div class="step-number">5</div>
                                <div class="execution-content">
                                    <pre class="blocks">(1) ã³ã‚‡ã†ã¾ã¤ :: control</pre>
                                    <div class="execution-description">ã¾ãŸã‚ã„ã ã‚’ã‚ã‘ã‚‹</div>
                                </div>
                            </div>
                            <div class="execution-item">
                                <div class="step-number">6</div>
                                <div class="execution-content">
                                    <pre class="blocks">ã¿ãã« (90) ã©ã¾ã‚ã™ :: motion</pre>
                                    <div class="execution-description">ã¤ãã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼šã‹ã„ã¦ã‚“</div>
                                </div>
                            </div>
                            <div class="execution-item">
                                <div class="step-number">7</div>
                                <div class="execution-content">
                                    <pre class="blocks">(1) ã³ã‚‡ã†ã¾ã¤ :: control</pre>
                                    <div class="execution-description">æœ€å¾Œã®é–“</div>
                                </div>
                            </div>
                            <div class="execution-item">
                                <div class="step-number">8</div>
                                <div class="execution-content">
                                    <pre class="blocks">[ã•ã‚ˆã†ãªã‚‰ï¼] ã¨ã„ã† :: looks</pre>
                                    <div class="execution-description">æœ€å¾Œã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼šãŠã‚ã‹ã‚Œ</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-box learn">
                    <strong>ğŸ“ é †æ¬¡å‡¦ç†ã¨ã¯ï¼Ÿ</strong><br>
                    ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã‹ãªã‚‰ãš<strong>ä¸Šã‹ã‚‰ä¸‹ã¸ã€é †ç•ªé€šã‚Š</strong>ã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚<br>
                    ã“ã‚Œã‚’ã€Œé †æ¬¡å‡¦ç†ã€ã¨ã‚ˆã³ã¾ã™ã€‚<br>
                    <strong>1ã¤ã®ãƒ–ãƒ­ãƒƒã‚¯ãŒçµ‚ã‚ã£ã¦ã‹ã‚‰ã€æ¬¡ã®ãƒ–ãƒ­ãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã‚‹</strong>ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ï¼
                </div>

                <div class="info-box hint">
                    <strong>ğŸŒŸ ãŠã¼ãˆã¦ãŠã“ã†ï¼</strong><br>
                    â€¢ ãƒ–ãƒ­ãƒƒã‚¯ã¯ä¸Šã‹ã‚‰é †ç•ªã«å®Ÿè¡Œã•ã‚Œã‚‹<br>
                    â€¢ 1ã¤ãšã¤ã€é †ç•ªã‚’å¾…ã£ã¦å®Ÿè¡Œã•ã‚Œã‚‹<br>
                    â€¢ é€”ä¸­ã§ãƒ–ãƒ­ãƒƒã‚¯ãŒã¨ã°ã•ã‚Œã‚‹ã“ã¨ã¯ãªã„<br>
                    â€¢ ã€Œå¾…ã¤ã€ãƒ–ãƒ­ãƒƒã‚¯ã‚‚å¤§åˆ‡ãªå‡¦ç†ã®ä¸€éƒ¨ï¼
                </div>
            </div>

            <!-- Step 4: ç·´ç¿’å•é¡Œ1 -->
            <div id="step4" class="step-container">
                <h3>ğŸ¯ ç·´ç¿’å•é¡Œ1: ç°¡å˜ãªã‚ã„ã•ã¤ãƒ—ãƒ­ã‚°ãƒ©ãƒ </h3>
                <p>å­¦ã‚“ã ã“ã¨ã‚’æ´»ã‹ã—ã¦ã€è‡ªåˆ†ã§é †æ¬¡å‡¦ç†ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
                
                <div class="info-box learn">
                    <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                    ã­ã“ãŒæ¬¡ã®å‹•ãã‚’ã™ã‚‹ç°¡å˜ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ï¼š<br>
                    â€¢ ã­ã“ãŒã€ŒãŠã¯ã‚ˆã†ï¼ã€ã¨ã‚ã„ã•ã¤<br>
                    â€¢ 2ç§’å¾…ã¤<br>
                    â€¢ ã€Œä»Šæ—¥ã‚‚ãŒã‚“ã°ã‚ã†ï¼ã€ã¨ã¯ã’ã¾ã™<br>
                </div>

                <h3>ğŸ¬ ã‚‚ãã²ã‚‡ã†ã®ã†ã”ãã‚’ã‹ãã«ã‚“ã—ã‚ˆã†</h3>
                <div class="animation-container">
                    <h4>ğŸŒ… ã‚Œã‚“ã—ã‚…ã†ã‚‚ã‚“ã ã„1ã®ã†ã”ã</h4>
                    <div class="stage">
                        <div id="sprite-practice1" class="sprite">ğŸ±</div>
                        <div id="speech-bubble-practice1" class="speech-bubble"></div>
                        <button class="play-btn" onclick="playPractice1Animation()">â–¶ï¸ ç›®æ¨™ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†ç”Ÿ</button>
                        <button class="reset-btn" onclick="resetPractice1Animation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    <div class="animation-status" id="practice1-status">ç·´ç¿’å•é¡Œ1ã®ç›®æ¨™ã¨ãªã‚‹å‹•ãã§ã™</div>
                </div>

                <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
                <p>ä¸‹ã®ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã‹ã‚‰å¿…è¦ãªã‚‚ã®ã‚’é¸ã‚“ã§ã€æ­£ã—ã„é †ç•ªã§çµ„ã¿ç«‹ã¦ã¦ãã ã•ã„ï¼š</p>
                
                <div class="blocks-grid">
                    <div class="block-item">
                        <pre class="blocks">[ãã‚‡ã†ã‚‚ãŒã‚“ã°ã‚ã†ï¼] ã¨ã„ã† :: looks</pre>
                        <div class="japanese-label">ãã‚‡ã†ã‚‚ãŒã‚“ã°ã‚ã†ï¼ã¨è¨€ã†ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                        <div class="japanese-label">ç·‘ã®æ——ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(2) ã³ã‚‡ã†ã¾ã¤ :: control</pre>
                        <div class="japanese-label">2ç§’å¾…ã¤ï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">[ãŠã¯ã‚ˆã†ï¼] ã¨ã„ã† :: looks</pre>
                        <div class="japanese-label">ãŠã¯ã‚ˆã†ï¼ã¨è¨€ã†ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                </div>

                <div class="answer-section">
                    <button class="btn answer-btn" onclick="showAnswer1()" id="answerBtn1">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                    <div id="answer1" class="answer-container" style="display: none;">
                        <h4>âœ… æ­£è§£:</h4>
                        <div class="block-container">
                            <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
[ãŠã¯ã‚ˆã†ï¼] ã¨ã„ã† :: looks
(2) ã³ã‚‡ã†ã¾ã¤ :: control
[ãã‚‡ã†ã‚‚ãŒã‚“ã°ã‚ã†ï¼] ã¨ã„ã† :: looks
                            </pre>
                        </div>
                        <div class="info-box success">
                            <strong>ğŸ‰ ã‚ˆãã§ãã¾ã—ãŸï¼</strong> é †æ¬¡å‡¦ç†ã®åŸºæœ¬ãŒã—ã£ã‹ã‚Šã¨ç†è§£ã§ãã¦ã„ã¾ã™ã€‚
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 5: ç·´ç¿’å•é¡Œ2 -->
            <div id="step5" class="step-container">
                <h3>ğŸ¯ ç·´ç¿’å•é¡Œ2: å‹•ãã®ã‚ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ </h3>
                <p>ä»Šåº¦ã¯å‹•ãã‚‚å«ã‚ãŸã€å°‘ã—è¤‡é›‘ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«æŒ‘æˆ¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
                
                <div class="info-box learn">
                    <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                    ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒæ¬¡ã®å‹•ãã‚’ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ï¼š<br>
                    â€¢ ã€Œå‡ºç™ºã—ã¾ã™ï¼ã€ã¨è¨€ã†<br>
                    â€¢ å·¦ã«30æ­©å‹•ã<br>
                    â€¢ 1ç§’å¾…ã¤<br>
                    â€¢ å·¦ã«90åº¦å›è»¢<br>
                    â€¢ ã€Œåˆ°ç€ã—ã¾ã—ãŸï¼ã€ã¨è¨€ã†<br>
                </div>

                <h3>ğŸ¬ ç›®æ¨™ã®å‹•ãã‚’ç¢ºèªã—ã‚ˆã†</h3>
                <div class="animation-container">
                    <h4>ğŸš— ç·´ç¿’å•é¡Œ2ã®å‹•ã</h4>
                    <div class="stage">
                        <div id="sprite-practice2" class="sprite">ğŸ±</div>
                        <div id="speech-bubble-practice2" class="speech-bubble"></div>
                        <button class="play-btn" onclick="playPractice2Animation()">â–¶ï¸ ç›®æ¨™ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†ç”Ÿ</button>
                        <button class="reset-btn" onclick="resetPractice2Animation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    <div class="animation-status" id="practice2-status">ç·´ç¿’å•é¡Œ2ã®ç›®æ¨™ã¨ãªã‚‹å‹•ãã§ã™</div>
                </div>

                <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
                <p>ä¸‹ã®ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã‹ã‚‰å¿…è¦ãªã‚‚ã®ã‚’é¸ã‚“ã§ã€æ­£ã—ã„é †ç•ªã§çµ„ã¿ç«‹ã¦ã¦ãã ã•ã„ï¼š</p>
                
                <div class="blocks-grid">
                    <div class="block-item">
                        <pre class="blocks">ã²ã ã‚Šã« (90) ã©ã¾ã‚ã™ :: motion</pre>
                        <div class="japanese-label">å·¦ã«90åº¦å›ã™ï¼ˆå‹•ãï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">[ã¨ã†ã¡ã‚ƒãã—ã¾ã—ãŸï¼] ã¨ã„ã† :: looks</pre>
                        <div class="japanese-label">åˆ°ç€ã—ã¾ã—ãŸï¼ã¨è¨€ã†ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                        <div class="japanese-label">ç·‘ã®æ——ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(1) ã³ã‚‡ã†ã¾ã¤ :: control</pre>
                        <div class="japanese-label">1ç§’å¾…ã¤ï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(-90) ã©ã«ã‚€ã‘ã‚‹ :: motion</pre>
                        <div class="japanese-label">å·¦å‘ãã«ãªã‚‹ï¼ˆå‹•ãï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(30) ã»ã†ã”ã‹ã™ :: motion</pre>
                        <div class="japanese-label">30æ­©å‹•ã‹ã™ï¼ˆå‹•ãï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">[ã—ã‚…ã£ã±ã¤ã—ã¾ã™ï¼] ã¨ã„ã† :: looks</pre>
                        <div class="japanese-label">å‡ºç™ºã—ã¾ã™ï¼ã¨è¨€ã†ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                </div>

                <div class="answer-section">
                    <button class="btn answer-btn" onclick="showAnswer2()" id="answerBtn2">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                    <div id="answer2" class="answer-container" style="display: none;">
                        <h4>âœ… æ­£è§£:</h4>
                        <div class="block-container">
                            <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
[ã—ã‚…ã£ã±ã¤ã—ã¾ã™ï¼] ã¨ã„ã† :: looks
(-90) ã©ã«ã‚€ã‘ã‚‹ :: motion
(30) ã»ã†ã”ã‹ã™ :: motion
(1) ã³ã‚‡ã†ã¾ã¤ :: control
(90) ã©ã¾ã‚ã™ :: motion
[ã¨ã†ã¡ã‚ƒãã—ã¾ã—ãŸï¼] ã¨ã„ã† :: looks
                            </pre>
                        </div>
                        <div class="info-box success">
                            <strong>ğŸ‰ ç´ æ™´ã‚‰ã—ã„ï¼</strong> å‹•ãã¨å¾…æ©Ÿã‚’çµ„ã¿åˆã‚ã›ãŸé †æ¬¡å‡¦ç†ãŒã§ãã¾ã—ãŸã€‚
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 6: ç·´ç¿’å•é¡Œ3 -->
            <div id="step6" class="step-container">
                <h3>ğŸ¯ ç·´ç¿’å•é¡Œ3: è¤‡é›‘ãªãƒ€ãƒ³ã‚¹ãƒ—ãƒ­ã‚°ãƒ©ãƒ </h3>
                <p>æœ€å¾Œã¯ä¸€ç•ªé›£ã—ã„å•é¡Œã§ã™ã€‚ãŸãã•ã‚“ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã£ãŸãƒ€ãƒ³ã‚¹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ï¼</p>
                
                <div class="info-box learn">
                    <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                    ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒæ¬¡ã®å‹•ãã‚’ã™ã‚‹ãƒ€ãƒ³ã‚¹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ï¼š<br>
                    â€¢ ã€Œãƒ€ãƒ³ã‚¹ã‚’å§‹ã‚ã¾ã™â™ªã€ã¨è¨€ã†<br>
                    â€¢ å³ã«15æ­©å‹•ã â†’ å³ã«90åº¦å›è»¢<br>
                    â€¢ ã€Œãã‚‹ãã‚‹ã€œã€ã¨è¨€ã†<br>
                    â€¢ å³ã«90åº¦å›è»¢ â†’ å³ã«15æ­©å‹•ã<br>
                    â€¢ ã€Œãƒ€ãƒ³ã‚¹çµ‚äº†ï¼ã€ã¨è¨€ã†<br>
                </div>

                <h3>ğŸ¬ ç›®æ¨™ã®å‹•ãã‚’ç¢ºèªã—ã‚ˆã†</h3>
                <div class="animation-container">
                    <h4>ğŸ’ƒ ç·´ç¿’å•é¡Œ3ã®å‹•ã</h4>
                    <div class="stage">
                        <div id="sprite-practice3" class="sprite">ğŸ±</div>
                        <div id="speech-bubble-practice3" class="speech-bubble"></div>
                        <button class="play-btn" onclick="playPractice3Animation()">â–¶ï¸ ç›®æ¨™ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†ç”Ÿ</button>
                        <button class="reset-btn" onclick="resetPractice3Animation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    <div class="animation-status" id="practice3-status">ç·´ç¿’å•é¡Œ3ã®ç›®æ¨™ã¨ãªã‚‹å‹•ãã§ã™</div>
                </div>

                <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
                <p>ä¸‹ã®ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã‹ã‚‰å¿…è¦ãªã‚‚ã®ã‚’é¸ã‚“ã§ã€æ­£ã—ã„é †ç•ªã§çµ„ã¿ç«‹ã¦ã¦ãã ã•ã„ï¼š</p>
                
                <div class="blocks-grid">
                    <div class="block-item">
                        <pre class="blocks">ã¿ãã« (90) ã©ã¾ã‚ã™ :: motion</pre>
                        <div class="japanese-label">å³ã«90åº¦å›ã™ï¼ˆå‹•ãï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 2å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">[ãƒ€ãƒ³ã‚¹ãŠã‚ã‚Šï¼] ã¨ã„ã† :: looks</pre>
                        <div class="japanese-label">ãƒ€ãƒ³ã‚¹çµ‚ã‚ã‚Šï¼ã¨è¨€ã†ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(15) ã»ã†ã”ã‹ã™ :: motion</pre>
                        <div class="japanese-label">15æ­©å‹•ã‹ã™ï¼ˆå‹•ãï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 2å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">[ãã‚‹ãã‚‹ã€œ] ã¨ã„ã† :: looks</pre>
                        <div class="japanese-label">ãã‚‹ãã‚‹ã€œã¨è¨€ã†ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                        <div class="japanese-label">ç·‘ã®æ——ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(90) ã©ã¾ã‚ã™ :: motion</pre>
                        <div class="japanese-label">90åº¦å›ã™ï¼ˆå‹•ãï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 0å€‹ï¼ˆã¿ãã«90åº¦å›ã™ã‚’ä½¿ç”¨ï¼‰</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">[ãƒ€ãƒ³ã‚¹ã‚’ã¯ã˜ã‚ã¾ã™â™ª] ã¨ã„ã† :: looks</pre>
                        <div class="japanese-label">ãƒ€ãƒ³ã‚¹ã‚’ã¯ã˜ã‚ã¾ã™â™ªã¨è¨€ã†ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(1) ã³ã‚‡ã†ã¾ã¤ :: control</pre>
                        <div class="japanese-label">1ç§’å¾…ã¤ï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 5å€‹</strong></div>
                    </div>
                </div>

                <div class="answer-section">
                    <button class="btn answer-btn" onclick="showAnswer3()" id="answerBtn3">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                    <div id="answer3" class="answer-container" style="display: none;">
                        <h4>âœ… æ­£è§£:</h4>
                        <div class="block-container">
                            <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
[ãƒ€ãƒ³ã‚¹ã‚’ã¯ã˜ã‚ã¾ã™â™ª] ã¨ã„ã† :: looks
(1) ã³ã‚‡ã†ã¾ã¤ :: control
(15) ã»ã†ã”ã‹ã™ :: motion
(1) ã³ã‚‡ã†ã¾ã¤ :: control
(90) ã©ã¾ã‚ã™ :: motion
[ãã‚‹ãã‚‹ã€œ] ã¨ã„ã† :: looks
(1) ã³ã‚‡ã†ã¾ã¤ :: control
(90) ã©ã¾ã‚ã™ :: motion
(1) ã³ã‚‡ã†ã¾ã¤ :: control
(15) ã»ã†ã”ã‹ã™ :: motion
(1) ã³ã‚‡ã†ã¾ã¤ :: control
[ãƒ€ãƒ³ã‚¹ãŠã‚ã‚Šï¼] ã¨ã„ã† :: looks
                            </pre>
                        </div>
                        <div class="info-box success">
                            <strong>ğŸ‰ å®Œç’§ã§ã™ï¼</strong> è¤‡é›‘ãªé †æ¬¡å‡¦ç†ã‚’æ­£ã—ãçµ„ã¿ç«‹ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚é †æ¬¡å‡¦ç†ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸã­ï¼
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-nav">
                <button class="btn" id="prevBtn-program" onclick="changeStep(-1)" disabled>å‰ã¸</button>
                <button class="btn" id="nextBtn-program" onclick="changeStep(1)">æ¬¡ã¸</button>
                <button class="btn" onclick="showHome()" style="background: #666;">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
            </div>
        </div>



        <!-- ç¹°ã‚Šè¿”ã— -->
        <div id="loop" style="display: none;">
            <div class="progress-bar">
                <div id="progress-loop" class="progress-fill" style="width: 16.7%"></div>
            </div>
            <h2 id="step-title-loop">ã‚¹ãƒ†ãƒƒãƒ— 1 / 6</h2>

            <!-- Step 1: çµæœã‚’è¦‹ã‚‹ -->
            <div id="loop-step1" class="step-container step-active">
                <h3>ğŸ¯ ä»Šæ—¥ä½œã‚‹å‹•ãã®ç›®æ¨™</h3>
                <div class="info-box learn">
                    <strong>ğŸ“š ã“ã‚Œã‹ã‚‰ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                    åŒã˜å‹•ãã‚’ä½•åº¦ã‚‚ç¹°ã‚Šè¿”ã™ã€Œç¹°ã‚Šè¿”ã—ã€ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚<br>
                    â€¢ ä½•å›ç¹°ã‚Šè¿”ã™ã‹ã‚’æ±ºã‚ã‚‹<br>
                    â€¢ åŒã˜å‹•ãã‚’æŒ‡å®šã—ãŸå›æ•°ã ã‘å®Ÿè¡Œ<br>
                    â€¢ ãšã£ã¨ç¹°ã‚Šè¿”ã™ç„¡é™ãƒ«ãƒ¼ãƒ—<br>
                    â€¢ æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã™<br><br>
                    <strong>ğŸ“ å­¦ç¿’ã®ãƒã‚¤ãƒ³ãƒˆ:</strong> åŒã˜å‡¦ç†ã‚’åŠ¹ç‡çš„ã«å®Ÿè¡Œã™ã‚‹ã€Œç¹°ã‚Šè¿”ã—ã€ã‚’ä½“é¨“ã—ã‚ˆã†ï¼
                </div>

                <h3>ğŸ¬ ç¹°ã‚Šè¿”ã—ã®å‹•ãã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼</h3>
                <p>ã¾ãšå®Œæˆç‰ˆã‚’è¦‹ã¦ã€ç¹°ã‚Šè¿”ã—ã«ã‚ˆã£ã¦ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒè¦å‰‡çš„ã«å‹•ãæ§˜å­ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
                
                <div class="animation-container">
                    <h4>ğŸ”„ ç¹°ã‚Šè¿”ã—ã§å‹•ãã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ</h4>
                    <div class="stage">
                        <div id="sprite-loop" class="sprite">ğŸ±</div>
                        <div id="speech-bubble-loop" class="speech-bubble"></div>
                        <button class="play-btn" onclick="playLoopAnimation()">â–¶ï¸ ç¹°ã‚Šè¿”ã—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†ç”Ÿ</button>
                        <button class="reset-btn" onclick="resetLoopAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    <div class="animation-status" id="loop-status">åŒã˜å‹•ãã‚’ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã—ã¾ã™ï¼</div>
                </div>

                <div class="info-box hint">
                    <strong>ğŸ¤” å‹•ãã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ï¼Ÿ</strong> ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒã€Œ10æ­©å‹•ã„ã¦â†’å³ã«36åº¦å›è»¢ã€ã‚’10å›ç¹°ã‚Šè¿”ã—ã¾ã—ãŸã€‚1ã¤ãšã¤æ›¸ãã¨å¤§å¤‰ã§ã™ãŒã€ç¹°ã‚Šè¿”ã—ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã†ã¨ç°¡å˜ã«æ›¸ã‘ã¾ã™ï¼
                </div>

                <h3>ğŸ“¦ ã“ã®å‹•ãã‚’ä½œã‚‹ãŸã‚ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
                <p>ä¸Šã®ç¹°ã‚Šè¿”ã—å‹•ä½œã‚’ä½œã‚‹ãŸã‚ã«ã€æ¬¡ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ç”¨æ„ã—ã¾ã™ï¼š</p>
                
                <div class="blocks-grid">
                    <div class="block-item">
                        <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                        <div class="japanese-label"><strong>ğŸŸ¡ ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã¯ã˜ã¾ã‚Šï¼ˆã¯ãŸãŒãŠã•ã‚ŒãŸã¨ãï¼‰</strong><br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(10) å›ç¹°ã‚Šè¿”ã™ {
} :: control</pre>
                        <div class="japanese-label"><strong>ğŸ”µ 10å›ç¹°ã‚Šè¿”ã™ï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong><br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(10) æ­©å‹•ã‹ã™ :: motion</pre>
                        <div class="japanese-label"><strong>ğŸ”· ã¾ãˆã«ã™ã™ã‚€å‹•ãï¼ˆå‹•ããƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong><br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">å³ã« (36) åº¦å›ã™ :: motion</pre>
                        <div class="japanese-label"><strong>ğŸ”· å›è»¢ã™ã‚‹å‹•ãï¼ˆå‹•ããƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong><br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(1) ç§’å¾…ã¤ :: control</pre>
                        <div class="japanese-label"><strong>ğŸ”µ å¾…æ©Ÿã™ã‚‹ï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong><br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                </div>

                <div class="info-box success">
                    <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã£ã¦ç¹°ã‚Šè¿”ã—ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®çµ„ã¿ç«‹ã¦æ–¹ã‚’å­¦ã³ã¾ã—ã‚‡ã†ï¼
                </div>
            </div>

            <!-- Step 2: çµ„ã¿ç«‹ã¦ã¨ãƒ­ã‚¸ãƒƒã‚¯è§£èª¬ -->
            <div id="loop-step2" class="step-container">
                <h3>ğŸ”§ ç¹°ã‚Šè¿”ã—ãƒ–ãƒ­ãƒƒã‚¯ã‚’çµ„ã¿ç«‹ã¦ã¦ã¿ã‚ˆã†ï¼</h3>
                <p>ã€Œrepeatã€ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã£ã¦ã€åŒã˜å‹•ãã‚’åŠ¹ç‡çš„ã«ç¹°ã‚Šè¿”ã™ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
                
                <div class="block-container">
                    <h4>ğŸ¯ ãã¿ãŸã¦ã‹ãŸ:</h4>
                    <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(10) å›ç¹°ã‚Šè¿”ã™ {
(10) æ­©å‹•ã‹ã™ :: motion
å³ã« (36) åº¦å›ã™ :: motion
(1) ç§’å¾…ã¤ :: control
} :: control
                    </pre>
                    
                    <div class="info-box hint" style="margin-top: 15px;">
                        <strong>ğŸ“– æ—¥æœ¬èªã§ã®èª­ã¿æ–¹:</strong><br>
                        <code>repeat (æ•°) ã€œ end</code> = <strong>ã€Œã€œã‚’â—‹å›ç¹°ã‚Šè¿”ã™ã€</strong><br>
                        ã“ã®Cå­—å‹ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã«å…¥ã£ãŸå‹•ãã‚’ã€æŒ‡å®šã—ãŸå›æ•°ã ã‘ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã—ã¾ã™ã€‚
                    </div>
                </div>

                <h3>ğŸ§  ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒã©ã†å‹•ãã‹è¦‹ã¦ã¿ã‚ˆã†</h3>
                <p>çµ„ã¿ç«‹ã¦ãŸãƒ–ãƒ­ãƒƒã‚¯ãŒã©ã®ã‚ˆã†ãªæµã‚Œã§ã˜ã£ã“ã†ã•ã‚Œã‚‹ã‹ã€ãã‚ã—ãè§£èª¬ã—ã¾ã™ã€‚</p>
                
                <div class="flow-container">
                    <h4>ğŸ“‹ ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œãƒ•ãƒ­ãƒ¼</h4>
                    <div class="flow-chart">
                        <div class="flow-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <strong>ğŸš© ãƒ—ãƒ­ã‚°ãƒ©ãƒ é–‹å§‹</strong><br>
                                <code>@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã</code>
                            </div>
                        </div>
                        â†“
                        <div class="flow-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <strong>ğŸ”„ ç¹°ã‚Šè¿”ã—é–‹å§‹</strong><br>
                                <code>10å›ç¹°ã‚Šè¿”ã—é–‹å§‹</code><br>
                                <small>ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ï¼š1å›ç›®</small>
                            </div>
                        </div>
                        â†“
                        <div class="flow-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <strong>ğŸš¶ 10æ­©å‹•ã‹ã™</strong><br>
                                <code>å‰ã«10æ­©é€²ã‚€</code>
                            </div>
                        </div>
                        â†“
                        <div class="flow-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <strong>ğŸ”„ 36åº¦å›è»¢</strong><br>
                                <code>å³ã«36åº¦å›ã™</code>
                            </div>
                        </div>
                        â†“
                        <div class="flow-step">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <strong>â° 1ç§’å¾…ã¤</strong><br>
                                <code>å‹•ãã‚’ç¢ºèªã—ã‚„ã™ãã™ã‚‹</code>
                            </div>
                        </div>
                        â†“
                        <div class="flow-decision">
                            <div class="decision-content">
                                <strong>â“ ç¹°ã‚Šè¿”ã—åˆ¤å®š</strong><br>
                                <code>ã¾ã 10å›ã«é”ã—ã¦ã„ãªã„ï¼Ÿ</code>
                            </div>
                        </div>
                        <div class="flow-branches">
                            <div class="branch-true">
                                <strong>âœ… ã¯ã„</strong><br>
                                ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼+1ã—ã¦<br>ã‚¹ãƒ†ãƒƒãƒ—3ã«æˆ»ã‚‹
                            </div>
                            <div class="branch-false">
                                <strong>âŒ ã„ã„ãˆ</strong><br>
                                10å›å®Œäº†ã—ãŸã®ã§<br>ç¹°ã‚Šè¿”ã—çµ‚äº†
                            </div>
                        </div>
                        â†“
                        <div class="flow-step">
                            <div class="step-number">ğŸ</div>
                            <div class="step-content">
                                <strong>çµ‚äº†</strong><br>
                                ãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Œäº†
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-box learn">
                    <strong>ğŸ“ ç¹°ã‚Šè¿”ã—ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</strong><br>
                    â€¢ <strong>åŠ¹ç‡æ€§</strong>ï¼šåŒã˜ã‚³ãƒ¼ãƒ‰ã‚’ä½•åº¦ã‚‚æ›¸ãå¿…è¦ãŒãªã„<br>
                    â€¢ <strong>æ­£ç¢ºæ€§</strong>ï¼šç¹°ã‚Šè¿”ã—å›æ•°ã‚’è‡ªå‹•ã§ç®¡ç†<br>
                    â€¢ <strong>ä¿å®ˆæ€§</strong>ï¼šä¸­èº«ã‚’å¤‰æ›´ã™ã‚Œã°å…¨ã¦ã®ç¹°ã‚Šè¿”ã—ã«é©ç”¨<br>
                    â€¢ <strong>å¯èª­æ€§</strong>ï¼šã‚³ãƒ¼ãƒ‰ãŒçŸ­ãã¦åˆ†ã‹ã‚Šã‚„ã™ã„
                </div>
            </div>

            <!-- Step 3: æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã— - ç›®æ¨™ -->
            <div id="loop-step3" class="step-container">
                <h3>ğŸ¯ ä»Šåº¦ä½œã‚‹å‹•ãã®ç›®æ¨™</h3>
                <div class="info-box learn">
                    <strong>ğŸ“š ã“ã‚Œã‹ã‚‰ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                    æ¡ä»¶ãŒæº€ãŸã•ã‚Œã‚‹ã¾ã§ç¹°ã‚Šè¿”ã™ã€Œrepeat untilã€ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚<br>
                    â€¢ ç«¯ã«ç€ãã¾ã§ç¹°ã‚Šè¿”ã—å‹•ã<br>
                    â€¢ æ¡ä»¶ã‚’è‡ªåˆ†ã§æ±ºã‚ã‚‰ã‚Œã‚‹<br>
                    â€¢ ä½•å›ç¹°ã‚Šè¿”ã™ã‹åˆ†ã‹ã‚‰ãªã„æ™‚ã«ä¾¿åˆ©<br>
                    â€¢ æ¡ä»¶ãŒæº€ãŸã•ã‚ŒãŸã‚‰è‡ªå‹•ã§æ­¢ã¾ã‚‹<br><br>
                    <strong>ğŸ“ å­¦ç¿’ã®ãƒã‚¤ãƒ³ãƒˆ:</strong> å›æ•°ã§ã¯ãªãã€Œæ¡ä»¶ã€ã§ç¹°ã‚Šè¿”ã—ã‚’åˆ¶å¾¡ã—ã‚ˆã†ï¼
                </div>

                <h3>ğŸ¬ æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã—ã®å‹•ãã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼</h3>
                <p>ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒç«¯ã«ç€ãã¾ã§å‹•ãç¶šã‘ã‚‹æ§˜å­ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
                
                <div class="animation-container">
                    <h4>ğŸš€ ç«¯ã¾ã§å‹•ãã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ</h4>
                    <div class="stage">
                        <div id="sprite-until" class="sprite">ğŸ±</div>
                        <div id="speech-bubble-until" class="speech-bubble"></div>
                        <button class="play-btn" onclick="playUntilAnimation()">â–¶ï¸ æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</button>
                        <button class="reset-btn" onclick="resetUntilAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    <div class="animation-status" id="until-status">ç«¯ã«ç€ãã¾ã§å‹•ãç¶šã‘ã¾ã™ï¼</div>
                </div>

                <div class="info-box hint">
                    <strong>ğŸ¤” å‹•ãã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ï¼Ÿ</strong> ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒã€Œç«¯ã«ç€ãã€ã¨ã„ã†æ¡ä»¶ãŒæº€ãŸã•ã‚Œã‚‹ã¾ã§ã€10æ­©ãšã¤å‹•ãç¶šã‘ã¾ã—ãŸã€‚ä½•æ­©ã§ç«¯ã«ç€ãã‹ã¯åˆ†ã‹ã‚‰ãªã„ã®ã§ã€æ¡ä»¶ã§ã®åˆ¶å¾¡ãŒä¾¿åˆ©ã§ã™ï¼
                </div>

                <h3>ğŸ“¦ ã“ã®å‹•ãã‚’ä½œã‚‹ãŸã‚ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
                <p>ä¸Šã®æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã—å‹•ä½œã‚’ä½œã‚‹ãŸã‚ã«ã€æ¬¡ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ç”¨æ„ã—ã¾ã™ï¼š</p>
                
                <div class="blocks-grid">
                    <div class="block-item">
                        <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                        <div class="japanese-label"><strong>ğŸŸ¡ ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã¯ã˜ã¾ã‚Šï¼ˆã¯ãŸãŒãŠã•ã‚ŒãŸã¨ãï¼‰</strong><br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks"><>ã¾ã§ç¹°ã‚Šè¿”ã™ {
} :: control</pre>
                        <div class="japanese-label"><strong>ğŸ”µ æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã™ï¼ˆæ¡ä»¶ä»˜ããƒ«ãƒ¼ãƒ—ãƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong><br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks"><(ç«¯ v)ã«è§¦ã‚ŒãŸ :: sensing></pre>
                        <div class="japanese-label"><strong>ğŸŸ¢ ã¯ã—ã«è§¦ã‚ŒãŸã‹ã‚’èª¿ã¹ã‚‹ï¼ˆèª¿ã¹ã‚‹ãƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong><br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(10) æ­©å‹•ã‹ã™ :: motion</pre>
                        <div class="japanese-label"><strong>ğŸ”· ã¾ãˆã«ã™ã™ã‚€å‹•ãï¼ˆå‹•ããƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong><br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(0.5) ç§’å¾…ã¤ :: control</pre>
                        <div class="japanese-label"><strong>ğŸ”µ çŸ­ã„å¾…æ©Ÿï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong><br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                </div>

                <div class="info-box success">
                    <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã£ã¦æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã—ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®çµ„ã¿ç«‹ã¦æ–¹ã‚’å­¦ã³ã¾ã—ã‚‡ã†ï¼
                </div>
            </div>

            <!-- Step 4: æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã— - çµ„ã¿ç«‹ã¦ -->
            <div id="loop-step4" class="step-container">
                <h3>ğŸ”§ æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã—ãƒ–ãƒ­ãƒƒã‚¯ã‚’çµ„ã¿ç«‹ã¦ã¦ã¿ã‚ˆã†ï¼</h3>
                <p>ã€Œrepeat untilã€ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã£ã¦ã€æ¡ä»¶ãŒæº€ãŸã•ã‚Œã‚‹ã¾ã§å‹•ãç¶šã‘ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
                
                <div class="block-container">
                    <h4>ğŸ¯ ãã¿ãŸã¦ã‹ãŸ:</h4>
                    <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
<(ç«¯ v)ã«è§¦ã‚ŒãŸ :: sensing>ã¾ã§ç¹°ã‚Šè¿”ã™ {
(10) æ­©å‹•ã‹ã™ :: motion
(0.5) ç§’å¾…ã¤ :: control
} :: control
                    </pre>
                    
                    <div class="info-box hint" style="margin-top: 15px;">
                        <strong>ğŸ“– æ—¥æœ¬èªã§ã®èª­ã¿æ–¹:</strong><br>
                        <code>repeat until &lt;æ¡ä»¶&gt; ã€œ end</code> = <strong>ã€Œæ¡ä»¶ãŒæº€ãŸã•ã‚Œã‚‹ã¾ã§ã€œã‚’ç¹°ã‚Šè¿”ã™ã€</strong><br>
                        æ¡ä»¶ãŒçœŸï¼ˆTrueï¼‰ã«ãªã‚‹ã¾ã§ã€ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­èº«ã‚’ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã—ã¾ã™ã€‚
                    </div>
                </div>

                <h3>ğŸ§  ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒã©ã†å‹•ãã‹è¦‹ã¦ã¿ã‚ˆã†</h3>
                <p>çµ„ã¿ç«‹ã¦ãŸãƒ–ãƒ­ãƒƒã‚¯ãŒã©ã®ã‚ˆã†ãªæµã‚Œã§ã˜ã£ã“ã†ã•ã‚Œã‚‹ã‹ã€ãã‚ã—ãè§£èª¬ã—ã¾ã™ã€‚</p>
                
                <div class="flow-container">
                    <h4>ğŸ“‹ ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œãƒ•ãƒ­ãƒ¼</h4>
                    <div class="flow-chart">
                        <div class="flow-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <strong>ğŸš© ãƒ—ãƒ­ã‚°ãƒ©ãƒ é–‹å§‹</strong><br>
                                <code>@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã</code>
                            </div>
                        </div>
                        â†“
                        <div class="flow-decision">
                            <div class="decision-content">
                                <strong>â“ æ¡ä»¶ãƒã‚§ãƒƒã‚¯</strong><br>
                                <code>ã¯ã—ã«è§¦ã‚ŒãŸï¼Ÿ</code>
                            </div>
                        </div>
                        <div class="flow-branches">
                            <div class="branch-true">
                                <strong>âœ… ã¯ã„ï¼ˆçœŸï¼‰</strong><br>
                                ã¯ã—ã«è§¦ã‚ŒãŸ<br>
                                â†“<br>
                                <strong>ğŸ ç¹°ã‚Šè¿”ã—çµ‚äº†</strong>
                            </div>
                            <div class="branch-false">
                                <strong>âŒ ã„ã„ãˆï¼ˆå½ï¼‰</strong><br>
                                ã¾ã ç«¯ã«ç€ã„ã¦ã„ãªã„<br>
                                â†“<br>
                                <strong>ç¹°ã‚Šè¿”ã—ç¶šè¡Œ</strong>
                            </div>
                        </div>
                        â†“ï¼ˆã„ã„ãˆã®å ´åˆï¼‰
                        <div class="flow-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <strong>ğŸš¶ 10æ­©å‹•ã‹ã™</strong><br>
                                <code>å‰ã«10æ­©é€²ã‚€</code>
                            </div>
                        </div>
                        â†“
                        <div class="flow-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <strong>â° 0.5ç§’å¾…ã¤</strong><br>
                                <code>å‹•ãã‚’ç¢ºèªã—ã‚„ã™ãã™ã‚‹</code>
                            </div>
                        </div>
                        â†“
                        <div class="flow-step">
                            <div class="step-content">
                                <strong>ğŸ”„ æ¡ä»¶ãƒã‚§ãƒƒã‚¯ã«æˆ»ã‚‹</strong><br>
                                <code>å†ã³ã€Œã¯ã—ã«è§¦ã‚ŒãŸï¼Ÿã€ã‚’ç¢ºèª</code>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-box learn">
                    <strong>ğŸ“ repeat ã¨ repeat until ã®é•ã„</strong><br>
                    â€¢ <strong>repeat (10)</strong>ï¼šæ±ºã¾ã£ãŸå›æ•°ï¼ˆ10å›ï¼‰ç¹°ã‚Šè¿”ã™<br>
                    â€¢ <strong>repeat until</strong>ï¼šæ¡ä»¶ãŒæº€ãŸã•ã‚Œã‚‹ã¾ã§ç¹°ã‚Šè¿”ã™<br>
                    â€¢ <strong>repeat until</strong>ï¼šä½•å›ç¹°ã‚Šè¿”ã™ã‹åˆ†ã‹ã‚‰ãªã„æ™‚ã«ä¾¿åˆ©<br>
                    â€¢ <strong>æ¡ä»¶</strong>ï¼šTrueï¼ˆçœŸï¼‰ã«ãªã£ãŸã‚‰ç¹°ã‚Šè¿”ã—ãŒæ­¢ã¾ã‚‹
                </div>
            </div>

            <!-- Step 5: ç·´ç¿’å•é¡Œ1 -->
            <div id="loop-step5" class="step-container">
                <h3>ğŸ¯ ç·´ç¿’å•é¡Œ1: è‰²ã«ç€ãã¾ã§å‹•ã</h3>
                <p>ä»Šåº¦ã¯ã€Œè‰²ã«ç€ãã€ã¨ã„ã†æ¡ä»¶ã‚’ä½¿ã£ãŸç¹°ã‚Šè¿”ã—ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«æŒ‘æˆ¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
                
                <div class="info-box learn">
                    <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                    ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒèµ¤è‰²ã«ç€ãã¾ã§å‹•ãç¶šã‘ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ï¼š<br>
                    â€¢ èµ¤è‰²ã«ç€ãã¾ã§ç¹°ã‚Šè¿”ã™<br>
                    â€¢ 5æ­©ãšã¤å‹•ã<br>
                    â€¢ 0.3ç§’ãšã¤å¾…ã¤<br>
                    â€¢ ç€ã„ãŸã‚‰ã€Œè§¦ã‚Œã¾ã—ãŸï¼ã€ã¨è¨€ã†<br>
                </div>

                <h3>ğŸ¬ ç›®æ¨™ã®å‹•ãã‚’ç¢ºèªã—ã‚ˆã†</h3>
                <div class="animation-container">
                    <h4>ğŸ¨ è‰²ã¾ã§å‹•ãã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ</h4>
                    <div class="stage">
                        <div id="sprite-color" class="sprite">ğŸ±</div>
                        <div id="speech-bubble-color" class="speech-bubble"></div>
                        <div class="color-target" style="background: red; width: 30px; height: 30px; position: absolute; left: 250px; top: 90px;"></div>
                        <button class="play-btn" onclick="playColorAnimation()">â–¶ï¸ è‰²ã¾ã§å‹•ãã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</button>
                        <button class="reset-btn" onclick="resetColorAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    <div class="animation-status" id="color-status">èµ¤è‰²ã«ç€ãã¾ã§å‹•ãç¶šã‘ã¾ã™</div>
                </div>

                <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
                <p>ä¸‹ã®ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã‹ã‚‰å¿…è¦ãªã‚‚ã®ã‚’é¸ã‚“ã§ã€æ­£ã—ã„é †ç•ªã§çµ„ã¿ç«‹ã¦ã¦ãã ã•ã„ï¼š</p>
                
                <div class="blocks-grid">
                    <div class="block-item">
                        <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                        <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks"><>ã¾ã§ç¹°ã‚Šè¿”ã™ {
} :: control</pre>
                        <div class="japanese-label">æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã—ï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks"><[#ff0000] è‰²ã«è§¦ã‚ŒãŸ :: sensing></pre>
                        <div class="japanese-label">èµ¤è‰²ã«è§¦ã‚ŒãŸã‹ã‚’èª¿ã¹ã‚‹<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(5) æ­©å‹•ã‹ã™ :: motion</pre>
                        <div class="japanese-label">5æ­©ç§»å‹•ï¼ˆå‹•ãï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(0.3) ç§’å¾…ã¤ :: control</pre>
                        <div class="japanese-label">0.3ç§’å¾…æ©Ÿï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">[è§¦ã‚Œã¾ã—ãŸï¼] ã¨è¨€ã† :: looks</pre>
                        <div class="japanese-label">è§¦ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                </div>

                <div class="answer-section">
                    <button class="btn answer-btn" onclick="showUntilAnswer1()" id="untilAnswerBtn1">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                    <div id="until-answer1" class="answer-container" style="display: none;">
                        <h4>âœ… æ­£è§£:</h4>
                        <div class="block-container">
                            <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
<[#ff0000] è‰²ã«è§¦ã‚ŒãŸ :: sensing>ã¾ã§ç¹°ã‚Šè¿”ã™ {
(5) æ­©å‹•ã‹ã™ :: motion
(0.3) ç§’å¾…ã¤ :: control
} :: control
[è§¦ã‚Œã¾ã—ãŸï¼] ã¨è¨€ã† :: looks
                            </pre>
                        </div>
                        <div class="info-box success">
                            <strong>ğŸ‰ ã‚ˆãã§ãã¾ã—ãŸï¼</strong> æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã—ã®åŸºæœ¬ãŒç†è§£ã§ãã¦ã„ã¾ã™ã€‚
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 6: ç·´ç¿’å•é¡Œ2 -->
            <div id="loop-step6" class="step-container">
                <h3>ğŸ¯ ç·´ç¿’å•é¡Œ2: ãƒã‚¦ã‚¹ã«è§¦ã‚Œã‚‹ã¾ã§å‹•ã</h3>
                <p>æœ€å¾Œã¯ã‚‚ã†å°‘ã—è¤‡é›‘ãªæ¡ä»¶ã§ã®ç¹°ã‚Šè¿”ã—ã«æŒ‘æˆ¦ã§ã™ï¼</p>
                
                <div class="info-box learn">
                    <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                    ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã«è§¦ã‚Œã‚‹ã¾ã§å‹•ããƒ—ãƒ­ã‚°ãƒ©ãƒ ï¼š<br>
                    â€¢ ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã«è§¦ã‚Œã‚‹ã¾ã§ç¹°ã‚Šè¿”ã™<br>
                    â€¢ ãƒã‚¦ã‚¹ã®æ–¹å‘ã‚’å‘ã<br>
                    â€¢ 3æ­©ãšã¤å‹•ã<br>
                    â€¢ è¿‘ã¥ã„ãŸã‚‰ã€Œã“ã‚“ã«ã¡ã¯ï¼ã€ã¨è¨€ã†<br>
                </div>

                <div class="stage">
                    <h4>ğŸ–±ï¸ ãƒã‚¦ã‚¹ã«å‘ã‹ã£ã¦å‹•ãã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ</h4>
                    <div class="stage">
                        <div id="sprite-mouse" class="sprite">ğŸ±</div>
                        <div id="speech-bubble-mouse" class="speech-bubble"></div>
                        <div id="mouse-pointer" style="position: absolute; left: 300px; top: 100px; font-size: 20px;">ğŸ–±ï¸</div>
                        <button class="play-btn" onclick="playMouseAnimation()">â–¶ï¸ ãƒã‚¦ã‚¹ã«å‘ã‹ã†ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</button>
                        <button class="reset-btn" onclick="resetMouseAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    <div class="animation-status" id="mouse-status">ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã«è§¦ã‚Œã‚‹ã¾ã§å‹•ãç¶šã‘ã¾ã™ï¼</div>
                </div>

                <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
                <p>ä¸‹ã®ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã‹ã‚‰å¿…è¦ãªã‚‚ã®ã‚’é¸ã‚“ã§ã€æ­£ã—ã„é †ç•ªã§çµ„ã¿ç«‹ã¦ã¦ãã ã•ã„ï¼š</p>
                
                <div class="blocks-grid">
                    <div class="block-item">
                        <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                        <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks"><>ã¾ã§ç¹°ã‚Šè¿”ã™ {
} :: control</pre>
                        <div class="japanese-label">æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã—ï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks"><(ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ v)ã«è§¦ã‚ŒãŸ :: sensing></pre>
                        <div class="japanese-label">(ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ v)ã«è§¦ã‚ŒãŸã‹ã‚’èª¿ã¹ã‚‹<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ v)ã¸å‘ã‘ã‚‹ :: motion</pre>
                        <div class="japanese-label">ãƒã‚¦ã‚¹ã¸å‘ãï¼ˆå‹•ãï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(3) æ­©å‹•ã‹ã™ :: motion</pre>
                        <div class="japanese-label">3æ­©ç§»å‹•ï¼ˆå‹•ãï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">[ã“ã‚“ã«ã¡ã¯ï¼] ã¨è¨€ã† :: looks</pre>
                        <div class="japanese-label">æŒ¨æ‹¶ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(0.1) ç§’å¾…ã¤ :: control</pre>
                        <div class="japanese-label">0.1ç§’å¾…æ©Ÿï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                </div>

                <div class="answer-section">
                    <button class="btn answer-btn" onclick="showUntilAnswer2()" id="untilAnswerBtn2">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                    <div id="until-answer2" class="answer-container" style="display: none;">
                        <h4>âœ… æ­£è§£:</h4>
                        <div class="block-container">
                            <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
<(ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ v)ã«è§¦ã‚ŒãŸ :: sensing>ã¾ã§ç¹°ã‚Šè¿”ã™ {
(ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ v)ã¸å‘ã‘ã‚‹ :: motion
(3) æ­©å‹•ã‹ã™ :: motion
(0.1) ç§’å¾…ã¤ :: control
} :: control
[ã“ã‚“ã«ã¡ã¯ï¼] ã¨è¨€ã† :: looks
                            </pre>
                        </div>
                        <div class="info-box success">
                            <strong>ğŸ‰ å®Œç’§ã§ã™ï¼</strong> æ¡ä»¶ã¾ã§ç¹°ã‚Šè¿”ã—ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸã€‚æ§˜ã€…ãªæ¡ä»¶ã§ç¹°ã‚Šè¿”ã—ã‚’åˆ¶å¾¡ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã­ï¼
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-nav">
                <button class="btn" id="prevBtn-loop" onclick="changeLoopStep(-1)" disabled>å‰ã¸</button>
                <button class="btn" id="nextBtn-loop" onclick="changeLoopStep(1)">æ¬¡ã¸</button>
                <button class="btn" onclick="showHome()" style="background: #666;">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
            </div>
        </div>

        <!-- åº§æ¨™ã¨ã‚¹ãƒ†ãƒ¼ã‚¸ -->
        <div id="coordinates" style="display: none;">
            <div class="progress-bar">
                <div id="progress-coordinates" class="progress-fill" style="width: 25%"></div>
            </div>
            <h2 id="step-title-coordinates">ã‚¹ãƒ†ãƒƒãƒ— 1 / 4</h2>

            <!-- Step 1: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¢ã¨å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯ -->
            <div id="coordinates-step1" class="step-container step-active">
                <h3>ğŸ¯ åº§æ¨™ã§å‹•ã‹ã™ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ</h3>
                <div class="info-box learn">
                    <strong>ğŸ“š ã“ã‚Œã‹ã‚‰å­¦ã¶ã“ã¨ï¼</strong><br>
                    Xãƒ»Yåº§æ¨™ã‚’ä½¿ã£ã¦ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’æ­£ç¢ºãªä½ç½®ã«å‹•ã‹ã—ã¾ã™ã€‚<br>
                    â€¢ Xåº§æ¨™ï¼šå·¦å³ã®ä½ç½®ï¼ˆ-240ã€œ240ï¼‰<br>
                    â€¢ Yåº§æ¨™ï¼šä¸Šä¸‹ã®ä½ç½®ï¼ˆ-180ã€œ180ï¼‰<br>
                    â€¢ åº§æ¨™ã‚’æŒ‡å®šã—ã¦ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’ç§»å‹•<br>
                    â€¢ å››è§’å½¢ã‚„ä¸‰è§’å½¢ã‚’æã„ã¦ã¿ã‚ˆã†<br><br>
                </div>

                <div class="stage">
                    <h4>ğŸ¯ åº§æ¨™ã§å››è§’å½¢ã‚’æãã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ</h4>
                    <div class="stage">
                        <canvas id="coordinates-canvas" class="pen-canvas" width="400" height="300"></canvas>
                        <div id="sprite-coordinates" class="sprite">ğŸ±</div>
                        <div id="speech-bubble-coordinates" class="speech-bubble"></div>
                        <!-- åº§æ¨™è»¸ã¨ã‚°ãƒªãƒƒãƒ‰ -->
                        <div style="position: absolute; left: 200px; top: 0; width: 1px; height: 100%; background: #ddd;"></div>
                        <div style="position: absolute; left: 0; top: 60px; width: 100%; height: 1px; background: #ddd;"></div>
                        <div style="position: absolute; left: 210px; top: 5px; font-size: 10px; color: #666;">Xè»¸</div>
                        <div style="position: absolute; left: 5px; top: 50px; font-size: 10px; color: #666;">Yè»¸</div>
                        <button class="play-btn" onclick="playCoordinatesAnimation()">â–¶ï¸ å››è§’å½¢ã‚’æãã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</button>
                        <button class="reset-btn" onclick="resetCoordinatesAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    <div class="animation-status" id="coordinates-status">åº§æ¨™ã‚’ä½¿ã£ã¦å››è§’å½¢ã‚’æãã¾ã™ï¼</div>
                </div>

                <h3>ğŸ“¦ åº§æ¨™ã§å‹•ã‹ã™ãŸã‚ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
                <p>åº§æ¨™ã‚’ä½¿ã£ã¦ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’å‹•ã‹ã™ãŸã‚ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼š</p>
                
                <div class="blocks-grid">
                    <div class="block-item">
                        <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                        <div class="japanese-label">ç·‘ã®æ——ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">å…¨éƒ¨æ¶ˆã™ :: pen</pre>
                        <div class="japanese-label">ç”»é¢ã®ç·šã‚’å…¨éƒ¨æ¶ˆã™ï¼ˆãƒšãƒ³ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">ãƒšãƒ³ã‚’ç½®ã :: pen</pre>
                        <div class="japanese-label">ãƒšãƒ³ã§ç·šã‚’æãå§‹ã‚ã‚‹ï¼ˆãƒšãƒ³ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">xåº§æ¨™ã‚’ (100) ã«ã™ã‚‹ :: motion</pre>
                        <div class="japanese-label">Xåº§æ¨™ã‚’æŒ‡å®šã—ã¦å·¦å³ã«ç§»å‹•<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 3å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">yåº§æ¨™ã‚’ (50) ã«ã™ã‚‹ :: motion</pre>
                        <div class="japanese-label">Yåº§æ¨™ã‚’æŒ‡å®šã—ã¦ä¸Šä¸‹ã«ç§»å‹•<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 3å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(1) ç§’å¾…ã¤ :: control</pre>
                        <div class="japanese-label">å‹•ãã‚’è¦‹ã‚„ã™ãã™ã‚‹ãŸã‚<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 4å€‹</strong></div>
                    </div>
                </div>

                <div class="info-box hint">
                    <strong>ğŸ’¡ åº§æ¨™ã®ä»•çµ„ã¿ï¼š</strong> ã‚¹ãƒ†ãƒ¼ã‚¸ã®ä¸­å¤®ãŒ(0, 0)ã§ã€å³ãŒãƒ—ãƒ©ã‚¹Xã€ä¸ŠãŒãƒ—ãƒ©ã‚¹Yã§ã™ã€‚<br>
                    <strong>ğŸ”¢ åº§æ¨™ã®ç¯„å›²ï¼š</strong> Xåº§æ¨™ã¯-240ã€œ240ã€Yåº§æ¨™ã¯-180ã€œ180ã®ç¯„å›²ã§å‹•ã‹ã›ã¾ã™ã€‚
                </div>
            </div>

            <!-- Step 2: çµ„ã¿ç«‹ã¦æ–¹ -->
            <div id="coordinates-step2" class="step-container">
                <h3>ğŸ”§ ã“ã®ã‚ˆã†ã«çµ„ã¿ç«‹ã¦ã¦ãã ã•ã„</h3>
                <p>å››è§’å½¢ã‚’æããƒ—ãƒ­ã‚°ãƒ©ãƒ ã®çµ„ã¿ç«‹ã¦æ–¹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ï¼š</p>
                
                <div class="block-container">
                    <h4>ğŸ¯ å››è§’å½¢ã‚’æããã¿ãŸã¦ã‹ãŸ:</h4>
                    <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
å…¨éƒ¨æ¶ˆã™ :: pen
ãƒšãƒ³ã‚’ç½®ã :: pen
xåº§æ¨™ã‚’ (0) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (0) ã«ã™ã‚‹ :: motion
(1) ç§’å¾…ã¤ :: control
xåº§æ¨™ã‚’ (100) ã«ã™ã‚‹ :: motion
(1) ç§’å¾…ã¤ :: control
yåº§æ¨™ã‚’ (100) ã«ã™ã‚‹ :: motion
(1) ç§’å¾…ã¤ :: control
xåº§æ¨™ã‚’ (0) ã«ã™ã‚‹ :: motion
(1) ç§’å¾…ã¤ :: control
yåº§æ¨™ã‚’ (0) ã«ã™ã‚‹ :: motion
                    </pre>
                    
                    <div class="info-box hint" style="margin-top: 15px;">
                        <strong>ğŸ“– å‹•ãã®æµã‚Œ:</strong><br>
                        1. ä¸­å¤®(0,0)ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆ<br>
                        2. å³ã«ç§»å‹• â†’ Xåº§æ¨™ã‚’100ã«<br>
                        3. ä¸Šã«ç§»å‹• â†’ Yåº§æ¨™ã‚’100ã«<br>
                        4. å·¦ã«ç§»å‹• â†’ Xåº§æ¨™ã‚’0ã«<br>
                        5. ä¸‹ã«ç§»å‹• â†’ Yåº§æ¨™ã‚’0ã«æˆ»ã‚‹<br>
                        ã“ã‚Œã§å››è§’å½¢ã®å®Œæˆï¼
                    </div>
                </div>

                <div class="info-box success">
                    <strong>âœ… ãƒã‚¤ãƒ³ãƒˆï¼</strong> åº§æ¨™ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒãã®ä½ç½®ã«ç¬é–“ç§»å‹•ã—ã¾ã™ã€‚
                </div>
            </div>

            <!-- Step 3: ç·´ç¿’å•é¡Œ1 -->
            <div id="coordinates-step3" class="step-container">
                <h3>ğŸ¯ ç·´ç¿’å•é¡Œ1: ä¸‰è§’å½¢ã‚’æã</h3>
                <p>ä»Šåº¦ã¯åº§æ¨™ã‚’ä½¿ã£ã¦ä¸‰è§’å½¢ã‚’æã„ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
                
                <div class="info-box learn">
                    <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                    ä¸‰è§’å½¢ã®3ã¤ã®é ‚ç‚¹ã‚’åº§æ¨™ã§æŒ‡å®šã—ã¾ã™ï¼š<br>
                    â€¢ 1ã¤ç›®ï¼š(0, 100) - ä¸Šã®é ‚ç‚¹<br>
                    â€¢ 2ã¤ç›®ï¼š(-80, -50) - å·¦ä¸‹ã®é ‚ç‚¹<br>
                    â€¢ 3ã¤ç›®ï¼š(80, -50) - å³ä¸‹ã®é ‚ç‚¹<br>
                    â€¢ æœ€å¾Œï¼š(0, 100) - ä¸Šã«æˆ»ã£ã¦å®Œæˆ<br>
                </div>

                <div class="stage">
                    <h4>ğŸ”º ä¸‰è§’å½¢ã‚’æãã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ</h4>
                    <div class="stage">
                        <canvas id="triangle-canvas" class="pen-canvas" width="400" height="300"></canvas>
                        <div id="sprite-triangle" class="sprite">ğŸ±</div>
                        <div id="speech-bubble-triangle" class="speech-bubble"></div>
                        <button class="play-btn" onclick="playTriangleAnimation()">â–¶ï¸ ä¸‰è§’å½¢ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</button>
                        <button class="reset-btn" onclick="resetTriangleAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    <div class="animation-status" id="triangle-status">ä¸‰è§’å½¢ã®é ‚ç‚¹ã‚’åº§æ¨™ã§æŒ‡å®šã—ã¾ã™</div>
                </div>

                <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
                <div class="blocks-grid">
                    <div class="block-item">
                        <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                        <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ é–‹å§‹<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">å…¨éƒ¨æ¶ˆã™ :: pen</pre>
                        <div class="japanese-label">ç”»é¢ã®ç·šã‚’å…¨éƒ¨æ¶ˆã™ï¼ˆãƒšãƒ³ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">ãƒšãƒ³ã‚’ç½®ã :: pen</pre>
                        <div class="japanese-label">ãƒšãƒ³ã§ç·šã‚’æãå§‹ã‚ã‚‹ï¼ˆãƒšãƒ³ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">xåº§æ¨™ã‚’ (0) ã«ã™ã‚‹ :: motion</pre>
                        <div class="japanese-label">Xåº§æ¨™è¨­å®š<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 4å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">yåº§æ¨™ã‚’ (100) ã«ã™ã‚‹ :: motion</pre>
                        <div class="japanese-label">Yåº§æ¨™è¨­å®š<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 4å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(1) ç§’å¾…ã¤ :: control</pre>
                        <div class="japanese-label">å¾…æ©Ÿæ™‚é–“<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 3å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">[ä¸‰è§’å½¢å®Œæˆï¼] ã¨è¨€ã† :: looks</pre>
                        <div class="japanese-label">å®Œæˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                </div>

                <div class="answer-section">
                    <button class="btn answer-btn" onclick="showCoordinatesAnswer1()">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                    <div id="coordinates-answer1" class="answer-container" style="display: none;">
                        <h4>âœ… æ­£è§£:</h4>
                        <div class="block-container">
                            <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
å…¨éƒ¨æ¶ˆã™ :: pen
ãƒšãƒ³ã‚’ç½®ã :: pen
xåº§æ¨™ã‚’ (0) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (100) ã«ã™ã‚‹ :: motion
(1) ç§’å¾…ã¤ :: control
xåº§æ¨™ã‚’ (-80) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (-50) ã«ã™ã‚‹ :: motion
(1) ç§’å¾…ã¤ :: control
xåº§æ¨™ã‚’ (80) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (-50) ã«ã™ã‚‹ :: motion
(1) ç§’å¾…ã¤ :: control
xåº§æ¨™ã‚’ (0) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (100) ã«ã™ã‚‹ :: motion
[ä¸‰è§’å½¢å®Œæˆï¼] ã¨è¨€ã† :: looks
                            </pre>
                        </div>
                        <div class="info-box success">
                            <strong>ğŸ‰ ç´ æ™´ã‚‰ã—ã„ï¼</strong> åº§æ¨™ã‚’ä½¿ã£ã¦ä¸‰è§’å½¢ãŒæã‘ã¾ã—ãŸï¼
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 4: ç·´ç¿’å•é¡Œ2 -->
            <div id="coordinates-step4" class="step-container">
                <h3>ğŸ¯ ç·´ç¿’å•é¡Œ2: æ˜Ÿå‹ã‚’æã</h3>
                <p>æœ€å¾Œã®æŒ‘æˆ¦ã¨ã—ã¦ã€5ã¤ã®åº§æ¨™ã‚’ä½¿ã£ã¦æ˜Ÿå‹ã‚’æã„ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
                
                <div class="info-box learn">
                    <strong>ğŸ“š ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼</strong><br>
                    æ˜Ÿå‹ã®5ã¤ã®é ‚ç‚¹ã‚’åº§æ¨™ã§æŒ‡å®šã—ã¾ã™ï¼š<br>
                    â€¢ ä¸Šã®é ‚ç‚¹ï¼š(0, 120)<br>
                    â€¢ å³ä¸Šï¼š(70, 40)<br>
                    â€¢ å³ä¸‹ï¼š(45, -80)<br>
                    â€¢ å·¦ä¸‹ï¼š(-45, -80)<br>
                    â€¢ å·¦ä¸Šï¼š(-70, 40)<br>
                    â€¢ æœ€å¾Œï¼š(0, 120) - å…ƒã«æˆ»ã£ã¦å®Œæˆ<br>
                </div>

                <div class="stage">
                    <h4>â­ æ˜Ÿå‹ã‚’æãã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ</h4>
                    <div class="stage">
                        <canvas id="star-canvas" class="pen-canvas" width="400" height="300"></canvas>
                        <div id="sprite-star" class="sprite">ğŸ±</div>
                        <div id="speech-bubble-star" class="speech-bubble"></div>
                        <button class="play-btn" onclick="playStarAnimation()">â–¶ï¸ äº”è§’å½¢ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</button>
                        <button class="reset-btn" onclick="resetStarAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    <div class="animation-status" id="star-status">äº”è§’å½¢ã®é ‚ç‚¹ã‚’åº§æ¨™ã§ç§»å‹•ã—ã¾ã™</div>
                </div>

                <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
                <div class="blocks-grid">
                    <div class="block-item">
                        <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                        <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ é–‹å§‹<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">å…¨éƒ¨æ¶ˆã™ :: pen</pre>
                        <div class="japanese-label">ç”»é¢ã®ç·šã‚’å…¨éƒ¨æ¶ˆã™ï¼ˆãƒšãƒ³ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">ãƒšãƒ³ã‚’ç½®ã :: pen</pre>
                        <div class="japanese-label">ãƒšãƒ³ã§ç·šã‚’æãå§‹ã‚ã‚‹ï¼ˆãƒšãƒ³ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">xåº§æ¨™ã‚’ (0) ã«ã™ã‚‹ :: motion</pre>
                        <div class="japanese-label">Xåº§æ¨™è¨­å®š<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 6å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">yåº§æ¨™ã‚’ (120) ã«ã™ã‚‹ :: motion</pre>
                        <div class="japanese-label">Yåº§æ¨™è¨­å®š<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 6å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">(1) ç§’å¾…ã¤ :: control</pre>
                        <div class="japanese-label">å¾…æ©Ÿæ™‚é–“<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 5å€‹</strong></div>
                    </div>
                    <div class="block-item">
                        <pre class="blocks">[äº”è§’å½¢å®Œæˆï¼] ã¨è¨€ã† :: looks</pre>
                        <div class="japanese-label">å®Œæˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                    </div>
                </div>

                <div class="answer-section">
                    <button class="btn answer-btn" onclick="showCoordinatesAnswer2()">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                    <div id="coordinates-answer2" class="answer-container" style="display: none;">
                        <h4>âœ… æ­£è§£:</h4>
                        <div class="block-container">
                            <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
å…¨éƒ¨æ¶ˆã™ :: pen
ãƒšãƒ³ã‚’ç½®ã :: pen
xåº§æ¨™ã‚’ (0) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (120) ã«ã™ã‚‹ :: motion
(1) ç§’å¾…ã¤ :: control
xåº§æ¨™ã‚’ (70) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (40) ã«ã™ã‚‹ :: motion
(1) ç§’å¾…ã¤ :: control
xåº§æ¨™ã‚’ (45) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (-80) ã«ã™ã‚‹ :: motion
(1) ç§’å¾…ã¤ :: control
xåº§æ¨™ã‚’ (-45) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (-80) ã«ã™ã‚‹ :: motion
(1) ç§’å¾…ã¤ :: control
xåº§æ¨™ã‚’ (-70) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (40) ã«ã™ã‚‹ :: motion
(1) ç§’å¾…ã¤ :: control
xåº§æ¨™ã‚’ (0) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (120) ã«ã™ã‚‹ :: motion
[æ˜Ÿå‹å®Œæˆï¼] ã¨è¨€ã† :: looks
                            </pre>
                        </div>
                        <div class="info-box success">
                            <strong>ğŸ‰ å®Œç’§ã§ã™ï¼</strong> åº§æ¨™ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¦æ˜Ÿå‹ã¾ã§æã‘ã¾ã—ãŸï¼
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-nav">
                <button class="btn" id="prevBtn-coordinates" onclick="changeCoordinatesStep(-1)" disabled>å‰ã¸</button>
                <button class="btn" id="nextBtn-coordinates" onclick="changeCoordinatesStep(1)">æ¬¡ã¸</button>
                <button class="btn" onclick="showHome()" style="background: #666;">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
            </div>
        </div>
    </div>

    <!-- å¤‰æ•°ã¨è¨ˆç®—ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="variables-menu" style="display: none;">
        <div class="container">
            <div class="header">
                <h1>ğŸ“Š å¤‰æ•°ã¨è¨ˆç®—</h1>
                <p>æ•°å­—ã‚„æ–‡å­—ã‚’è¦šãˆã¦ã€è¨ˆç®—ã—ã¦ã¿ã‚ˆã†ï¼</p>
            </div>

            <div class="lesson-grid">
                <div class="lesson-card" onclick="showHealthSystem()">
                    <div class="emoji">ğŸ’–</div>
                    <div class="lesson-title">ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ </div>
                    <div class="lesson-desc">ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½“åŠ›ã‚’å¤‰æ•°ã§ç®¡ç†ã—ã‚ˆã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showScoreSystem()">
                    <div class="emoji">ğŸ†</div>
                    <div class="lesson-title">ã‚¹ã‚³ã‚¢è¨ˆç®—</div>
                    <div class="lesson-desc">ã‚²ãƒ¼ãƒ ã®å¾—ç‚¹ã‚’è¨ˆç®—ã—ã¦ã¿ã‚ˆã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showStringVariables()">
                    <div class="emoji">ğŸ’¬</div>
                    <div class="lesson-title">æ–‡å­—ã®å¤‰æ•°</div>
                    <div class="lesson-desc">åå‰ã‚„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¦šãˆã•ã›ã‚ˆã†ï¼</div>
                </div>
            </div>

            <div class="step-nav">
                <button class="btn" onclick="showHome()" style="background: #666;">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
            </div>
        </div>
    </div>

    <!-- ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ  -->
    <div id="health-system" style="display: none;">
        <div class="progress-bar">
            <div id="health-progress" class="progress-fill" style="width: 25%"></div>
        </div>
        <h2 id="health-step-title">ã‚¹ãƒ†ãƒƒãƒ— 1 / 4</h2>

        <!-- Step 1: ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹ -->
        <div id="health-step1" class="step-container step-active">
            <h3>ğŸ’– ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ </h3>
            <div class="info-box learn">
                <strong>ğŸ“š ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ã«ã¤ã„ã¦å­¦ã¼ã†ï¼</strong><br>
                å¤‰æ•°ã¯æ•°å­—ã‚’è¦šãˆã¦ãŠãã€Œç®±ã€ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚<br>
                ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½“åŠ›ã‚’å¤‰æ•°ã§ç®¡ç†ã™ã‚‹ã¨ï¼š<br>
                â€¢ ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’å—ã‘ãŸã¨ãã«ä½“åŠ›ãŒæ¸›ã‚‹<br>
                â€¢ å›å¾©ã‚¢ã‚¤ãƒ†ãƒ ã§ä½“åŠ›ãŒå¢—ãˆã‚‹<br>
                â€¢ ä½“åŠ›ãŒ0ã«ãªã£ãŸã‚‰ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼<br><br>
                <strong>ğŸ“ ä»Šæ—¥ã®ã‚‚ãã²ã‚‡ã†:</strong> ä½“åŠ›å¤‰æ•°ã‚’ä½¿ã£ãŸã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã‚ã†ï¼
            </div>

            <h3>ğŸ¬ ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ã®å‹•ãã‚’è¦‹ã¦ã¿ã‚ˆã†</h3>
            <p>ã¾ãšã¯ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ãŒã©ã®ã‚ˆã†ã«å‹•ãã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
            
            <div class="animation-container">
                <h4>â¤ï¸ ä½“åŠ›å¤‰æ•°ã®ãƒ‡ãƒ¢</h4>
                <div class="stage">
                    <div class="sprite">ğŸ§™â€â™‚ï¸</div>
                    <div id="health-display" style="font-size: 24px; color: #4CAF50; margin: 20px;">â¤ï¸ ä½“åŠ›: 100</div>
                    <button class="play-btn" onclick="playHealthAnimation()">â–¶ï¸ ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ã‚’è¦‹ã‚‹</button>
                    <button class="reset-btn" onclick="resetHealthAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="health-status">ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</div>
            </div>

            <div class="info-box hint">
                <strong>ğŸ¤” ã©ã‚“ãªå‹•ãã‚’ã—ãŸï¼Ÿ</strong> ä½“åŠ›ãŒ100ã‹ã‚‰å§‹ã¾ã£ã¦ã€ãƒ€ãƒ¡ãƒ¼ã‚¸ã§80ã€60ã¨æ¸›ã‚Šã€æœ€å¾Œã«å›å¾©ã‚¢ã‚¤ãƒ†ãƒ ã§100ã«æˆ»ã‚Šã¾ã—ãŸï¼
            </div>

            <h3>ğŸ“¦ ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
            <p>ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½“åŠ›ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯ã§ã™ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(ä½“åŠ› :: variables) ã‚’ (100) ã«ã™ã‚‹ :: variables</pre>
                    <div class="japanese-label">ä½“åŠ›ã‚’100ã«è¨­å®šï¼ˆå¤‰æ•°ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(ä½“åŠ› :: variables) ã‚’ (-20) ãšã¤å¤‰ãˆã‚‹ :: variables</pre>
                    <div class="japanese-label">ä½“åŠ›ã‚’20æ¸›ã‚‰ã™ï¼ˆå¤‰æ•°ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 2å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(ä½“åŠ› :: variables) ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">ä½“åŠ›ã‚’è¡¨ç¤ºï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 3å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(2) ç§’å¾…ã¤ :: control</pre>
                    <div class="japanese-label">å¾…æ©Ÿï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 2å€‹</strong></div>
                </div>
            </div>

            <div class="info-box success">
                <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’çµ„ã¿ç«‹ã¦ã¦ã€å®Ÿéš›ã«ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>

        <!-- Step 2: çµ„ã¿ç«‹ã¦ -->
        <div id="health-step2" class="step-container">
            <h3>ğŸ”§ ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ã‚’çµ„ã¿ç«‹ã¦ã‚ˆã†ï¼</h3>
            <p>å¤‰æ•°ã€Œä½“åŠ›ã€ã‚’ä½¿ã£ã¦ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½“åŠ›ãŒå¤‰ã‚ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚</p>
            
            <div class="block-container">
                <h4>ğŸ¯ çµ„ã¿ç«‹ã¦æ–¹:</h4>
                <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(ä½“åŠ› :: variables) ã‚’ (100) ã«ã™ã‚‹ :: variables
(ä½“åŠ› :: variables) ã¨è¨€ã† :: looks
(2) ç§’å¾…ã¤ :: control
(ä½“åŠ› :: variables) ã‚’ (-20) ãšã¤å¤‰ãˆã‚‹ :: variables
(ä½“åŠ› :: variables) ã¨è¨€ã† :: looks
(2) ç§’å¾…ã¤ :: control
(ä½“åŠ› :: variables) ã‚’ (-20) ãšã¤å¤‰ãˆã‚‹ :: variables
(ä½“åŠ› :: variables) ã¨è¨€ã† :: looks
                </pre>
            </div>

            <div class="info-box hint">
                <strong>ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆ:</strong><br>
                â€¢ å¤‰æ•°ã€Œä½“åŠ›ã€ã‚’ã¾ãš100ã«è¨­å®š<br>
                â€¢ ã€Œ-20ãšã¤å¤‰ãˆã‚‹ã€ã§ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’è¡¨ç¾<br>
                â€¢ å¤‰æ•°ã®å€¤ã‚’è¨€ã†ãƒ–ãƒ­ãƒƒã‚¯ã§ä½“åŠ›ã‚’è¡¨ç¤º<br>
                â€¢ ä½“åŠ›ãŒ100â†’80â†’60ã¨å¤‰åŒ–ã—ã¾ã™
            </div>

            <div class="info-box success">
                <strong>âœ… ã‚„ã£ã¦ã¿ã‚ˆã†ï¼</strong> å®Ÿéš›ã®Scratchã§ã“ã®ã¨ãŠã‚Šã«ãƒ–ãƒ­ãƒƒã‚¯ã‚’çµ„ã¿ç«‹ã¦ã¦ã€ç·‘ã®æ——ã‚’æŠ¼ã—ã¦ã¿ã¦ãã ã•ã„ï¼
            </div>
        </div>

        <!-- Step 3: ç·´ç¿’å•é¡Œ -->
        <div id="health-step3" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œï¼šã‚·ãƒ³ãƒ—ãƒ«ãªä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ </h3>
            <p>å­¦ã‚“ã ã“ã¨ã‚’æ´»ã‹ã—ã¦ã€ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ã®ç·´ç¿’å•é¡Œã«æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ç·´ç¿’å•é¡Œ: ä½“åŠ›80ã‹ã‚‰å§‹ã‚ã‚ˆã†</strong><br>
                æ¬¡ã®å‹•ãã‚’ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ï¼š<br>
                â€¢ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½“åŠ›ã‚’80ã«è¨­å®š<br>
                â€¢ ã€Œä½“åŠ›:80ã€ã¨è¡¨ç¤º<br>
                â€¢ 2ç§’å¾…ã¤<br>
                â€¢ ä½“åŠ›ã‚’30æ¸›ã‚‰ã™<br>
                â€¢ ã€Œä½“åŠ›:50ã€ã¨è¡¨ç¤º<br>
            </div>

            <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
            <p>ä¸‹ã®ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã‹ã‚‰å¿…è¦ãªã‚‚ã®ã‚’é¸ã‚“ã§ã€æ­£ã—ã„é †ç•ªã§çµ„ã¿ç«‹ã¦ã¦ãã ã•ã„ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ç·‘ã®æ——ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(ä½“åŠ› :: variables) ã‚’ (80) ã«ã™ã‚‹ :: variables</pre>
                    <div class="japanese-label">ä½“åŠ›ã‚’80ã«è¨­å®šï¼ˆå¤‰æ•°ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(ä½“åŠ› :: variables) ã‚’ (-30) ãšã¤å¤‰ãˆã‚‹ :: variables</pre>
                    <div class="japanese-label">ä½“åŠ›ã‚’30æ¸›ã‚‰ã™ï¼ˆå¤‰æ•°ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">([ä½“åŠ›:] ã¨ (ä½“åŠ› :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">ä½“åŠ›ã‚’è¡¨ç¤ºï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 2å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(2) ç§’å¾…ã¤ :: control</pre>
                    <div class="japanese-label">2ç§’å¾…ã¤ï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showHealthAnswer1()" id="healthAnswerBtn1">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="health-answer1" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(ä½“åŠ› :: variables) ã‚’ (80) ã«ã™ã‚‹ :: variables
([ä½“åŠ›:] ã¨ (ä½“åŠ› :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks
(2) ç§’å¾…ã¤ :: control
(ä½“åŠ› :: variables) ã‚’ (-30) ãšã¤å¤‰ãˆã‚‹ :: variables
([ä½“åŠ›:] ã¨ (ä½“åŠ› :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ã‚ˆãã§ãã¾ã—ãŸï¼</strong> å¤‰æ•°ã®åŸºæœ¬çš„ãªä½¿ã„æ–¹ãŒç†è§£ã§ãã¦ã„ã¾ã™ã€‚
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: ã¾ã¨ã‚ -->
        <div id="health-step4" class="step-container">
            <h3>ğŸŒŸ ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸï¼</h3>
            
            <div class="info-box learn">
                <strong>ğŸ“ å­¦ã‚“ã ã“ã¨:</strong><br>
                â€¢ å¤‰æ•°ã¯æ•°å­—ã‚’è¦šãˆã‚‹ã€Œç®±ã€<br>
                â€¢ ã€Œã€œã«ã™ã‚‹ã€ã§å¤‰æ•°ã«å€¤ã‚’è¨­å®š<br>
                â€¢ ã€Œã€œãšã¤å¤‰ãˆã‚‹ã€ã§å€¤ã‚’å¢—æ¸›<br>
                â€¢ å¤‰æ•°ã¨æ–‡å­—ã‚’ã¤ãªã’ã¦è¡¨ç¤º<br><br>
                <strong>ğŸ’¡ ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ã®æ´»ç”¨:</strong><br>
                â€¢ RPGã‚²ãƒ¼ãƒ ã®HPç®¡ç†<br>
                â€¢ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚²ãƒ¼ãƒ ã®ãƒ©ã‚¤ãƒ•<br>
                â€¢ é£Ÿã¹ç‰©ã‚²ãƒ¼ãƒ ã®æº€è…¹åº¦ãªã©
            </div>

            <div class="animation-container">
                <h4>ğŸ‰ æœ€çµ‚ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h4>
                <div class="stage">
                    <div class="sprite">ğŸ§™â€â™‚ï¸</div>
                    <div id="health-display-final" style="font-size: 24px; color: #4CAF50; margin: 20px;">â¤ï¸ ä½“åŠ›: 100</div>
                    <button class="play-btn" onclick="playHealthAnimation()">â–¶ï¸ ã‚‚ã†ä¸€åº¦è¦‹ã‚‹</button>
                    <button class="reset-btn" onclick="resetHealthAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="health-status-final">ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Œå…¨ã«ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸï¼</div>
            </div>

            <div class="info-box success">
                <strong>ğŸ† æ¬¡ã¯ã‚¹ã‚³ã‚¢è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ ã«æŒ‘æˆ¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼</strong><br>
                å¤‰æ•°ã‚’ä½¿ã£ã¦ã‚²ãƒ¼ãƒ ã®å¾—ç‚¹ã‚’è¨ˆç®—ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚
            </div>
        </div>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="step-nav">
            <button class="btn" id="healthPrevBtn" onclick="changeHealthStep(-1)" disabled>å‰ã¸</button>
            <button class="btn" id="healthNextBtn" onclick="changeHealthStep(1)">æ¬¡ã¸</button>
        </div>
    </div>

    <!-- ã‚¹ã‚³ã‚¢è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ  -->
    <div id="score-system" style="display: none;">
        <div class="progress-bar">
            <div id="score-progress" class="progress-fill" style="width: 33%"></div>
        </div>
        <h2 id="score-step-title">ã‚¹ãƒ†ãƒƒãƒ— 1 / 3</h2>

        <!-- Step 1: ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹ -->
        <div id="score-step1" class="step-container step-active">
            <h3>ğŸ† ã‚²ãƒ¼ãƒ ã‚¹ã‚³ã‚¢è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ </h3>
            <div class="info-box learn">
                <strong>ğŸ“š ã‚¹ã‚³ã‚¢è¨ˆç®—ã«ã¤ã„ã¦å­¦ã¼ã†ï¼</strong><br>
                ã‚²ãƒ¼ãƒ ã§ã¯å¾—ç‚¹ï¼ˆã‚¹ã‚³ã‚¢ï¼‰ã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ãŒã¨ã¦ã‚‚å¤§åˆ‡ã§ã™ã€‚<br>
                â€¢ ã‚¢ã‚¤ãƒ†ãƒ ã‚’å–ã£ãŸã‚‰ç‚¹æ•°ãŒå¢—ãˆã‚‹<br>
                â€¢ ãƒœãƒ¼ãƒŠã‚¹ã§é«˜ã„ç‚¹æ•°ãŒã‚‚ã‚‰ãˆã‚‹<br>
                â€¢ æœ€çµ‚çš„ã«åˆè¨ˆç‚¹æ•°ã‚’è¨ˆç®—<br><br>
                <strong>ğŸ“ ä»Šæ—¥ã®ã‚‚ãã²ã‚‡ã†:</strong> å¤‰æ•°ã‚’ä½¿ã£ã¦ã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—ã—ã‚ˆã†ï¼
            </div>

            <h3>ğŸ¬ ã‚¹ã‚³ã‚¢è¨ˆç®—ã®å‹•ãã‚’è¦‹ã¦ã¿ã‚ˆã†</h3>
            <p>ã¾ãšã¯ã‚¹ã‚³ã‚¢ãŒã©ã®ã‚ˆã†ã«è¨ˆç®—ã•ã‚Œã‚‹ã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
            
            <div class="animation-container">
                <h4>ğŸ® ã‚¹ã‚³ã‚¢è¨ˆç®—ã®ãƒ‡ãƒ¢</h4>
                <div class="stage">
                    <div class="sprite">ğŸ¯</div>
                    <div id="score-display" style="font-size: 24px; color: #2c3e50; margin: 20px;">ğŸ† ã‚¹ã‚³ã‚¢: 0</div>
                    <button class="play-btn" onclick="playScoreAnimation()">â–¶ï¸ ã‚¹ã‚³ã‚¢è¨ˆç®—ã‚’è¦‹ã‚‹</button>
                    <button class="reset-btn" onclick="resetScoreAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="score-status">ã‚¹ã‚³ã‚¢è¨ˆç®—ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</div>
            </div>

            <div class="info-box hint">
                <strong>ğŸ¤” ã©ã‚“ãªè¨ˆç®—ã‚’ã—ãŸï¼Ÿ</strong> ã‚¹ã‚³ã‚¢ãŒ0ã‹ã‚‰å§‹ã¾ã£ã¦ã€ã‚¢ã‚¤ãƒ†ãƒ ã§+10ã€+10ã€ãƒœãƒ¼ãƒŠã‚¹ã§+50ã®åˆè¨ˆ70ç‚¹ã«ãªã‚Šã¾ã—ãŸï¼
            </div>

            <h3>ğŸ“¦ ã‚¹ã‚³ã‚¢è¨ˆç®—ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
            <p>ã‚²ãƒ¼ãƒ ã®ã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—ã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯ã§ã™ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (0) ã«ã™ã‚‹ :: variables</pre>
                    <div class="japanese-label">ã‚¹ã‚³ã‚¢ã‚’0ã«è¨­å®šï¼ˆå¤‰æ•°ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (10) ãšã¤å¤‰ãˆã‚‹ :: variables</pre>
                    <div class="japanese-label">ã‚¹ã‚³ã‚¢ã‚’10ç‚¹è¿½åŠ ï¼ˆå¤‰æ•°ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 2å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (50) ãšã¤å¤‰ãˆã‚‹ :: variables</pre>
                    <div class="japanese-label">ãƒœãƒ¼ãƒŠã‚¹50ç‚¹è¿½åŠ ï¼ˆå¤‰æ•°ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[ã‚¹ã‚³ã‚¢:] ã¨ (ã‚¹ã‚³ã‚¢ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators</pre>
                    <div class="japanese-label">ã‚¹ã‚³ã‚¢è¡¨ç¤ºã®æ–‡å­—ã‚’ä½œã‚‹ï¼ˆæ¼”ç®—ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 3å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">([ã‚¹ã‚³ã‚¢:] ã¨ (ã‚¹ã‚³ã‚¢ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">ã‚¹ã‚³ã‚¢ã‚’è¡¨ç¤ºï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 3å€‹</strong></div>
                </div>
            </div>

            <div class="info-box success">
                <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’çµ„ã¿ç«‹ã¦ã¦ã€å®Ÿéš›ã«ã‚¹ã‚³ã‚¢è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>

        <!-- Step 2: çµ„ã¿ç«‹ã¦ -->
        <div id="score-step2" class="step-container">
            <h3>ğŸ”§ ã‚¹ã‚³ã‚¢è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ ã‚’çµ„ã¿ç«‹ã¦ã‚ˆã†ï¼</h3>
            <p>å¤‰æ•°ã€Œã‚¹ã‚³ã‚¢ã€ã‚’ä½¿ã£ã¦ã€ã‚²ãƒ¼ãƒ ã®å¾—ç‚¹ã‚’è¨ˆç®—ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚</p>
            
            <div class="block-container">
                <h4>ğŸ¯ çµ„ã¿ç«‹ã¦æ–¹:</h4>
                <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (0) ã«ã™ã‚‹ :: variables
([ã‚¹ã‚³ã‚¢:] ã¨ (ã‚¹ã‚³ã‚¢ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks
(2) ç§’å¾…ã¤ :: control
(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (10) ãšã¤å¤‰ãˆã‚‹ :: variables
([ã‚¹ã‚³ã‚¢:] ã¨ (ã‚¹ã‚³ã‚¢ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks
(2) ç§’å¾…ã¤ :: control
(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (10) ãšã¤å¤‰ãˆã‚‹ :: variables
([ã‚¹ã‚³ã‚¢:] ã¨ (ã‚¹ã‚³ã‚¢ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks
(2) ç§’å¾…ã¤ :: control
(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (50) ãšã¤å¤‰ãˆã‚‹ :: variables
([ã‚¹ã‚³ã‚¢:] ã¨ (ã‚¹ã‚³ã‚¢ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks
                </pre>
            </div>

            <div class="info-box hint">
                <strong>ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆ:</strong><br>
                â€¢ å¤‰æ•°ã€Œã‚¹ã‚³ã‚¢ã€ã‚’ã¾ãš0ã«è¨­å®š<br>
                â€¢ ã€Œ+10ãšã¤å¤‰ãˆã‚‹ã€ã§ã‚¢ã‚¤ãƒ†ãƒ å–å¾—<br>
                â€¢ ã€Œ+50ãšã¤å¤‰ãˆã‚‹ã€ã§ãƒœãƒ¼ãƒŠã‚¹ç²å¾—<br>
                â€¢ ã€Œã¤ãªã’ã‚‹ã€ã§æ–‡å­—ã¨æ•°å­—ã‚’çµ„ã¿åˆã‚ã›è¡¨ç¤º
            </div>

            <div class="info-box learn">
                <strong>ğŸ“ è¨ˆç®—ã®ã—ãã¿:</strong><br>
                â€¢ ã‚¢ã‚¤ãƒ†ãƒ 1å€‹ = +10ç‚¹<br>
                â€¢ ã‚¢ã‚¤ãƒ†ãƒ 2å€‹ = +10ç‚¹<br>
                â€¢ ãƒœãƒ¼ãƒŠã‚¹ã‚¢ã‚¤ãƒ†ãƒ  = +50ç‚¹<br>
                â€¢ æœ€çµ‚ã‚¹ã‚³ã‚¢ = 0 + 10 + 10 + 50 = 70ç‚¹
            </div>
        </div>

        <!-- Step 3: ç·´ç¿’å•é¡Œ -->
        <div id="score-step3" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œï¼šç°¡å˜ã‚¹ã‚³ã‚¢è¨ˆç®—</h3>
            <p>å­¦ã‚“ã ã“ã¨ã‚’æ´»ã‹ã—ã¦ã€ã‚¹ã‚³ã‚¢è¨ˆç®—ã®ç·´ç¿’å•é¡Œã«æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ç·´ç¿’å•é¡Œ: 100ç‚¹ã‚²ãƒ¼ãƒ </strong><br>
                æ¬¡ã®å‹•ãã‚’ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ï¼š<br>
                â€¢ ã‚¹ã‚³ã‚¢ã‚’0ã«è¨­å®š<br>
                â€¢ ã€Œã‚¹ã‚³ã‚¢:0ã€ã¨è¡¨ç¤º<br>
                â€¢ ã‚¹ã‚³ã‚¢ã‚’30ç‚¹è¿½åŠ <br>
                â€¢ ã€Œã‚¹ã‚³ã‚¢:30ã€ã¨è¡¨ç¤º<br>
                â€¢ ã•ã‚‰ã«70ç‚¹è¿½åŠ <br>
                â€¢ ã€Œã‚¹ã‚³ã‚¢:100ã€ã¨è¡¨ç¤º<br>
            </div>

            <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
            <p>ä¸‹ã®ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã‹ã‚‰å¿…è¦ãªã‚‚ã®ã‚’é¸ã‚“ã§ã€æ­£ã—ã„é †ç•ªã§çµ„ã¿ç«‹ã¦ã¦ãã ã•ã„ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ç·‘ã®æ——ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (0) ã«ã™ã‚‹ :: variables</pre>
                    <div class="japanese-label">ã‚¹ã‚³ã‚¢ã‚’0ã«è¨­å®šï¼ˆå¤‰æ•°ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (30) ãšã¤å¤‰ãˆã‚‹ :: variables</pre>
                    <div class="japanese-label">ã‚¹ã‚³ã‚¢ã‚’30è¿½åŠ ï¼ˆå¤‰æ•°ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (70) ãšã¤å¤‰ãˆã‚‹ :: variables</pre>
                    <div class="japanese-label">ã‚¹ã‚³ã‚¢ã‚’70è¿½åŠ ï¼ˆå¤‰æ•°ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">([ã‚¹ã‚³ã‚¢:] ã¨ (ã‚¹ã‚³ã‚¢ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">ã‚¹ã‚³ã‚¢ã‚’è¡¨ç¤ºï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 3å€‹</strong></div>
                </div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showScoreAnswer1()" id="scoreAnswerBtn1">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="score-answer1" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (0) ã«ã™ã‚‹ :: variables
([ã‚¹ã‚³ã‚¢:] ã¨ (ã‚¹ã‚³ã‚¢ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks
(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (30) ãšã¤å¤‰ãˆã‚‹ :: variables
([ã‚¹ã‚³ã‚¢:] ã¨ (ã‚¹ã‚³ã‚¢ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks
(ã‚¹ã‚³ã‚¢ :: variables) ã‚’ (70) ãšã¤å¤‰ãˆã‚‹ :: variables
([ã‚¹ã‚³ã‚¢:] ã¨ (ã‚¹ã‚³ã‚¢ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ç´ æ™´ã‚‰ã—ã„ï¼</strong> ã‚¹ã‚³ã‚¢è¨ˆç®—ã¨è¡¨ç¤ºã®ä»•çµ„ã¿ãŒç†è§£ã§ãã¾ã—ãŸã€‚
                    </div>
                </div>
            </div>
            
            <div class="info-box learn">
                <strong>ğŸŒŸ ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸï¼</strong><br>
                â€¢ å¤‰æ•°ã§ã‚¹ã‚³ã‚¢ã‚’ç®¡ç†<br>
                â€¢ åŠ ç®—ã§ãƒã‚¤ãƒ³ãƒˆç²å¾—<br>
                â€¢ æ–‡å­—åˆ—ã¨æ•°å€¤ã®çµ„ã¿åˆã‚ã›è¡¨ç¤º<br><br>
                <strong>ğŸ’¡ å¿œç”¨ä¾‹:</strong><br>
                â€¢ ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ ã®å¾—ç‚¹<br>
                â€¢ ãƒ‘ã‚ºãƒ«ã‚²ãƒ¼ãƒ ã®ã‚¯ãƒªã‚¢ç‚¹æ•°<br>
                â€¢ æ–™ç†ã‚²ãƒ¼ãƒ ã®è©•ä¾¡ãƒã‚¤ãƒ³ãƒˆ
            </div>
        </div>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="step-nav">
            <button class="btn" id="scorePrevBtn" onclick="changeScoreStep(-1)" disabled>å‰ã¸</button>
            <button class="btn" id="scoreNextBtn" onclick="changeScoreStep(1)">æ¬¡ã¸</button>
        </div>
    </div>

    <!-- æ–‡å­—åˆ—å¤‰æ•°ã‚·ã‚¹ãƒ†ãƒ  -->
    <div id="string-variables" style="display: none;">
        <div class="progress-bar">
            <div id="string-progress" class="progress-fill" style="width: 33%"></div>
        </div>
        <h2 id="string-step-title">ã‚¹ãƒ†ãƒƒãƒ— 1 / 3</h2>

        <!-- Step 1: ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹ -->
        <div id="string-step1" class="step-container step-active">
            <h3>ğŸ’¬ æ–‡å­—åˆ—å¤‰æ•°ï¼šåå‰ã‚’è¦šãˆã‚ˆã†</h3>
            <div class="info-box learn">
                <strong>ğŸ“š æ–‡å­—åˆ—å¤‰æ•°ã«ã¤ã„ã¦å­¦ã¼ã†ï¼</strong><br>
                å¤‰æ•°ã¯æ•°å­—ã ã‘ã§ãªãã€æ–‡å­—ï¼ˆã‚‚ã˜ï¼‰ã‚‚è¦šãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚<br>
                â€¢ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®åå‰ã‚’è¦šãˆã‚‹<br>
                â€¢ å¥½ããªè‰²ã‚„ãƒšãƒƒãƒˆã®åå‰<br>
                â€¢ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„ç‰©èªã‚’ä½œã‚‹<br><br>
                <strong>ğŸ“ ä»Šæ—¥ã®ã‚‚ãã²ã‚‡ã†:</strong> æ–‡å­—ã‚’è¦šãˆã¦ã€ã‚ã„ã•ã¤ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã‚ã†ï¼
            </div>

            <h3>ğŸ¬ æ–‡å­—åˆ—å¤‰æ•°ã®å‹•ãã‚’è¦‹ã¦ã¿ã‚ˆã†</h3>
            <p>ã¾ãšã¯æ–‡å­—åˆ—å¤‰æ•°ãŒã©ã®ã‚ˆã†ã«å‹•ãã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
            
            <div class="animation-container">
                <h4>ğŸ“ æ–‡å­—åˆ—å¤‰æ•°ã®ãƒ‡ãƒ¢</h4>
                <div class="stage">
                    <div class="sprite">ğŸ‘‹</div>
                    <div id="name-display" style="font-size: 20px; color: #2c3e50; margin: 20px;">ğŸ‘¤ åå‰: </div>
                    <button class="play-btn" onclick="playNameAnimation()">â–¶ï¸ åå‰ã‚·ã‚¹ãƒ†ãƒ ã‚’è¦‹ã‚‹</button>
                    <button class="reset-btn" onclick="resetNameAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="name-status">æ–‡å­—åˆ—å¤‰æ•°ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</div>
            </div>

            <div class="info-box hint">
                <strong>ğŸ¤” ã©ã‚“ãªå‹•ãã‚’ã—ãŸï¼Ÿ</strong> åå‰ã‚’å…¥åŠ›ã—ã¦ã€ãã®åå‰ã‚’ä½¿ã£ã¦è‰²ã€…ãªã‚ã„ã•ã¤ãŒã§ãã¾ã—ãŸï¼
            </div>

            <h3>ğŸ“¦ åå‰ã‚·ã‚¹ãƒ†ãƒ ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
            <p>ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®åå‰ã‚’è¦šãˆã¦ã€ã‚ã„ã•ã¤ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„] ã¨èã„ã¦å¾…ã¤ :: sensing</pre>
                    <div class="japanese-label">åå‰ã‚’èãï¼ˆèª¿ã¹ã‚‹ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(åå‰ :: variables) ã‚’ (ç­”ãˆ :: sensing) ã«ã™ã‚‹ :: variables</pre>
                    <div class="japanese-label">ç­”ãˆã‚’åå‰å¤‰æ•°ã«ä¿å­˜ï¼ˆå¤‰æ•°ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[ã“ã‚“ã«ã¡ã¯ã€] ã¨ (åå‰ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators</pre>
                    <div class="japanese-label">ã‚ã„ã•ã¤æ–‡ã‚’ä½œã‚‹ï¼ˆæ¼”ç®—ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">([ã“ã‚“ã«ã¡ã¯ã€] ã¨ (åå‰ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">ã‚ã„ã•ã¤ã‚’è¡¨ç¤ºï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="info-box success">
                <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’çµ„ã¿ç«‹ã¦ã¦ã€å®Ÿéš›ã«åå‰ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>

        <!-- Step 2: çµ„ã¿ç«‹ã¦ -->
        <div id="string-step2" class="step-container">
            <h3>ğŸ”§ åå‰ã‚·ã‚¹ãƒ†ãƒ ã‚’çµ„ã¿ç«‹ã¦ã‚ˆã†ï¼</h3>
            <p>å¤‰æ•°ã€Œåå‰ã€ã‚’ä½¿ã£ã¦ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®åå‰ã‚’è¦šãˆã¦ã‚ã„ã•ã¤ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚</p>
            
            <div class="block-container">
                <h4>ğŸ¯ çµ„ã¿ç«‹ã¦æ–¹:</h4>
                <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
[ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„] ã¨èã„ã¦å¾…ã¤ :: sensing
(åå‰ :: variables) ã‚’ (ç­”ãˆ :: sensing) ã«ã™ã‚‹ :: variables
([ã“ã‚“ã«ã¡ã¯ã€] ã¨ (åå‰ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks
(2) ç§’å¾…ã¤ :: control
([ä»Šæ—¥ã‚‚å…ƒæ°—ã§ã™ã­ã€] ã¨ (åå‰ :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨è¨€ã† :: looks
                </pre>
            </div>

            <div class="info-box hint">
                <strong>ğŸ’¡ æ–‡å­—åˆ—å¤‰æ•°ã®ãƒã‚¤ãƒ³ãƒˆ:</strong><br>
                â€¢ æ–‡å­—åˆ— = æ–‡å­—ã‚„è¨€è‘‰ã‚’å…¥ã‚Œã‚‹å¤‰æ•°<br>
                â€¢ ã€Œã¤ãªã’ã‚‹ã€ãƒ–ãƒ­ãƒƒã‚¯ã§æ–‡å­—ã‚’çµ„ã¿åˆã‚ã›<br>
                â€¢ ã€Œã¨èã„ã¦å¾…ã¤ã€ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’å—ã‘å–ã‚Š<br>
                â€¢ ã€Œç­”ãˆã€ãƒ–ãƒ­ãƒƒã‚¯ã§å…¥åŠ›ã•ã‚ŒãŸå†…å®¹ã‚’å–å¾—
            </div>

            <div class="info-box success">
                <strong>âœ… ã‚„ã£ã¦ã¿ã‚ˆã†ï¼</strong> å®Ÿéš›ã®Scratchã§ã“ã®ã¨ãŠã‚Šã«ãƒ–ãƒ­ãƒƒã‚¯ã‚’çµ„ã¿ç«‹ã¦ã¦ã€ç·‘ã®æ——ã‚’æŠ¼ã—ã¦ã¿ã¦ãã ã•ã„ï¼
            </div>
        </div>

        <!-- Step 3: ç·´ç¿’å•é¡Œ -->
        <div id="string-step3" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œï¼šå¥½ããªè‰²ã‚·ã‚¹ãƒ†ãƒ </h3>
            <p>å­¦ã‚“ã ã“ã¨ã‚’æ´»ã‹ã—ã¦ã€æ–‡å­—åˆ—å¤‰æ•°ã®ç·´ç¿’å•é¡Œã«æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ç·´ç¿’å•é¡Œ: å¥½ããªè‰²ã‚’èã“ã†</strong><br>
                æ¬¡ã®å‹•ãã‚’ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ï¼š<br>
                â€¢ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ã€Œå¥½ããªè‰²ã¯ï¼Ÿã€ã¨è³ªå•<br>
                â€¢ ç­”ãˆã‚’ã€Œè‰²ã€å¤‰æ•°ã«ä¿å­˜<br>
                â€¢ ã€Œã‚ãªãŸã®å¥½ããªè‰²ã¯â—‹â—‹ã§ã™ã­ï¼ã€ã¨è¡¨ç¤º<br>
            </div>

            <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ç·‘ã®æ——ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[å¥½ããªè‰²ã¯ï¼Ÿ] ã¨èã„ã¦å¾…ã¤ :: sensing</pre>
                    <div class="japanese-label">è³ªå•ã‚’ã™ã‚‹ï¼ˆèª¿ã¹ã‚‹ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(è‰² :: variables) ã‚’ (ç­”ãˆ :: sensing) ã«ã™ã‚‹ :: variables</pre>
                    <div class="japanese-label">ç­”ãˆã‚’å¤‰æ•°ã«ä¿å­˜ï¼ˆå¤‰æ•°ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[ã‚ãªãŸã®å¥½ããªè‰²ã¯] ã¨ (è‰² :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators</pre>
                    <div class="japanese-label">æ–‡å­—ã‚’ã¤ãªã’ã‚‹1ï¼ˆæ¼”ç®—ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">([ã‚ãªãŸã®å¥½ããªè‰²ã¯] ã¨ (è‰² :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨ [ã§ã™ã­ï¼] ã‚’ã¤ãªã’ã‚‹ :: operators</pre>
                    <div class="japanese-label">æ–‡å­—ã‚’ã¤ãªã’ã‚‹2ï¼ˆæ¼”ç®—ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(å®Œæˆã—ãŸæ–‡ç« ) ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showStringAnswer1()" id="stringAnswerBtn1">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="string-answer1" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
[å¥½ããªè‰²ã¯ï¼Ÿ] ã¨èã„ã¦å¾…ã¤ :: sensing
(è‰² :: variables) ã‚’ (ç­”ãˆ :: sensing) ã«ã™ã‚‹ :: variables
((([ã‚ãªãŸã®å¥½ããªè‰²ã¯] ã¨ (è‰² :: variables) ã‚’ã¤ãªã’ã‚‹ :: operators) ã¨ [ã§ã™ã­ï¼] ã‚’ã¤ãªã’ã‚‹ :: operators)) ã¨è¨€ã† :: looks
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ç´ æ™´ã‚‰ã—ã„ï¼</strong> æ–‡å­—åˆ—å¤‰æ•°ã¨æ¼”ç®—ãƒ–ãƒ­ãƒƒã‚¯ã®çµ„ã¿åˆã‚ã›ãŒã§ãã¾ã—ãŸã€‚
                    </div>
                </div>
            </div>
            
            <div class="info-box learn">
                <strong>ğŸŒŸ æ–‡å­—åˆ—å¤‰æ•°ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸï¼</strong><br>
                â€¢ æ–‡å­—ã‚’è¦šãˆã‚‹å¤‰æ•°ã®ä½¿ã„æ–¹<br>
                â€¢ ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®å—ã‘å–ã‚Šæ–¹<br>
                â€¢ æ–‡å­—åˆ—ã®é€£çµã¨è¡¨ç¤º<br><br>
                <strong>ğŸ’¡ å¿œç”¨ä¾‹:</strong><br>
                â€¢ ç‰©èªã‚²ãƒ¼ãƒ ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å<br>
                â€¢ ã‚¯ã‚¤ã‚ºã‚²ãƒ¼ãƒ ã®ç­”ãˆå…¥åŠ›<br>
                â€¢ æ—¥è¨˜ã‚¢ãƒ—ãƒªã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¿å­˜
            </div>
        </div>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="step-nav">
            <button class="btn" id="stringPrevBtn" onclick="changeStringStep(-1)" disabled>å‰ã¸</button>
            <button class="btn" id="stringNextBtn" onclick="changeStringStep(1)">æ¬¡ã¸</button>
        </div>
    </div>

    <!-- è¦‹ãŸç›®ã®å¤‰æ›´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div id="costumes-section" style="display: none;">
        <div class="progress-bar">
            <div id="costumes-progress" class="progress-fill" style="width: 25%"></div>
        </div>
        <h2 id="costumes-step-title">ã‚¹ãƒ†ãƒƒãƒ— 1 / 4</h2>

        <!-- Step 1: ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹ -->
        <div id="costumes-step1" class="step-container step-active">
            <h3>ğŸ‘— è¦‹ãŸç›®ã®å¤‰æ›´ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å§¿ã‚’å¤‰ãˆã‚ˆã†</h3>
            <div class="info-box learn">
                <strong>ğŸ“š è¦‹ãŸç›®ã®å¤‰æ›´ã«ã¤ã„ã¦å­¦ã¼ã†ï¼</strong><br>
                Scratchã§ã¯ã€ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã®è¦‹ãŸç›®ã‚’ã„ã‚ã„ã‚ãªæ–¹æ³•ã§å¤‰æ›´ã§ãã¾ã™ã€‚<br>
                â€¢ <strong>ã‚³ã‚¹ãƒãƒ¥ãƒ¼ãƒ å¤‰æ›´</strong>ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æœè£…ã‚„è¡¨æƒ…ã‚’å¤‰ãˆã‚‹<br>
                â€¢ <strong>ã‚µã‚¤ã‚ºå¤‰æ›´</strong>ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’å¤§ããã—ãŸã‚Šå°ã•ãã—ãŸã‚Š<br>
                â€¢ <strong>è‰²åŠ¹æœ</strong>ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è‰²ã‚’å¤‰ãˆã‚‹<br>
                â€¢ <strong>é€æ˜åŠ¹æœ</strong>ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’é€æ˜ã«ã™ã‚‹<br><br>
                <strong>ğŸ“ ä»Šæ—¥ã®ã‚‚ãã²ã‚‡ã†:</strong> è¦‹ãŸç›®ã®å¤‰æ›´ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã‚ˆã†ï¼
            </div>

            <h3>ğŸ¬ è¦‹ãŸç›®ã®å¤‰æ›´ã‚’è¦‹ã¦ã¿ã‚ˆã†</h3>
            <p>ã¾ãšã¯è¦‹ãŸç›®ãŒã©ã®ã‚ˆã†ã«å¤‰ã‚ã‚‹ã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
            
            <div class="animation-container">
                <h4>ğŸ­ è¦‹ãŸç›®å¤‰æ›´ã®ãƒ‡ãƒ¢</h4>
                <div class="stage" style="height: 300px; position: relative; overflow: visible;">
                    <div id="sprite-costumes" class="sprite" style="position: absolute; left: 200px; top: 100px; width: 80px; height: 80px; background: #ff6b6b; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 40px; color: white; font-weight: bold; border: 3px solid #333; transition: all 0.5s ease; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">ğŸ±</div>
                    <div id="speech-bubble-costumes" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playCostumesAnimation()">â–¶ï¸ è¦‹ãŸç›®ã®å¤‰æ›´ã‚’è¦‹ã‚‹</button>
                    <button class="reset-btn" onclick="resetCostumesAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="costumes-status">è¦‹ãŸç›®ãŒå¤‰ã‚ã‚‹æ§˜å­ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼</div>
            </div>

            <div class="info-box hint">
                <strong>ğŸ¤” ã©ã‚“ãªå¤‰åŒ–ã‚’ã—ãŸï¼Ÿ</strong> ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è¦‹ãŸç›®ãŒé †ç•ªã«å¤‰ã‚ã‚Šã¾ã—ãŸï¼å¤§ãã•ã€è‰²ã€é€æ˜åº¦ãªã©ã€ã„ã‚ã„ã‚ãªåŠ¹æœã‚’çµ„ã¿åˆã‚ã›ã¾ã—ãŸã€‚
            </div>

            <h3>ğŸ“¦ è¦‹ãŸç›®ã®å¤‰æ›´ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
            <p>è¦‹ãŸç›®ã‚’å¤‰æ›´ã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯ã§ã™ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚³ã‚¹ãƒãƒ¥ãƒ¼ãƒ ã‚’ [ã‚³ã‚¹ãƒãƒ¥ãƒ¼ãƒ 2 v] ã«ã™ã‚‹ :: looks</pre>
                    <div class="japanese-label">ã‚³ã‚¹ãƒãƒ¥ãƒ¼ãƒ å¤‰æ›´ï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">å¤§ãã•ã‚’ (150) ï¼…ã«ã™ã‚‹ :: looks</pre>
                    <div class="japanese-label">ã‚µã‚¤ã‚ºå¤‰æ›´ï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[è‰² v] ã®åŠ¹æœã‚’ (50) ã«ã™ã‚‹ :: looks</pre>
                    <div class="japanese-label">è‰²åŠ¹æœï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[ã†ã‚Œã—ã„ï¼] ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(2) ç§’å¾…ã¤ :: control</pre>
                    <div class="japanese-label">å¾…æ©Ÿï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 3å€‹</strong></div>
                </div>
            </div>

            <div class="info-box success">
                <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’çµ„ã¿ç«‹ã¦ã¦ã€å®Ÿéš›ã«è¦‹ãŸç›®ã‚’å¤‰æ›´ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>

        <!-- Step 2: çµ„ã¿ç«‹ã¦ -->
        <div id="costumes-step2" class="step-container">
            <h3>ğŸ”§ è¦‹ãŸç›®å¤‰æ›´ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ„ã¿ç«‹ã¦ã‚ˆã†ï¼</h3>
            <p>è¦‹ãŸç›®ã‚’å¤‰æ›´ã™ã‚‹ãƒ–ãƒ­ãƒƒã‚¯ã‚’çµ„ã¿ç«‹ã¦ã¦ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’å¤‰èº«ã•ã›ã¾ã™ã€‚</p>
            
            <div class="block-container">
                <h4>ğŸ¯ çµ„ã¿ç«‹ã¦æ–¹:</h4>
                <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
ã‚³ã‚¹ãƒãƒ¥ãƒ¼ãƒ ã‚’ [ã‚³ã‚¹ãƒãƒ¥ãƒ¼ãƒ 2 v] ã«ã™ã‚‹ :: looks
[æ–°ã—ã„è¦‹ãŸç›®ï¼] ã¨è¨€ã† :: looks
(2) ç§’å¾…ã¤ :: control
å¤§ãã•ã‚’ (150) ï¼…ã«ã™ã‚‹ :: looks
[å¤§ãããªã£ãŸï¼] ã¨è¨€ã† :: looks
(2) ç§’å¾…ã¤ :: control
[è‰² v] ã®åŠ¹æœã‚’ (50) ã«ã™ã‚‹ :: looks
[è‰²ã‚‚å¤‰ã‚ã£ãŸï¼] ã¨è¨€ã† :: looks
                </pre>
            </div>

            <div class="info-box hint">
                <strong>ğŸ’¡ é‡è¦ãªãƒã‚¤ãƒ³ãƒˆï¼</strong><br>
                â€¢ <strong>ã€Œã‚³ã‚¹ãƒãƒ¥ãƒ¼ãƒ ã‚’ã€œã«ã™ã‚‹ã€</strong>ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è¦‹ãŸç›®ã‚’å¤‰ãˆã‚‹<br>
                â€¢ <strong>ã€Œå¤§ãã•ã‚’ã€œï¼…ã«ã™ã‚‹ã€</strong>ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ã‚µã‚¤ã‚ºã‚’å¤‰ãˆã‚‹<br>
                â€¢ <strong>ã€Œè‰²ã®åŠ¹æœã‚’ã€œã«ã™ã‚‹ã€</strong>ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è‰²ã‚’å¤‰ãˆã‚‹<br>
                â€¢ <strong>ã€Œã€œã¨è¨€ã†ã€</strong>ï¼šå¤‰åŒ–ã‚’èª¬æ˜ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
            </div>

            <div class="info-box learn">
                <strong>ğŸ“ è¦‹ãŸç›®ã®å¤‰æ›´ã®åŸºæœ¬ãƒ«ãƒ¼ãƒ«</strong><br>
                â€¢ åŠ¹æœã¯é‡ã­ã¦ä½¿ã†ã“ã¨ãŒã§ãã‚‹<br>
                â€¢ åŠ¹æœã®å€¤ã‚’å¤‰ãˆã‚‹ã“ã¨ã§ã€å¤‰åŒ–ã®åº¦åˆã„ã‚’èª¿æ•´ã§ãã‚‹<br>
                â€¢ ã€Œå…ƒã«æˆ»ã™ã€ã“ã¨ã‚‚å¯èƒ½<br>
                â€¢ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚ˆã†ãªåŠ¹æœã‚’ä½œã‚Œã‚‹
            </div>

            <div class="info-box success">
                <strong>âœ… ã‚„ã£ã¦ã¿ã‚ˆã†ï¼</strong> å®Ÿéš›ã®Scratchã§çµ„ã¿ç«‹ã¦ã¦ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒå¤‰èº«ã™ã‚‹æ§˜å­ã‚’ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ï¼
            </div>
        </div>

        <!-- Step 3: è©³ã—ã„è§£èª¬ -->
        <div id="costumes-step3" class="step-container">
            <h3>ğŸ” è¦‹ãŸç›®åŠ¹æœã®ç¨®é¡ã‚’è©³ã—ãå­¦ã¼ã†</h3>
            <p>Scratchã§ä½¿ãˆã‚‹è¦‹ãŸç›®åŠ¹æœã«ã¤ã„ã¦è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š è¦‹ãŸç›®åŠ¹æœã®ç¨®é¡</strong><br>
                Scratchã«ã¯å¤šãã®è¦‹ãŸç›®åŠ¹æœãŒã‚ã‚Šã¾ã™ï¼š<br>
                â€¢ <strong>è‰²åŠ¹æœ</strong>ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è‰²ç›¸ã‚’å¤‰ãˆã‚‹ï¼ˆ0-200ï¼‰<br>
                â€¢ <strong>é­šçœ¼åŠ¹æœ</strong>ï¼šãƒ¬ãƒ³ã‚ºã®ã‚ˆã†ãªæ­ªã¿ã‚’ä½œã‚‹<br>
                â€¢ <strong>æ—‹å›åŠ¹æœ</strong>ï¼šæ¸¦å·»ãã®ã‚ˆã†ãªåŠ¹æœ<br>
                â€¢ <strong>ãƒ”ã‚¯ã‚»ãƒ«åŠ¹æœ</strong>ï¼šãƒ¢ã‚¶ã‚¤ã‚¯ã®ã‚ˆã†ãªåŠ¹æœ<br>
                â€¢ <strong>ãƒ¢ã‚¶ã‚¤ã‚¯åŠ¹æœ</strong>ï¼šç”»åƒã‚’ã¼ã‹ã™åŠ¹æœ<br>
                â€¢ <strong>æ˜åº¦åŠ¹æœ</strong>ï¼šæ˜ã‚‹ã•ã‚’å¤‰ãˆã‚‹<br>
                â€¢ <strong>å¹½éœŠåŠ¹æœ</strong>ï¼šé€æ˜åº¦ã‚’å¤‰ãˆã‚‹ï¼ˆ0-100ï¼‰
            </div>

            <h3>ğŸ¬ ã„ã‚ã„ã‚ãªåŠ¹æœã‚’è¦‹ã¦ã¿ã‚ˆã†</h3>
            <div class="animation-container">
                <h4>ğŸŒˆ åŠ¹æœã®ç¨®é¡ãƒ‡ãƒ¢</h4>
                <div class="stage">
                    <div id="sprite-effects" class="sprite" style="position: absolute; left: 200px; top: 100px;">ğŸ­</div>
                    <div id="speech-bubble-effects" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playEffectsAnimation()">â–¶ï¸ ã„ã‚ã„ã‚ãªåŠ¹æœã‚’è¦‹ã‚‹</button>
                    <button class="reset-btn" onclick="resetEffectsAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="effects-status">æ§˜ã€…ãªåŠ¹æœã‚’ä½“é¨“ã—ã¦ã¿ã‚ˆã†</div>
            </div>

            <div class="info-box hint">
                <strong>ğŸ¤” ç†è§£ã®ãƒã‚¤ãƒ³ãƒˆ</strong><br>
                â€¢ åŠ¹æœã¯æ•°å€¤ã§å¼·ã•ã‚’èª¿æ•´ã§ãã‚‹<br>
                â€¢ è¤‡æ•°ã®åŠ¹æœã‚’åŒæ™‚ã«ä½¿ã†ã“ã¨ã‚‚å¯èƒ½<br>
                â€¢ ã€Œå…¨ã¦ã®åŠ¹æœã‚’ãªãã™ã€ã§å…ƒã«æˆ»ã›ã‚‹<br>
                â€¢ ã‚²ãƒ¼ãƒ ã‚„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§è¡¨ç¾åŠ›ãŒã‚¢ãƒƒãƒ—
            </div>

            <h3>ğŸ“Š è¦‹ãŸç›®å¤‰æ›´ã‚’ä½¿ã£ãŸè¡¨ç¾ã®ä¾‹</h3>
            <div class="blocks-grid">
                <div class="block-item">
                    <div class="example-icon">ğŸ‘»</div>
                    <div class="example-title">å¹½éœŠåŠ¹æœ</div>
                    <div class="example-desc">ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒã ã‚“ã ã‚“é€æ˜ã«ãªã£ã¦æ¶ˆãˆã‚‹</div>
                </div>
                <div class="block-item">
                    <div class="example-icon">ğŸŒˆ</div>
                    <div class="example-title">è‰²å¤‰åŒ–</div>
                    <div class="example-desc">ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è‰²ãŒè™¹è‰²ã«å¤‰ã‚ã‚‹</div>
                </div>
                <div class="block-item">
                    <div class="example-icon">ğŸ“</div>
                    <div class="example-title">ã‚µã‚¤ã‚ºå¤‰åŒ–</div>
                    <div class="example-desc">ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒå¤§ãããªã£ãŸã‚Šå°ã•ããªã£ãŸã‚Š</div>
                </div>
                <div class="block-item">
                    <div class="example-icon">ğŸª</div>
                    <div class="example-title">å¤‰èº«ã‚·ãƒ¼ãƒ³</div>
                    <div class="example-desc">ã‚³ã‚¹ãƒãƒ¥ãƒ¼ãƒ ã‚’å¤‰ãˆã¦è¯éº—ãªå¤‰èº«</div>
                </div>
            </div>

            <div class="info-box success">
                <strong>âœ¨ æ¬¡ã¯å®Ÿéš›ã«ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong> ã‚¹ãƒ†ãƒƒãƒ—4ã§ã¯å®Ÿéš›ã«è¦‹ãŸç›®å¤‰æ›´ã‚’ä½¿ã£ãŸè¡¨ç¾ã‚’ä½“é¨“ã—ã¾ã™ã€‚
            </div>
        </div>

        <!-- Step 4: ç·´ç¿’å•é¡Œ -->
        <div id="costumes-step4" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œ: è™¹è‰²å¤‰èº«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</h3>
            <p>ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒè™¹è‰²ã«å¤‰èº«ã™ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ãƒãƒ£ãƒ¬ãƒ³ã‚¸å†…å®¹</strong><br>
                ä»Šå›ã¯ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ï¼š<br>
                â€¢ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒã€Œå¤‰èº«ã—ã¾ã™ï¼ã€ã¨è¨€ã†<br>
                â€¢ 6å›ç¹°ã‚Šè¿”ã—ã¦è™¹è‰²ã«å¤‰åŒ–<br>
                â€¢ å„è‰²ã§0.5ç§’å¾…ã¤<br>
                â€¢ æœ€å¾Œã«å…ƒã®è‰²ã«æˆ»ã‚‹<br>
                â€¢ ã€Œå¤‰èº«å®Œäº†ï¼ã€ã¨è¨€ã†
            </div>

            <h3>ğŸ¬ ç›®æ¨™ã®å‹•ãã‚’ç¢ºèªã—ã‚ˆã†</h3>
            <div class="animation-container">
                <h4>ğŸŒˆ è™¹è‰²å¤‰èº«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</h4>
                <div class="stage">
                    <div id="sprite-rainbow" class="sprite" style="position: absolute; left: 200px; top: 100px;">ğŸ¦„</div>
                    <div id="speech-bubble-rainbow" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playRainbowAnimation()">â–¶ï¸ è™¹è‰²å¤‰èº«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</button>
                    <button class="reset-btn" onclick="resetRainbowAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="rainbow-status">è™¹è‰²ã«å¤‰èº«ã™ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</div>
            </div>

            <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ é–‹å§‹<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[å¤‰èº«ã—ã¾ã™ï¼] ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">é–‹å§‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(6) å›ç¹°ã‚Šè¿”ã™ {
} :: control</pre>
                    <div class="japanese-label">6å›ç¹°ã‚Šè¿”ã—<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[è‰² v] ã®åŠ¹æœã‚’ (30) ãšã¤å¤‰ãˆã‚‹ :: looks</pre>
                    <div class="japanese-label">è‰²åŠ¹æœã‚’å¤‰æ›´<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(0.5) ç§’å¾…ã¤ :: control</pre>
                    <div class="japanese-label">çŸ­ã„å¾…æ©Ÿ<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 2å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[è‰² v] ã®åŠ¹æœã‚’ãªãã™ :: looks</pre>
                    <div class="japanese-label">è‰²åŠ¹æœãƒªã‚»ãƒƒãƒˆ<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[å¤‰èº«å®Œäº†ï¼] ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showCostumesAnswer()">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="costumes-answer" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£ãƒ—ãƒ­ã‚°ãƒ©ãƒ :</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
[å¤‰èº«ã—ã¾ã™ï¼] ã¨è¨€ã† :: looks
(0.5) ç§’å¾…ã¤ :: control
(6) å›ç¹°ã‚Šè¿”ã™ {
[è‰² v] ã®åŠ¹æœã‚’ (30) ãšã¤å¤‰ãˆã‚‹ :: looks
(0.5) ç§’å¾…ã¤ :: control
} :: control
[è‰² v] ã®åŠ¹æœã‚’ãªãã™ :: looks
[å¤‰èº«å®Œäº†ï¼] ã¨è¨€ã† :: looks
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ã‚ˆãã§ãã¾ã—ãŸï¼</strong><br>
                        â€¢ ç¹°ã‚Šè¿”ã—ãƒ–ãƒ­ãƒƒã‚¯ã§6å›è‰²ã‚’å¤‰æ›´<br>
                        â€¢ ã€Œãšã¤å¤‰ãˆã‚‹ã€ã§æ®µéšçš„ã«è‰²ã‚’å¤‰åŒ–<br>
                        â€¢ å¾…æ©Ÿãƒ–ãƒ­ãƒƒã‚¯ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ<br>
                        â€¢ æœ€å¾Œã«åŠ¹æœã‚’ãƒªã‚»ãƒƒãƒˆ
                    </div>
                </div>
            </div>

            <div class="info-box challenge">
                <strong>ğŸš€ ã•ã‚‰ãªã‚‹ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼</strong><br>
                åŸºæœ¬ãŒã§ããŸã‚‰ã€ã“ã‚“ãªã‚¢ãƒ¬ãƒ³ã‚¸ã‚‚è©¦ã—ã¦ã¿ã‚ˆã†ï¼š<br>
                â€¢ å¤§ãã•ã‚‚ä¸€ç·’ã«å¤‰ãˆã¦ã¿ã‚‹<br>
                â€¢ å¹½éœŠåŠ¹æœã¨çµ„ã¿åˆã‚ã›ã‚‹<br>
                â€¢ ç¹°ã‚Šè¿”ã—å›æ•°ã‚’å¤‰ãˆã‚‹<br>
                â€¢ ã‚³ã‚¹ãƒãƒ¥ãƒ¼ãƒ ã‚‚å¤‰æ›´ã—ã¦ã¿ã‚‹
            </div>
        </div>

        <div class="step-nav">
            <button class="btn" id="costumesPrevBtn" onclick="changeCostumesStep(-1)" disabled>å‰ã¸</button>
            <button class="btn" id="costumesNextBtn" onclick="changeCostumesStep(1)">æ¬¡ã¸</button>
            <button class="btn" onclick="showHome()" style="background: #666;">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
        </div>
    </div>

    <!-- ã‚¯ãƒ­ãƒ¼ãƒ³æ©Ÿèƒ½ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="clones-menu" style="display: none;">
        <div class="container">
            <div style="background: #7C3F9E; color: white; padding: 25px; border-radius: 20px; margin-bottom: 30px; text-align: center; box-shadow: 0 8px 20px rgba(124, 63, 158, 0.3); border: 3px solid #fff;">
                <h1>ğŸ‘¥ ã‚¯ãƒ­ãƒ¼ãƒ³æ©Ÿèƒ½</h1>
                <p>ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’ãŸãã•ã‚“ä½œã£ã¦ã¿ã‚ˆã†ï¼</p>
            </div>

            <div class="lesson-grid">
                <div class="lesson-card" onclick="showBasicClone()">
                    <div class="emoji">ğŸ§¬</div>
                    <div class="lesson-title">åŸºæœ¬çš„ãªã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆ</div>
                    <div class="lesson-desc">ã‚¯ãƒ­ãƒ¼ãƒ³ã®åŸºæœ¬æ¦‚å¿µã‚’å­¦ã¼ã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showCloneMovement()">
                    <div class="emoji">ğŸƒ</div>
                    <div class="lesson-title">ã‚¯ãƒ­ãƒ¼ãƒ³ã§å‹•ãã‚’ä½œã‚‹</div>
                    <div class="lesson-desc">è¤‡æ•°ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã«å‹•ãã‚’ä¸ãˆã‚ˆã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showCloneDeletion()">
                    <div class="emoji">ğŸ—‘ï¸</div>
                    <div class="lesson-title">ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‰Šé™¤ã¨ç®¡ç†</div>
                    <div class="lesson-desc">ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä¸Šæ‰‹ã«ç®¡ç†ã—ã‚ˆã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showCloneApplications()">
                    <div class="emoji">ğŸ†</div>
                    <div class="lesson-title">ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½¿ã£ãŸå¿œç”¨ä¾‹</div>
                    <div class="lesson-desc">æ˜Ÿç©ºã‚„èŠ±ç«ã‚’ä½œã£ã¦ã¿ã‚ˆã†ï¼</div>
                </div>
            </div>

            <div class="step-nav">
                <button class="btn" onclick="showHome()" style="background: #666;">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
            </div>
        </div>
    </div>

    <!-- åŸºæœ¬çš„ãªã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆ -->
    <div id="basic-clone-section" style="display: none;">
        <div class="progress-bar">
            <div id="clone-basic-progress" class="progress-fill" style="width: 25%"></div>
        </div>
        <h2 id="clone-basic-step-title">ã‚¹ãƒ†ãƒƒãƒ— 1 / 4</h2>

        <!-- Step 1: ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹ -->
        <div id="clone-basic-step1" class="step-container step-active">
            <h3>ğŸ§¬ åŸºæœ¬çš„ãªã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆï¼šã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã‚ˆã†</h3>
            <div class="info-box learn">
                <strong>ğŸ“š ã‚¯ãƒ­ãƒ¼ãƒ³ã«ã¤ã„ã¦å­¦ã¼ã†ï¼</strong><br>
                ã‚¯ãƒ­ãƒ¼ãƒ³ã¨ã¯ã€å…ƒã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã¨ã¾ã£ãŸãåŒã˜è¦‹ãŸç›®ã®ã‚³ãƒ”ãƒ¼ã‚’ä½œã‚‹æ©Ÿèƒ½ã§ã™ã€‚<br>
                â€¢ 1ã¤ã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‹ã‚‰ä½•å€‹ã§ã‚‚ã‚³ãƒ”ãƒ¼ãŒä½œã‚Œã‚‹<br>
                â€¢ ãã‚Œãã‚Œã®ã‚¯ãƒ­ãƒ¼ãƒ³ã¯ç‹¬ç«‹ã—ã¦å‹•ã‹ã›ã‚‹<br>
                â€¢ ã‚²ãƒ¼ãƒ ã§ãŸãã•ã‚“ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚„ç‰©ã‚’å‡ºã—ãŸã„ã¨ãã«ä¾¿åˆ©<br><br>
                <strong>ğŸ“ ä»Šæ—¥ã®ã‚‚ãã²ã‚‡ã†:</strong> ã‚¯ãƒ­ãƒ¼ãƒ³æ©Ÿèƒ½ã®åŸºæœ¬ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã‚ˆã†ï¼
            </div>

            <h3>ğŸ¬ ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆã®å‹•ãã‚’è¦‹ã¦ã¿ã‚ˆã†</h3>
            <p>ã¾ãšã¯ã‚¯ãƒ­ãƒ¼ãƒ³ãŒã©ã®ã‚ˆã†ã«ä½œã‚‰ã‚Œã‚‹ã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
            
            <div class="animation-container">
                <h4>ğŸ‘¥ ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆã®ãƒ‡ãƒ¢</h4>
                <div class="stage" style="height: 300px; position: relative; overflow: visible;">
                    <div id="sprite-clone-basic" class="sprite" style="position: absolute; left: 50px; top: 50px; width: 50px; height: 50px; background: #ff6b6b; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; color: white; font-weight: bold; border: 3px solid #333; transition: all 0.5s ease; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">ğŸ˜¸</div>
                    <div id="speech-bubble-clone-basic" class="speech-bubble" style="position: absolute; background: white; border: 2px solid #333; border-radius: 10px; padding: 8px 12px; font-size: 14px; font-weight: bold; display: none; z-index: 10; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"></div>
                    <button class="play-btn" onclick="startBasicCloneAnimation()">â–¶ï¸ ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆã‚’è¦‹ã‚‹</button>
                    <button class="reset-btn" onclick="resetBasicCloneAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="clone-basic-status">ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚Œã‚‹æ§˜å­ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼</div>
            </div>

            <div class="info-box hint">
                <strong>ğŸ¤” ã©ã‚“ãªå‹•ãã‚’ã—ãŸï¼Ÿ</strong> å…ƒã®çŒ«ã‹ã‚‰åŒã˜è¦‹ãŸç›®ã®çŒ«ã®ã‚³ãƒ”ãƒ¼ãŒ3å€‹ä½œã‚‰ã‚Œã¾ã—ãŸï¼ãã‚Œãã‚ŒãŒç‹¬ç«‹ã—ã¦å­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚
            </div>

            <h3>ğŸ“¦ ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
            <p>ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ãŸã‚ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯ã§ã™ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚ŒãŸã¨ãã®ã‚¤ãƒ™ãƒ³ãƒˆ<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[ã“ã‚“ã«ã¡ã¯ï¼] ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ãŒã‚ã„ã•ã¤ï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(3) å›ç¹°ã‚Šè¿”ã™ {
} :: control</pre>
                    <div class="japanese-label">ç¹°ã‚Šè¿”ã—ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆ3å€‹ã®ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆç”¨ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(1) ç§’å¾…ã¤ :: control</pre>
                    <div class="japanese-label">å¾…æ©Ÿãƒ–ãƒ­ãƒƒã‚¯ï¼ˆã‚¿ã‚¤ãƒŸãƒ³ã‚°èª¿æ•´ç”¨ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="info-box success">
                <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã£ã¦å®Ÿéš›ã«ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>

        <!-- Step 2: çµ„ã¿ç«‹ã¦ -->
        <div id="clone-basic-step2" class="step-container">
            <h3>ğŸ”§ ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ„ã¿ç«‹ã¦ã‚ˆã†ï¼</h3>
            <p>ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ãƒ–ãƒ­ãƒƒã‚¯ã‚’çµ„ã¿ç«‹ã¦ã¦ã€å®Ÿéš›ã«ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã®ã‚³ãƒ”ãƒ¼ã‚’ä½œã‚Šã¾ã™ã€‚</p>
            
            <div class="block-container">
                <h4>ğŸ¯ çµ„ã¿ç«‹ã¦æ–¹:</h4>
                <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(3) å›ç¹°ã‚Šè¿”ã™ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
(1) ç§’å¾…ã¤ :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
[ã“ã‚“ã«ã¡ã¯ï¼] ã¨è¨€ã† :: looks
                </pre>
            </div>

            <div class="info-box hint">
                <strong>ğŸ’¡ é‡è¦ãªãƒã‚¤ãƒ³ãƒˆï¼</strong><br>
                â€¢ <strong>ã€Œã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ã€ãƒ–ãƒ­ãƒƒã‚¯</strong>ï¼šæ–°ã—ã„ã‚³ãƒ”ãƒ¼ã‚’1å€‹ä½œã‚‹<br>
                â€¢ <strong>ã€Œã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ãã€</strong>ï¼šä½œã‚‰ã‚ŒãŸã‚¯ãƒ­ãƒ¼ãƒ³ãŒæœ€åˆã«å®Ÿè¡Œã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ <br>
                â€¢ <strong>ç¹°ã‚Šè¿”ã—</strong>ï¼šåŒã˜ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’è¤‡æ•°å€‹ä½œã‚‹ãŸã‚<br>
                â€¢ <strong>å¾…ã¤</strong>ï¼šã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’èª¿æ•´
            </div>

            <div class="info-box learn">
                <strong>ğŸ“ ã‚¯ãƒ­ãƒ¼ãƒ³ã®åŸºæœ¬ãƒ«ãƒ¼ãƒ«</strong><br>
                â€¢ ã‚¯ãƒ­ãƒ¼ãƒ³ã¯å…ƒã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã¨åŒã˜è¦‹ãŸç›®ã§ä½œã‚‰ã‚Œã‚‹<br>
                â€¢ ã‚¯ãƒ­ãƒ¼ãƒ³ã«ã‚‚ç‹¬ç«‹ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›¸ã‘ã‚‹<br>
                â€¢ ã€Œã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ãã€ã§ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‹•ä½œã‚’æ±ºã‚ã‚‹<br>
                â€¢ å…ƒã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã¨ã‚¯ãƒ­ãƒ¼ãƒ³ã¯åˆ¥ã€…ã«å‹•ã
            </div>

            <div class="info-box success">
                <strong>âœ… ã‚„ã£ã¦ã¿ã‚ˆã†ï¼</strong> å®Ÿéš›ã®Scratchã§çµ„ã¿ç«‹ã¦ã¦ã€ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚Œã‚‹æ§˜å­ã‚’ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ï¼
            </div>
        </div>

        <!-- Step 3: è©³ã—ã„è§£èª¬ -->
        <div id="clone-basic-step3" class="step-container">
            <h3>ğŸ” ã‚¯ãƒ­ãƒ¼ãƒ³ã®ä»•çµ„ã¿ã‚’è©³ã—ãå­¦ã¼ã†</h3>
            <p>ã‚¯ãƒ­ãƒ¼ãƒ³ãŒã©ã®ã‚ˆã†ã«å‹•ãã®ã‹ã€è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ã‚¯ãƒ­ãƒ¼ãƒ³ã®é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ</strong><br>
                ã‚¯ãƒ­ãƒ¼ãƒ³ã«ã¯å…ƒã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã¨ã¯é•ã†ç‰¹åˆ¥ãªæ€§è³ªãŒã‚ã‚Šã¾ã™ï¼š<br>
                â€¢ <strong>ç‹¬ç«‹æ€§</strong>ï¼šã‚¯ãƒ­ãƒ¼ãƒ³ã¯å…ƒã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã¨ã¯åˆ¥ã€…ã«å‹•ã<br>
                â€¢ <strong>åŒä¸€æ€§</strong>ï¼šè¦‹ãŸç›®ã¯å…ƒã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã¨å…¨ãåŒã˜<br>
                â€¢ <strong>ä¸€æ„æ€§</strong>ï¼šãã‚Œãã‚Œã®ã‚¯ãƒ­ãƒ¼ãƒ³ã«å€‹åˆ¥ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒå®Ÿè¡Œã•ã‚Œã‚‹<br>
                â€¢ <strong>ç¶™æ‰¿æ€§</strong>ï¼šå…ƒã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã®è¨­å®šï¼ˆã‚³ã‚¹ãƒãƒ¥ãƒ¼ãƒ ã€ã‚µã‚¤ã‚ºãªã©ï¼‰ã‚’ç¶™æ‰¿
            </div>

            <h3>ğŸ¬ ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‹•ãæ–¹ã‚’è©³ã—ãè¦‹ã‚ˆã†</h3>
            <div class="animation-container">
                <h4>ğŸ“‹ ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆã®æµã‚Œ</h4>
                <div class="stage">
                    <div id="sprite-clone-detail" class="sprite" style="position: absolute; left: 50px; top: 50px;">ğŸ­</div>
                    <div id="speech-bubble-clone-detail" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playCloneDetailAnimation()">â–¶ï¸ è©³ã—ã„ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆã‚’è¦‹ã‚‹</button>
                    <button class="reset-btn" onclick="resetCloneDetailAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="clone-detail-status">ã‚¯ãƒ­ãƒ¼ãƒ³ã®è©³ã—ã„å‹•ä½œã‚’è¦‹ã¦ã¿ã‚ˆã†</div>
            </div>

            <div class="info-box hint">
                <strong>ğŸ¤” ç†è§£ã®ãƒã‚¤ãƒ³ãƒˆ</strong><br>
                â€¢ å…ƒã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒã€Œã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ã€ãƒ–ãƒ­ãƒƒã‚¯ã‚’å®Ÿè¡Œ<br>
                â€¢ æ–°ã—ã„ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚Œã‚‹ç¬é–“ã«ã€Œã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ãã€ãŒå®Ÿè¡Œã•ã‚Œã‚‹<br>
                â€¢ ã‚¯ãƒ­ãƒ¼ãƒ³ã¯ä½œã‚‰ã‚ŒãŸå ´æ‰€ã§ç‹¬è‡ªã®å‹•ä½œã‚’é–‹å§‹<br>
                â€¢ å…ƒã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã¯æ¬¡ã®å‡¦ç†ã‚’ç¶šè¡Œ
            </div>

            <h3>ğŸ“Š ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½¿ã£ãŸè¡¨ç¾ã®ä¾‹</h3>
            <div class="blocks-grid">
                <div class="block-item">
                    <div class="example-icon">ğŸŒŸ</div>
                    <div class="example-title">æ˜Ÿç©ºåŠ¹æœ</div>
                    <div class="example-desc">ãŸãã•ã‚“ã®æ˜Ÿã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã§ä½œã£ã¦ã€ãã‚‰ã‚ãå¤œç©ºã‚’è¡¨ç¾</div>
                </div>
                <div class="block-item">
                    <div class="example-icon">ğŸ†</div>
                    <div class="example-title">èŠ±ç«ã‚²ãƒ¼ãƒ </div>
                    <div class="example-desc">æ‰“ã¡ä¸Šã’èŠ±ç«ã®ç«èŠ±ä¸€ã¤ä¸€ã¤ã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã§è¡¨ç¾</div>
                </div>
                <div class="block-item">
                    <div class="example-icon">ğŸ</div>
                    <div class="example-title">è½ã¡ã‚²ãƒ¼</div>
                    <div class="example-desc">ä¸Šã‹ã‚‰è½ã¡ã¦ãã‚‹ã‚¢ã‚¤ãƒ†ãƒ ã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã§å¤§é‡ç”Ÿæˆ</div>
                </div>
                <div class="block-item">
                    <div class="example-icon">ğŸ‘¾</div>
                    <div class="example-title">æ•µã‚­ãƒ£ãƒ©</div>
                    <div class="example-desc">ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ ã®æ•µã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã§æ¬¡ã€…ã¨å‡ºç¾</div>
                </div>
            </div>

            <div class="info-box success">
                <strong>âœ¨ æ¬¡ã¯å®Ÿéš›ã«ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong> ã‚¹ãƒ†ãƒƒãƒ—4ã§ã¯å®Ÿéš›ã«ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½¿ã£ãŸè¡¨ç¾ã‚’ä½“é¨“ã—ã¾ã™ã€‚
            </div>
        </div>

        <!-- Step 4: ç·´ç¿’å•é¡Œ -->
        <div id="clone-basic-step4" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œ: è‰²é•ã„ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚ã†</h3>
            <p>ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã£ã¦ã€ãã‚Œãã‚Œã«é•ã†è‰²ã‚’ä»˜ã‘ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ãƒãƒ£ãƒ¬ãƒ³ã‚¸å†…å®¹</strong><br>
                ä»Šå›ã¯ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ï¼š<br>
                â€¢ 5å€‹ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹<br>
                â€¢ ãã‚Œãã‚Œã®ã‚¯ãƒ­ãƒ¼ãƒ³ãŒé•ã†è‰²åŠ¹æœã‚’ä»˜ã‘ã‚‹<br>
                â€¢ ã‚¯ãƒ­ãƒ¼ãƒ³ã¯æ¨ªä¸€åˆ—ã«ä¸¦ã¶<br>
                â€¢ ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚Œã‚‹ãŸã³ã«ã‚ã„ã•ã¤ã‚’ã™ã‚‹
            </div>

            <h3>ğŸ¬ ç›®æ¨™ã®å‹•ãã‚’ç¢ºèªã—ã‚ˆã†</h3>
            <div class="animation-container">
                <h4>ğŸŒˆ è‰²é•ã„ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‹•ã</h4>
                <div class="stage">
                    <div id="sprite-clone-practice1" class="sprite" style="position: absolute; left: 50px; top: 100px;">ğŸ±</div>
                    <div id="speech-bubble-clone-practice1" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playClonePractice1Animation()">â–¶ï¸ è‰²é•ã„ã‚¯ãƒ­ãƒ¼ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</button>
                    <button class="reset-btn" onclick="resetClonePractice1Animation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="clone-practice1-status">ã‚«ãƒ©ãƒ•ãƒ«ãªã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚Œã¾ã™</div>
            </div>

            <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ é–‹å§‹<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(5) å›ç¹°ã‚Šè¿”ã™ {
} :: control</pre>
                    <div class="japanese-label">5å›ç¹°ã‚Šè¿”ã—<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆ<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(1) ç§’å¾…ã¤ :: control</pre>
                    <div class="japanese-label">å¾…æ©Ÿ<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">è‰²ã®åŠ¹æœã‚’ (25) ã«ã™ã‚‹ :: looks</pre>
                    <div class="japanese-label">è‰²åŠ¹æœå¤‰æ›´<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">xåº§æ¨™ã‚’ (100) ãšã¤å¤‰ãˆã‚‹ :: motion</pre>
                    <div class="japanese-label">ä½ç½®ç§»å‹•<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[ç§ã¯è‰²é•ã„ã§ã™ï¼] ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">ã‚ã„ã•ã¤ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showClonePractice1Answer()">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="clone-practice1-answer" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£ãƒ—ãƒ­ã‚°ãƒ©ãƒ :</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(5) å›ç¹°ã‚Šè¿”ã™ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
(1) ç§’å¾…ã¤ :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
è‰²ã®åŠ¹æœã‚’ (25) ã«ã™ã‚‹ :: looks
xåº§æ¨™ã‚’ (100) ãšã¤å¤‰ãˆã‚‹ :: motion
[ç§ã¯è‰²é•ã„ã§ã™ï¼] ã¨è¨€ã† :: looks
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ã‚ˆãã§ãã¾ã—ãŸï¼</strong><br>
                        â€¢ ç¹°ã‚Šè¿”ã—ãƒ–ãƒ­ãƒƒã‚¯ã§5å€‹ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œæˆ<br>
                        â€¢ ã€Œã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ãã€ã§ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‹•ä½œã‚’å®šç¾©<br>
                        â€¢ è‰²åŠ¹æœã§è¦‹ãŸç›®ã‚’å¤‰æ›´<br>
                        â€¢ xåº§æ¨™ã‚’å¤‰ãˆã¦æ¨ªã«ä¸¦ã¹ã‚‹
                    </div>
                </div>
            </div>

            <div class="info-box challenge">
                <strong>ğŸš€ ã•ã‚‰ãªã‚‹ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼</strong><br>
                åŸºæœ¬ãŒã§ããŸã‚‰ã€ã“ã‚“ãªã‚¢ãƒ¬ãƒ³ã‚¸ã‚‚è©¦ã—ã¦ã¿ã‚ˆã†ï¼š<br>
                â€¢ ã‚¯ãƒ­ãƒ¼ãƒ³ã®æ•°ã‚’å¤‰ãˆã¦ã¿ã‚‹ï¼ˆ3å€‹ã€10å€‹ãªã©ï¼‰<br>
                â€¢ è‰²åŠ¹æœã®å€¤ã‚’å¤‰ãˆã¦ã¿ã‚‹ï¼ˆ50ã€100ãªã©ï¼‰<br>
                â€¢ ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ç¸¦ã«ä¸¦ã¹ã¦ã¿ã‚‹ï¼ˆyåº§æ¨™ã‚’å¤‰ãˆã‚‹ï¼‰<br>
                â€¢ ç•°ãªã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨€ã‚ã›ã¦ã¿ã‚‹
            </div>
        </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showCloneAnswer1()" id="cloneAnswerBtn1">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="clone-answer1" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(5) å›ç¹°ã‚Šè¿”ã™ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
(0.5) ç§’å¾…ã¤ :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
[è‰² v] ã®åŠ¹æœã‚’ ([1] ã‹ã‚‰ [5] ã¾ã§ã®ä¹±æ•° :: operators) * (30) ãšã¤å¤‰ãˆã‚‹ :: looks
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ç´ æ™´ã‚‰ã—ã„ï¼</strong> ã‚¯ãƒ­ãƒ¼ãƒ³ã«è‰²åŠ¹æœã‚’ä»˜ã‘ã‚‹æ–¹æ³•ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸã€‚
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: ç·´ç¿’å•é¡Œ2 -->
        <div id="clone-basic-step4" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œ2: ä½ç½®ã‚’å¤‰ãˆã‚‹ã‚¯ãƒ­ãƒ¼ãƒ³</h3>
            <p>ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã£ã¦ã€ãã‚Œãã‚Œã‚’é•ã†ä½ç½®ã«ç§»å‹•ã•ã›ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                ã‚¯ãƒ­ãƒ¼ãƒ³ã®ä½ç½®ã‚’å¤‰ãˆã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ï¼š<br>
                â€¢ 3å€‹ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹<br>
                â€¢ ãã‚Œãã‚Œã®ã‚¯ãƒ­ãƒ¼ãƒ³ãŒé•ã†ä½ç½®ã«ç§»å‹•<br>
                â€¢ ä½ç½®ã¯ãƒ©ãƒ³ãƒ€ãƒ ã«æ±ºã¾ã‚‹<br>
                â€¢ ç§»å‹•ã—ãŸå¾Œã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
            </div>

            <h3>ğŸ¬ ç›®æ¨™ã®å‹•ãã‚’ç¢ºèªã—ã‚ˆã†</h3>
            <div class="animation-container">
                <h4>ğŸ“ ä½ç½®å¤‰æ›´ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‹•ã</h4>
                <div class="stage">
                    <div id="sprite-clone-practice2" class="sprite">ğŸ±</div>
                    <div id="speech-bubble-clone-practice2" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playClonePractice2Animation()">â–¶ï¸ ä½ç½®å¤‰æ›´ã‚¯ãƒ­ãƒ¼ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</button>
                    <button class="reset-btn" onclick="resetClonePractice2Animation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="clone-practice2-status">ã‚¯ãƒ­ãƒ¼ãƒ³ãŒè‰²ã€…ãªå ´æ‰€ã«æ•£ã‚‰ã°ã‚Šã¾ã™</div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showCloneAnswer2()" id="cloneAnswerBtn2">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="clone-answer2" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(3) å›ç¹°ã‚Šè¿”ã™ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
(1) ç§’å¾…ã¤ :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
xåº§æ¨™ã‚’ ([-200] ã‹ã‚‰ [200] ã¾ã§ã®ä¹±æ•° :: operators) ã€yåº§æ¨™ã‚’ ([-150] ã‹ã‚‰ [150] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: motion
[æ–°ã—ã„å ´æ‰€ã«æ¥ã¾ã—ãŸï¼] ã¨è¨€ã† :: looks
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ å®Œç’§ã§ã™ï¼</strong> ã‚¯ãƒ­ãƒ¼ãƒ³ã®ä½ç½®åˆ¶å¾¡ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸï¼
                    </div>
                </div>
            </div>
        </div>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="step-nav">
            <button class="btn" id="cloneBasicPrevBtn" onclick="changeCloneBasicStep(-1)" disabled>å‰ã¸</button>
            <button class="btn" id="cloneBasicNextBtn" onclick="changeCloneBasicStep(1)">æ¬¡ã¸</button>
        </div>
    </div>

    <!-- ã‚¯ãƒ­ãƒ¼ãƒ³ã§å‹•ãã‚’ä½œã‚‹ -->
    <div id="clone-movement-section" style="display: none;">
        <div class="progress-bar">
            <div id="clone-movement-progress" class="progress-fill" style="width: 25%"></div>
        </div>
        <h2 id="clone-movement-step-title">ã‚¹ãƒ†ãƒƒãƒ— 1 / 4</h2>

        <!-- Step 1: ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹ -->
        <div id="clone-movement-step1" class="step-container step-active">
            <h3>ğŸƒ ã‚¯ãƒ­ãƒ¼ãƒ³ã§å‹•ãã‚’ä½œã‚‹ï¼šã¿ã‚“ãªã§ä¸€ç·’ã«å‹•ã“ã†</h3>
            <div class="info-box learn">
                <strong>ğŸ“š ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‹•ãã«ã¤ã„ã¦å­¦ã¼ã†ï¼</strong><br>
                ã‚¯ãƒ­ãƒ¼ãƒ³ã¯ä½œã‚‰ã‚ŒãŸå¾Œã€ãã‚Œãã‚ŒãŒç‹¬ç«‹ã—ã¦å‹•ãã“ã¨ãŒã§ãã¾ã™ã€‚<br>
                â€¢ åŒã˜å‹•ãã‚’ã™ã‚‹ã‚¯ãƒ­ãƒ¼ãƒ³ï¼ˆã¿ã‚“ãªã§è¸Šã‚‹ï¼‰<br>
                â€¢ é•ã†å‹•ãã‚’ã™ã‚‹ã‚¯ãƒ­ãƒ¼ãƒ³ï¼ˆãã‚Œãã‚Œåˆ¥ã®æ–¹å‘ã¸ï¼‰<br>
                â€¢ ãƒ©ãƒ³ãƒ€ãƒ ãªå‹•ãã‚’ã™ã‚‹ã‚¯ãƒ­ãƒ¼ãƒ³ï¼ˆæ˜ŸãŒã‚­ãƒ©ã‚­ãƒ©ï¼‰<br><br>
                <strong>ğŸ“ ä»Šæ—¥ã®ã‚‚ãã²ã‚‡ã†:</strong> ã‚¯ãƒ­ãƒ¼ãƒ³ã«å‹•ãã‚’ä¸ãˆã¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚ã†ï¼
            </div>

            <h3>ğŸ¬ ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‹•ãã‚’è¦‹ã¦ã¿ã‚ˆã†</h3>
            <p>ã¾ãšã¯ã‚¯ãƒ­ãƒ¼ãƒ³ãŒã©ã®ã‚ˆã†ã«å‹•ãã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
            
            <div class="animation-container">
                <h4>ğŸƒ å‹•ãã‚¯ãƒ­ãƒ¼ãƒ³ã®ãƒ‡ãƒ¢</h4>
                <div class="stage">
                    <div id="sprite-clone-movement" class="sprite">ğŸ±</div>
                    <div id="speech-bubble-clone-movement" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playCloneMovementAnimation()">â–¶ï¸ å‹•ãã‚¯ãƒ­ãƒ¼ãƒ³ã‚’è¦‹ã‚‹</button>
                    <button class="reset-btn" onclick="resetCloneMovementAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="clone-movement-status">ã‚¯ãƒ­ãƒ¼ãƒ³ãŒå‹•ãæ§˜å­ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼</div>
            </div>

            <div class="info-box hint">
                <strong>ğŸ¤” ã©ã‚“ãªå‹•ãã‚’ã—ãŸï¼Ÿ</strong> 3ã¤ã®ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚Œã¦ã€ãã‚Œãã‚ŒãŒé•ã†æ–¹å‘ã«å‹•ã„ã¦ã„ãã¾ã—ãŸï¼
            </div>

            <h3>ğŸ“¦ ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‹•ãã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
            <p>ã‚¯ãƒ­ãƒ¼ãƒ³ã«å‹•ãã‚’ä»˜ã‘ã‚‹ãŸã‚ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯ã§ã™ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(3) å›ç¹°ã‚Šè¿”ã™ {
} :: control</pre>
                    <div class="japanese-label">3å›ç¹°ã‚Šè¿”ã—ï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚ŒãŸã¨ãã®ã‚¤ãƒ™ãƒ³ãƒˆ<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">([90] ã‹ã‚‰ [270] ã¾ã§ã®ä¹±æ•° :: operators) åº¦ã«å‘ã‘ã‚‹ :: motion</pre>
                    <div class="japanese-label">ãƒ©ãƒ³ãƒ€ãƒ ãªæ–¹å‘ã«å‘ãï¼ˆå‹•ããƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ãšã£ã¨ {
} :: control</pre>
                    <div class="japanese-label">ãšã£ã¨ç¹°ã‚Šè¿”ã—ï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(3) æ­©å‹•ã‹ã™ :: motion</pre>
                    <div class="japanese-label">å°‘ã—ãšã¤å‹•ãï¼ˆå‹•ããƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚‚ã—<ç«¯ã«è§¦ã‚ŒãŸ :: sensing>ãªã‚‰ {
} :: control</pre>
                    <div class="japanese-label">ç«¯ã«è§¦ã‚ŒãŸã‚‰è·³ã­è¿”ã‚‹æ¡ä»¶<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚‚ã—æ©‹ã«ç€ã„ãŸã‚‰è·³ã­è¿”ã‚‹ :: motion</pre>
                    <div class="japanese-label">è·³ã­è¿”ã‚Šï¼ˆå‹•ããƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="info-box success">
                <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã£ã¦å®Ÿéš›ã«ã‚¯ãƒ­ãƒ¼ãƒ³ã«å‹•ãã‚’ä¸ãˆã¦ã¿ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>

        <!-- Step 2: çµ„ã¿ç«‹ã¦ -->
        <div id="clone-movement-step2" class="step-container">
            <h3>ğŸ”§ å‹•ãã‚¯ãƒ­ãƒ¼ãƒ³ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ„ã¿ç«‹ã¦ã‚ˆã†ï¼</h3>
            <p>ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã£ã¦ã€ãã‚Œãã‚Œã«é•ã†å‹•ãã‚’ä¸ãˆã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚</p>
            
            <div class="block-container">
                <h4>ğŸ¯ çµ„ã¿ç«‹ã¦æ–¹:</h4>
                <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(3) å›ç¹°ã‚Šè¿”ã™ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
([90] ã‹ã‚‰ [270] ã¾ã§ã®ä¹±æ•° :: operators) åº¦ã«å‘ã‘ã‚‹ :: motion
ãšã£ã¨ {
(3) æ­©å‹•ã‹ã™ :: motion
ã‚‚ã—<ç«¯ã«è§¦ã‚ŒãŸ :: sensing>ãªã‚‰ {
ã‚‚ã—æ©‹ã«ç€ã„ãŸã‚‰è·³ã­è¿”ã‚‹ :: motion
} :: control
} :: control
                </pre>
            </div>

            <div class="info-box hint">
                <strong>ğŸ’¡ é‡è¦ãªãƒã‚¤ãƒ³ãƒˆï¼</strong><br>
                â€¢ <strong>ãƒ©ãƒ³ãƒ€ãƒ ãªæ–¹å‘</strong>ï¼šã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚Œã‚‹ãŸã³ã«é•ã†æ–¹å‘ã‚’å‘ã<br>
                â€¢ <strong>ã€Œãšã£ã¨ã€ãƒ–ãƒ­ãƒƒã‚¯</strong>ï¼šã‚¯ãƒ­ãƒ¼ãƒ³ãŒæ°¸ç¶šçš„ã«å‹•ãç¶šã‘ã‚‹<br>
                â€¢ <strong>ã€Œã‚‚ã—æ©‹ã«ç€ã„ãŸã‚‰è·³ã­è¿”ã‚‹ã€</strong>ï¼šç«¯ã«å½“ãŸã£ãŸã‚‰åå¯¾æ–¹å‘ã«é€²ã‚€<br>
                â€¢ <strong>ç‹¬ç«‹ã—ãŸå‹•ä½œ</strong>ï¼šå„ã‚¯ãƒ­ãƒ¼ãƒ³ãŒåˆ¥ã€…ã®å‹•ãã‚’ã™ã‚‹
            </div>

            <div class="info-box learn">
                <strong>ğŸ“ ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‹•ãã®ä»•çµ„ã¿</strong><br>
                â€¢ å„ã‚¯ãƒ­ãƒ¼ãƒ³ã¯ã€Œã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ãã€ã§ç‹¬è‡ªã®å‹•ä½œã‚’é–‹å§‹<br>
                â€¢ ã€Œãšã£ã¨ã€ãƒ–ãƒ­ãƒƒã‚¯ã§ã‚¯ãƒ­ãƒ¼ãƒ³ãŒç¶™ç¶šçš„ã«å‹•ã<br>
                â€¢ ãƒ©ãƒ³ãƒ€ãƒ è¦ç´ ã§å„ã‚¯ãƒ­ãƒ¼ãƒ³ãŒé•ã†å‹•ãã‚’ã™ã‚‹<br>
                â€¢ å…ƒã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã¨ã‚¯ãƒ­ãƒ¼ãƒ³ã¯å®Œå…¨ã«ç‹¬ç«‹
            </div>

            <div class="info-box success">
                <strong>âœ… ã‚„ã£ã¦ã¿ã‚ˆã†ï¼</strong> å®Ÿéš›ã®Scratchã§çµ„ã¿ç«‹ã¦ã¦ã€å‹•ãå›ã‚‹ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ï¼
            </div>
        </div>

        <!-- Step 3: ç·´ç¿’å•é¡Œ1 -->
        <div id="clone-movement-step3" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œ1: ã‚­ãƒ©ã‚­ãƒ©æ˜Ÿã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</h3>
            <p>æ˜Ÿã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã£ã¦ã€ã‚­ãƒ©ã‚­ãƒ©ã¨è¼ãã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                ã‚­ãƒ©ã‚­ãƒ©æ˜Ÿã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼š<br>
                â€¢ 10å€‹ã®æ˜Ÿã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹<br>
                â€¢ ãã‚Œãã‚Œã®æ˜ŸãŒç”»é¢ã®ãƒ©ãƒ³ãƒ€ãƒ ãªå ´æ‰€ã«ç§»å‹•<br>
                â€¢ æ˜ŸãŒå¤§ãããªã£ãŸã‚Šå°ã•ããªã£ãŸã‚Šã™ã‚‹<br>
                â€¢ è‰²ãŒãƒ©ãƒ³ãƒ€ãƒ ã«å¤‰ã‚ã‚‹
            </div>

            <h3>ğŸ¬ ç›®æ¨™ã®å‹•ãã‚’ç¢ºèªã—ã‚ˆã†</h3>
            <div class="animation-container">
                <h4>â­ ã‚­ãƒ©ã‚­ãƒ©æ˜Ÿã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</h4>
                <div class="stage">
                    <div id="sprite-clone-stars" class="sprite">â­</div>
                    <div id="speech-bubble-clone-stars" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playCloneStarsAnimation()">â–¶ï¸ ã‚­ãƒ©ã‚­ãƒ©æ˜Ÿã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</button>
                    <button class="reset-btn" onclick="resetCloneStarsAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="clone-stars-status">æ˜ŸãŒã‚­ãƒ©ã‚­ãƒ©ã¨è¼ãã¾ã™</div>
            </div>

            <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(10) å›ç¹°ã‚Šè¿”ã™ {
} :: control</pre>
                    <div class="japanese-label">10å›ç¹°ã‚Šè¿”ã—ï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">xåº§æ¨™ã‚’ ([-200] ã‹ã‚‰ [200] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: motion</pre>
                    <div class="japanese-label">ãƒ©ãƒ³ãƒ€ãƒ ãªXåº§æ¨™ã«ç§»å‹•<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">yåº§æ¨™ã‚’ ([-150] ã‹ã‚‰ [150] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: motion</pre>
                    <div class="japanese-label">ãƒ©ãƒ³ãƒ€ãƒ ãªYåº§æ¨™ã«ç§»å‹•<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[è‰² v] ã®åŠ¹æœã‚’ ([1] ã‹ã‚‰ [200] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: looks</pre>
                    <div class="japanese-label">è‰²ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«è¨­å®š<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ãšã£ã¨ {
} :: control</pre>
                    <div class="japanese-label">ãšã£ã¨ç¹°ã‚Šè¿”ã—ï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">å¤§ãã•ã‚’ (50) ï¼…ã«ã™ã‚‹ :: looks</pre>
                    <div class="japanese-label">å°ã•ãã™ã‚‹ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(0.2) ç§’å¾…ã¤ :: control</pre>
                    <div class="japanese-label">çŸ­æ™‚é–“å¾…æ©Ÿï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 2å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">å¤§ãã•ã‚’ (100) ï¼…ã«ã™ã‚‹ :: looks</pre>
                    <div class="japanese-label">å…ƒã®ã‚µã‚¤ã‚ºã«æˆ»ã™ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showCloneMovementAnswer1()" id="cloneMovementAnswerBtn1">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="clone-movement-answer1" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(10) å›ç¹°ã‚Šè¿”ã™ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
xåº§æ¨™ã‚’ ([-200] ã‹ã‚‰ [200] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ ([-150] ã‹ã‚‰ [150] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: motion
[è‰² v] ã®åŠ¹æœã‚’ ([1] ã‹ã‚‰ [200] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: looks
ãšã£ã¨ {
å¤§ãã•ã‚’ (50) ï¼…ã«ã™ã‚‹ :: looks
(0.2) ç§’å¾…ã¤ :: control
å¤§ãã•ã‚’ (100) ï¼…ã«ã™ã‚‹ :: looks
(0.2) ç§’å¾…ã¤ :: control
} :: control
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ã‚ˆãã§ãã¾ã—ãŸï¼</strong> ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‹•ããŒç†è§£ã§ãã¦ã„ã¾ã™ã€‚
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: ç·´ç¿’å•é¡Œ2 -->
        <div id="clone-movement-step4" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œ2: ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç§»å‹•</h3>
            <p>ã‚¯ãƒ­ãƒ¼ãƒ³ãŒæ±ºã¾ã£ãŸå½¢ã«ä¸¦ã‚“ã§å‹•ããƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç§»å‹•ï¼š<br>
                â€¢ 5å€‹ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹<br>
                â€¢ å„ã‚¯ãƒ­ãƒ¼ãƒ³ãŒå††å½¢ã«é…ç½®ã•ã‚Œã‚‹<br>
                â€¢ ã¿ã‚“ãªã§ä¸€ç·’ã«å›è»¢ã™ã‚‹<br>
                â€¢ è‰²é•ã„ã§è¦‹åˆ†ã‘ã‚„ã™ãã™ã‚‹
            </div>

            <h3>ğŸ¬ ç›®æ¨™ã®å‹•ãã‚’ç¢ºèªã—ã‚ˆã†</h3>
            <div class="animation-container">
                <h4>ğŸŒ€ ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç§»å‹•</h4>
                <div class="stage">
                    <div id="sprite-clone-formation" class="sprite">ğŸ </div>
                    <div id="speech-bubble-clone-formation" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playCloneFormationAnimation()">â–¶ï¸ ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç§»å‹•</button>
                    <button class="reset-btn" onclick="resetCloneFormationAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="clone-formation-status">ã¿ã‚“ãªã§ä¸€ç·’ã«å›è»¢ã—ã¾ã™</div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showCloneMovementAnswer2()" id="cloneMovementAnswerBtn2">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="clone-movement-answer2" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(5) å›ç¹°ã‚Šè¿”ã™ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
[è‰² v] ã®åŠ¹æœã‚’ ([1] ã‹ã‚‰ [5] ã¾ã§ã®ä¹±æ•° :: operators) * (40) ãšã¤å¤‰ãˆã‚‹ :: looks
(100) æ­©å‹•ã‹ã™ :: motion
ãšã£ã¨ {
å³ã« (72) åº¦å›ã™ :: motion
(100) æ­©å‹•ã‹ã™ :: motion
å³ã« (10) åº¦å›ã™ :: motion
} :: control
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ç´ æ™´ã‚‰ã—ã„ï¼</strong> è¤‡é›‘ãªã‚¯ãƒ­ãƒ¼ãƒ³ã®å‹•ãã‚‚ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸã€‚
                    </div>
                </div>
            </div>

            <div class="info-box learn">
                <strong>ğŸ“ å­¦ã‚“ã ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‹•ããƒ†ã‚¯ãƒ‹ãƒƒã‚¯:</strong><br>
                â€¢ å„ã‚¯ãƒ­ãƒ¼ãƒ³ãŒç‹¬ç«‹ã—ã¦å‹•ä½œã™ã‚‹<br>
                â€¢ ãƒ©ãƒ³ãƒ€ãƒ è¦ç´ ã§å¤šæ§˜ãªå‹•ãã‚’ä½œã‚‹<br>
                â€¢ ã€Œãšã£ã¨ã€ãƒ–ãƒ­ãƒƒã‚¯ã§ç¶™ç¶šçš„ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³<br>
                â€¢ ä½ç½®ã¨è‰²ã§ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å·®åˆ¥åŒ–ã™ã‚‹<br><br>
                <strong>ğŸ’¡ ã“ã‚Œã‚‰ã®æŠ€è¡“ã®æ´»ç”¨ä¾‹:</strong><br>
                â€¢ ã‚²ãƒ¼ãƒ ã®æ•µã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç¾¤<br>
                â€¢ ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«åŠ¹æœï¼ˆé›¨ã€é›ªã€ç«èŠ±ï¼‰<br>
                â€¢ ç¾¤è¡†ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
            </div>
        </div>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="step-nav">
            <button class="btn" id="cloneMovementPrevBtn" onclick="changeCloneMovementStep(-1)" disabled>å‰ã¸</button>
            <button class="btn" id="cloneMovementNextBtn" onclick="changeCloneMovementStep(1)">æ¬¡ã¸</button>
        </div>
    </div>

    <!-- ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‰Šé™¤ã¨ç®¡ç† -->
    <div id="clone-deletion-section" style="display: none;">
        <div class="progress-bar">
            <div id="clone-deletion-progress" class="progress-fill" style="width: 25%"></div>
        </div>
        <h2 id="clone-deletion-step-title">ã‚¹ãƒ†ãƒƒãƒ— 1 / 4</h2>

        <!-- Step 1: ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹ -->
        <div id="clone-deletion-step1" class="step-container step-active">
            <h3>ğŸ—‘ï¸ ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‰Šé™¤ã¨ç®¡ç†ï¼šãã‚Œã„ã«ç‰‡ä»˜ã‘ã‚ˆã†</h3>
            <div class="info-box learn">
                <strong>ğŸ“š ã‚¯ãƒ­ãƒ¼ãƒ³ã®ç®¡ç†ã«ã¤ã„ã¦å­¦ã¼ã†ï¼</strong><br>
                ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ã ã‘ã§ãªãã€ä¸è¦ã«ãªã£ãŸã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ã‚‚å¤§åˆ‡ã§ã™ã€‚<br>
                â€¢ å¤ã„ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã—ã¦ãƒ¡ãƒ¢ãƒªã‚’ç¯€ç´„<br>
                â€¢ ç‰¹å®šã®æ¡ä»¶ã§ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’æ¶ˆã™<br>
                â€¢ ç”»é¢ã‚’ãã‚Œã„ã«ä¿ã¤<br><br>
                <strong>ğŸ“ ä»Šæ—¥ã®ã‚‚ãã²ã‚‡ã†:</strong> ã‚¯ãƒ­ãƒ¼ãƒ³ã®ä½œæˆã¨å‰Šé™¤ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã‚ˆã†ï¼
            </div>

            <h3>ğŸ¬ ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‰Šé™¤ã‚’è¦‹ã¦ã¿ã‚ˆã†</h3>
            <p>ã¾ãšã¯ã‚¯ãƒ­ãƒ¼ãƒ³ãŒã©ã®ã‚ˆã†ã«å‰Šé™¤ã•ã‚Œã‚‹ã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
            
            <div class="animation-container">
                <h4>ğŸ—‘ï¸ ã‚¯ãƒ­ãƒ¼ãƒ³å‰Šé™¤ã®ãƒ‡ãƒ¢</h4>
                <div class="stage">
                    <div id="sprite-clone-deletion" class="sprite">ğŸ±</div>
                    <div id="speech-bubble-clone-deletion" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playCloneDeletionAnimation()">â–¶ï¸ ã‚¯ãƒ­ãƒ¼ãƒ³å‰Šé™¤ã‚’è¦‹ã‚‹</button>
                    <button class="reset-btn" onclick="resetCloneDeletionAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="clone-deletion-status">ã‚¯ãƒ­ãƒ¼ãƒ³ãŒå‰Šé™¤ã•ã‚Œã‚‹æ§˜å­ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼</div>
            </div>

            <div class="info-box hint">
                <strong>ğŸ¤” ã©ã‚“ãªå‹•ãã‚’ã—ãŸï¼Ÿ</strong> 5ã¤ã®ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚ŒãŸå¾Œã€3ç§’å¾…ã£ã¦ã‹ã‚‰é †ç•ªã«å‰Šé™¤ã•ã‚Œã¾ã—ãŸï¼
            </div>

            <h3>ğŸ“¦ ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‰Šé™¤ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
            <p>ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯ã§ã™ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(5) å›ç¹°ã‚Šè¿”ã™ {
} :: control</pre>
                    <div class="japanese-label">5å›ç¹°ã‚Šè¿”ã—ï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚ŒãŸã¨ãã®ã‚¤ãƒ™ãƒ³ãƒˆ<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(3) ç§’å¾…ã¤ :: control</pre>
                    <div class="japanese-label">æ™‚é–“å¾…æ©Ÿï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã“ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ :: control</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³å‰Šé™¤ï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚‚ã—<(xåº§æ¨™ :: motion) < (-200)>ãªã‚‰ {
} :: control</pre>
                    <div class="japanese-label">æ¡ä»¶åˆ¤å®šï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(5) æ­©å‹•ã‹ã™ :: motion</pre>
                    <div class="japanese-label">ç§»å‹•ï¼ˆå‹•ããƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="info-box success">
                <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã£ã¦å®Ÿéš›ã«ã‚¯ãƒ­ãƒ¼ãƒ³ã®å‰Šé™¤ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>

        <!-- Step 2: çµ„ã¿ç«‹ã¦ -->
        <div id="clone-deletion-step2" class="step-container">
            <h3>ğŸ”§ ã‚¯ãƒ­ãƒ¼ãƒ³å‰Šé™¤ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ„ã¿ç«‹ã¦ã‚ˆã†ï¼</h3>
            <p>ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã£ã¦ã€æ¡ä»¶ã«åˆã£ãŸã¨ãã«å‰Šé™¤ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚</p>
            
            <div class="block-container">
                <h4>ğŸ¯ çµ„ã¿ç«‹ã¦æ–¹:</h4>
                <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(5) å›ç¹°ã‚Šè¿”ã™ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
ãšã£ã¨ {
(5) æ­©å‹•ã‹ã™ :: motion
ã‚‚ã—<(xåº§æ¨™ :: motion) < (-200)>ãªã‚‰ {
ã“ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ :: control
} :: control
} :: control
                </pre>
            </div>

            <div class="info-box hint">
                <strong>ğŸ’¡ é‡è¦ãªãƒã‚¤ãƒ³ãƒˆï¼</strong><br>
                â€¢ <strong>ã€Œã“ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ã€</strong>ï¼šãã®ã‚¯ãƒ­ãƒ¼ãƒ³ã ã‘ã‚’å‰Šé™¤<br>
                â€¢ <strong>æ¡ä»¶åˆ¤å®š</strong>ï¼šç”»é¢ã®ç«¯ã«å‡ºãŸã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤<br>
                â€¢ <strong>ãƒ¡ãƒ¢ãƒªç®¡ç†</strong>ï¼šä¸è¦ãªã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã—ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š<br>
                â€¢ <strong>è‡ªå‹•å‰Šé™¤</strong>ï¼šãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒè‡ªå‹•çš„ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
            </div>

            <div class="info-box learn">
                <strong>ğŸ“ ã‚¯ãƒ­ãƒ¼ãƒ³å‰Šé™¤ã®ä»•çµ„ã¿</strong><br>
                â€¢ ã€Œã“ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ã€ã¯å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ³ã®ã¿å‰Šé™¤<br>
                â€¢ å…ƒã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã¯å‰Šé™¤ã•ã‚Œãªã„<br>
                â€¢ å‰Šé™¤ã•ã‚ŒãŸã‚¯ãƒ­ãƒ¼ãƒ³ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯åœæ­¢<br>
                â€¢ æ¡ä»¶ã‚’ä½¿ã£ã¦å‰Šé™¤ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’åˆ¶å¾¡
            </div>

            <div class="info-box success">
                <strong>âœ… ã‚„ã£ã¦ã¿ã‚ˆã†ï¼</strong> å®Ÿéš›ã®Scratchã§çµ„ã¿ç«‹ã¦ã¦ã€ã‚¯ãƒ­ãƒ¼ãƒ³ãŒè‡ªå‹•å‰Šé™¤ã•ã‚Œã‚‹æ§˜å­ã‚’ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ï¼
            </div>
        </div>

        <!-- Step 3: ç·´ç¿’å•é¡Œ1 -->
        <div id="clone-deletion-step3" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œ1: æ™‚é–“åˆ¶é™ä»˜ãã‚¯ãƒ­ãƒ¼ãƒ³</h3>
            <p>ä½œã‚‰ã‚Œã¦ã‹ã‚‰ä¸€å®šæ™‚é–“å¾Œã«è‡ªå‹•çš„ã«æ¶ˆãˆã‚‹ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                æ™‚é–“åˆ¶é™ä»˜ãã‚¯ãƒ­ãƒ¼ãƒ³ï¼š<br>
                â€¢ 3å€‹ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹<br>
                â€¢ å„ã‚¯ãƒ­ãƒ¼ãƒ³ã¯ä½œã‚‰ã‚Œã¦ã‹ã‚‰5ç§’å¾Œã«å‰Šé™¤<br>
                â€¢ å‰Šé™¤ã•ã‚Œã‚‹å‰ã«ã€Œã•ã‚ˆã†ãªã‚‰ï¼ã€ã¨è¨€ã†<br>
                â€¢ è‰²ãŒæ™‚é–“ã¨å…±ã«è–„ããªã‚‹
            </div>

            <h3>ğŸ¬ ç›®æ¨™ã®å‹•ãã‚’ç¢ºèªã—ã‚ˆã†</h3>
            <div class="animation-container">
                <h4>â° æ™‚é–“åˆ¶é™ä»˜ãã‚¯ãƒ­ãƒ¼ãƒ³</h4>
                <div class="stage">
                    <div id="sprite-clone-timer" class="sprite">ğŸš€</div>
                    <div id="speech-bubble-clone-timer" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playCloneTimerAnimation()">â–¶ï¸ æ™‚é–“åˆ¶é™ã‚¯ãƒ­ãƒ¼ãƒ³</button>
                    <button class="reset-btn" onclick="resetCloneTimerAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="clone-timer-status">æ™‚é–“ãŒçµŒã¤ã¨ã‚¯ãƒ­ãƒ¼ãƒ³ãŒæ¶ˆãˆã¾ã™</div>
            </div>

            <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(3) å›ç¹°ã‚Šè¿”ã™ {
} :: control</pre>
                    <div class="japanese-label">3å›ç¹°ã‚Šè¿”ã—ï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(5) ç§’å¾…ã¤ :: control</pre>
                    <div class="japanese-label">5ç§’å¾…æ©Ÿï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[ã•ã‚ˆã†ãªã‚‰ï¼] ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">ãŠåˆ¥ã‚Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[å¹½éœŠ v] ã®åŠ¹æœã‚’ (100) ã«ã™ã‚‹ :: looks</pre>
                    <div class="japanese-label">é€æ˜åŠ¹æœï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã“ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ :: control</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³å‰Šé™¤ï¼ˆåˆ¶å¾¡ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showCloneDeletionAnswer1()" id="cloneDeletionAnswerBtn1">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="clone-deletion-answer1" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(3) å›ç¹°ã‚Šè¿”ã™ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
(5) ç§’å¾…ã¤ :: control
[ã•ã‚ˆã†ãªã‚‰ï¼] ã¨è¨€ã† :: looks
[å¹½éœŠ v] ã®åŠ¹æœã‚’ (100) ã«ã™ã‚‹ :: looks
(1) ç§’å¾…ã¤ :: control
ã“ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ :: control
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ã‚ˆãã§ãã¾ã—ãŸï¼</strong> ã‚¯ãƒ­ãƒ¼ãƒ³ã®æ™‚é–“ç®¡ç†ãŒç†è§£ã§ãã¦ã„ã¾ã™ã€‚
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: ç·´ç¿’å•é¡Œ2 -->
        <div id="clone-deletion-step4" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œ2: ã‚¯ãƒªãƒƒã‚¯ã§å‰Šé™¤</h3>
            <p>ãƒã‚¦ã‚¹ã§ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã«ã‚¯ãƒ­ãƒ¼ãƒ³ãŒå‰Šé™¤ã•ã‚Œã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                ã‚¯ãƒªãƒƒã‚¯å‰Šé™¤ã‚·ã‚¹ãƒ†ãƒ ï¼š<br>
                â€¢ 5å€‹ã®çš„ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹<br>
                â€¢ ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å‰Šé™¤ã•ã‚Œã‚‹<br>
                â€¢ å‰Šé™¤æ™‚ã«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’è¡¨ç¤º<br>
                â€¢ ã™ã¹ã¦å‰Šé™¤ã™ã‚‹ã¨ã€Œã‚¯ãƒªã‚¢ï¼ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
            </div>

            <h3>ğŸ¬ ç›®æ¨™ã®å‹•ãã‚’ç¢ºèªã—ã‚ˆã†</h3>
            <div class="animation-container">
                <h4>ğŸ¯ ã‚¯ãƒªãƒƒã‚¯å‰Šé™¤ã‚²ãƒ¼ãƒ </h4>
                <div class="stage">
                    <div id="sprite-clone-click" class="sprite">ğŸ¯</div>
                    <div id="speech-bubble-clone-click" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playCloneClickAnimation()">â–¶ï¸ ã‚¯ãƒªãƒƒã‚¯å‰Šé™¤ãƒ‡ãƒ¢</button>
                    <button class="reset-btn" onclick="resetCloneClickAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="clone-click-status">çš„ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‰Šé™¤ã—ã‚ˆã†</div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showCloneDeletionAnswer2()" id="cloneDeletionAnswerBtn2">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="clone-deletion-answer2" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(5) å›ç¹°ã‚Šè¿”ã™ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
xåº§æ¨™ã‚’ ([-150] ã‹ã‚‰ [150] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ ([-100] ã‹ã‚‰ [100] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: motion

ã“ã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
[ãƒ’ãƒƒãƒˆï¼] ã¨è¨€ã† :: looks
(0.5) ç§’å¾…ã¤ :: control
ã“ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ :: control
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ç´ æ™´ã‚‰ã—ã„ï¼</strong> ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¯ãƒ­ãƒ¼ãƒ³å‰Šé™¤ã‚‚ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸã€‚
                    </div>
                </div>
            </div>

            <div class="info-box learn">
                <strong>ğŸ“ å­¦ã‚“ã ã‚¯ãƒ­ãƒ¼ãƒ³ç®¡ç†ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯:</strong><br>
                â€¢ è‡ªå‹•å‰Šé™¤ã§ç”»é¢ã‚’ãã‚Œã„ã«ä¿ã¤<br>
                â€¢ æ¡ä»¶åˆ¤å®šã§å‰Šé™¤ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’åˆ¶å¾¡<br>
                â€¢ æ™‚é–“åˆ¶é™ã«ã‚ˆã‚‹è‡ªå‹•å‰Šé™¤<br>
                â€¢ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆã‚¯ãƒªãƒƒã‚¯ï¼‰ã«ã‚ˆã‚‹å‰Šé™¤<br><br>
                <strong>ğŸ’¡ ã“ã‚Œã‚‰ã®æŠ€è¡“ã®æ´»ç”¨ä¾‹:</strong><br>
                â€¢ ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ ã®å¼¾ä¸¸ç®¡ç†<br>
                â€¢ ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«åŠ¹æœã®æœ€é©åŒ–<br>
                â€¢ ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ã®è‡ªå‹•åŒ–
            </div>
        </div>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="step-nav">
            <button class="btn" id="cloneDeletionPrevBtn" onclick="changeCloneDeletionStep(-1)" disabled>å‰ã¸</button>
            <button class="btn" id="cloneDeletionNextBtn" onclick="changeCloneDeletionStep(1)">æ¬¡ã¸</button>
        </div>
    </div>

    <!-- ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½¿ã£ãŸå¿œç”¨ä¾‹ -->
    <div id="clone-applications-section" style="display: none;">
        <div class="progress-bar">
            <div id="clone-applications-progress" class="progress-fill" style="width: 25%"></div>
        </div>
        <h2 id="clone-applications-step-title">ã‚¹ãƒ†ãƒƒãƒ— 1 / 4</h2>

        <!-- Step 1: ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹ -->
        <div id="clone-applications-step1" class="step-container step-active">
            <h3>ğŸ† ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½¿ã£ãŸå¿œç”¨ä¾‹ï¼šã™ã”ã„ä½œå“ã‚’ä½œã‚ã†</h3>
            <div class="info-box learn">
                <strong>ğŸ“š ã‚¯ãƒ­ãƒ¼ãƒ³ã®å¿œç”¨ã«ã¤ã„ã¦å­¦ã¼ã†ï¼</strong><br>
                ã“ã‚Œã¾ã§å­¦ã‚“ã ã‚¯ãƒ­ãƒ¼ãƒ³ã®æŠ€è¡“ã‚’çµ„ã¿åˆã‚ã›ã¦ã€æœ¬æ ¼çš„ãªä½œå“ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚<br>
                â€¢ æ˜Ÿç©ºã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãŸãã•ã‚“ã®æ˜Ÿï¼‰<br>
                â€¢ èŠ±ç«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆçˆ†ç™ºåŠ¹æœï¼‰<br>
                â€¢ é›¨ã‚„é›ªã®è¡¨ç¾ï¼ˆè‡ªç„¶ç¾è±¡ï¼‰<br>
                â€¢ ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ ï¼ˆå¼¾ä¸¸ã‚·ã‚¹ãƒ†ãƒ ï¼‰<br><br>
                <strong>ğŸ“ ä»Šæ—¥ã®ã‚‚ãã²ã‚‡ã†:</strong> å®Ÿç”¨çš„ãªã‚¯ãƒ­ãƒ¼ãƒ³æ´»ç”¨ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã‚ˆã†ï¼
            </div>

            <h3>ğŸ¬ ã‚¯ãƒ­ãƒ¼ãƒ³ã®å¿œç”¨ä¾‹ã‚’è¦‹ã¦ã¿ã‚ˆã†</h3>
            <p>ã¾ãšã¯ã‚¯ãƒ­ãƒ¼ãƒ³ã§ã©ã‚“ãªã™ã”ã„ä½œå“ãŒä½œã‚Œã‚‹ã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
            
            <div class="animation-container">
                <h4>ğŸŒŸ æ˜Ÿç©ºã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h4>
                <div class="stage" style="height: 300px; position: relative; overflow: visible;">
                    <div id="sprite-starfield" class="sprite" style="position: absolute; left: 150px; top: 120px; width: 50px; height: 50px; background: #ff6b6b; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; color: white; font-weight: bold; border: 3px solid #333; transition: all 0.5s ease; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">â­</div>
                    <div id="speech-bubble-starfield" class="speech-bubble" style="position: absolute; background: white; border: 2px solid #333; border-radius: 10px; padding: 8px 12px; font-size: 14px; font-weight: bold; display: none; z-index: 10; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"></div>
                    <button class="play-btn" onclick="startStarfieldAnimation()">â–¶ï¸ æ˜Ÿç©ºã‚’è¦‹ã‚‹</button>
                    <button class="reset-btn" onclick="resetStarfieldAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="starfield-status">ç¾ã—ã„æ˜Ÿç©ºã‚’ä½œã£ã¦ã¿ã‚ˆã†ï¼</div>
            </div>

            <div class="info-box hint">
                <strong>ğŸ¤” ã©ã‚“ãªå‹•ãã‚’ã—ãŸï¼Ÿ</strong> ãŸãã•ã‚“ã®æ˜ŸãŒãƒ©ãƒ³ãƒ€ãƒ ã«ç¾ã‚Œã¦ã€ã‚­ãƒ©ã‚­ãƒ©ã¨è¼ãæ˜Ÿç©ºãŒã§ãã¾ã—ãŸï¼
            </div>

            <h3>ğŸ“¦ æ˜Ÿç©ºã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
            <p>æ˜Ÿç©ºã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‹ãŸã‚ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯ã§ã™ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ãšã£ã¨ {
} :: control</pre>
                    <div class="japanese-label">æ°¸ç¶šå®Ÿè¡Œï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(0.2) ç§’å¾…ã¤ :: control</pre>
                    <div class="japanese-label">ã‚¿ã‚¤ãƒŸãƒ³ã‚°èª¿æ•´ï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ã‚¯ãƒ­ãƒ¼ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">xåº§æ¨™ã‚’ ([-240] ã‹ã‚‰ [240] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: motion</pre>
                    <div class="japanese-label">ãƒ©ãƒ³ãƒ€ãƒ Xåº§æ¨™ï¼ˆå‹•ããƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">yåº§æ¨™ã‚’ ([-180] ã‹ã‚‰ [180] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: motion</pre>
                    <div class="japanese-label">ãƒ©ãƒ³ãƒ€ãƒ Yåº§æ¨™ï¼ˆå‹•ããƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">å¤§ãã•ã‚’ ([50] ã‹ã‚‰ [150] ã¾ã§ã®ä¹±æ•° :: operators) ï¼…ã«ã™ã‚‹ :: looks</pre>
                    <div class="japanese-label">ãƒ©ãƒ³ãƒ€ãƒ ã‚µã‚¤ã‚ºï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[è‰² v] ã®åŠ¹æœã‚’ ([1] ã‹ã‚‰ [200] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: looks</pre>
                    <div class="japanese-label">ãƒ©ãƒ³ãƒ€ãƒ è‰²åŠ¹æœï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="info-box success">
                <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> æ˜Ÿç©ºã‹ã‚‰å§‹ã¾ã‚‹ç´ æ™´ã‚‰ã—ã„ä½œå“ã‚’ä¸€ç·’ã«ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>

        <!-- Step 2: èŠ±ç«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div id="clone-applications-step2" class="step-container">
            <h3>ğŸ† èŠ±ç«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼šçˆ†ç™ºã®ç¾ã—ã•ã‚’è¡¨ç¾ã—ã‚ˆã†</h3>
            <p>ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½¿ã£ã¦è¿«åŠ›ã®ã‚ã‚‹èŠ±ç«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚Šã¾ã™ã€‚</p>
            
            <div class="animation-container">
                <h4>ğŸ† èŠ±ç«çˆ†ç™ºã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</h4>
                <div class="stage">
                    <div id="sprite-fireworks" class="sprite">ğŸ”¥</div>
                    <div id="speech-bubble-fireworks" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playFireworksAnimation()">â–¶ï¸ èŠ±ç«ã‚’æ‰“ã¡ä¸Šã’ã‚‹</button>
                    <button class="reset-btn" onclick="resetFireworksAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="fireworks-status">èŠ±ç«ãŒçˆ†ç™ºã™ã‚‹ç¬é–“ã‚’è¦‹ã‚ˆã†ï¼</div>
            </div>
            
            <div class="block-container">
                <h4>ğŸ¯ èŠ±ç«ãƒ—ãƒ­ã‚°ãƒ©ãƒ :</h4>
                <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
ãšã£ã¨ {
(3) ç§’å¾…ã¤ :: control
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
xåº§æ¨™ã‚’ ([-150] ã‹ã‚‰ [150] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (100) ã«ã™ã‚‹ :: motion
[color v] ã®åŠ¹æœã‚’ ([1] ã‹ã‚‰ [200] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: looks
(15) å›ç¹°ã‚Šè¿”ã™ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
} :: control
ã“ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ :: control
                </pre>
            </div>

            <div class="info-box hint">
                <strong>ğŸ’¡ èŠ±ç«ã®ãƒã‚¤ãƒ³ãƒˆï¼</strong><br>
                â€¢ <strong>ä¸­å¿ƒã‹ã‚‰çˆ†ç™º</strong>ï¼š1ã¤ã®ã‚¯ãƒ­ãƒ¼ãƒ³ãŒ15å€‹ã®ç«èŠ±ã‚’ä½œã‚‹<br>
                â€¢ <strong>ãƒ©ãƒ³ãƒ€ãƒ ãªä½ç½®</strong>ï¼šæ¯å›é•ã†å ´æ‰€ã§çˆ†ç™º<br>
                â€¢ <strong>è‰²ã®å¤‰åŒ–</strong>ï¼šãƒ©ãƒ³ãƒ€ãƒ ãªè‰²ã§ç¾ã—ã„åŠ¹æœ<br>
                â€¢ <strong>ç¶™ç¶šçš„ãªæ‰“ã¡ä¸Šã’</strong>ï¼š3ç§’ã”ã¨ã«æ–°ã—ã„èŠ±ç«
            </div>
        </div>

        <!-- Step 3: ç·´ç¿’å•é¡Œ1 -->
        <div id="clone-applications-step3" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œ1: é›¨ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</h3>
            <p>è‡ªç„¶ç¾è±¡ã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã§è¡¨ç¾ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼é›¨ãŒé™ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚Šã¾ã™ã€‚</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                é›¨ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼š<br>
                â€¢ ç”»é¢ä¸Šéƒ¨ã‹ã‚‰ãŸãã•ã‚“ã®é›¨ç²’ãŒé™ã‚‹<br>
                â€¢ é›¨ç²’ã¯ä¸‹ã«å‘ã‹ã£ã¦è½ã¡ã‚‹<br>
                â€¢ åœ°é¢ã«ç€ã„ãŸã‚‰é›¨ç²’ãŒæ¶ˆãˆã‚‹<br>
                â€¢ ç¶™ç¶šçš„ã«æ–°ã—ã„é›¨ç²’ãŒä½œã‚‰ã‚Œã‚‹
            </div>

            <h3>ğŸ¬ ç›®æ¨™ã®å‹•ãã‚’ç¢ºèªã—ã‚ˆã†</h3>
            <div class="animation-container">
                <h4>ğŸŒ§ï¸ é›¨ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</h4>
                <div class="stage">
                    <div id="sprite-rain" class="sprite">ğŸ’§</div>
                    <div id="speech-bubble-rain" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playRainAnimation()">â–¶ï¸ é›¨ã‚’é™ã‚‰ã›ã‚‹</button>
                    <button class="reset-btn" onclick="resetRainAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="rain-status">é›¨ãŒé™ã‚‹æ§˜å­ã‚’è¦‹ã¦ã¿ã‚ˆã†</div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showCloneApplicationsAnswer1()" id="cloneApplicationsAnswerBtn1">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="clone-applications-answer1" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
ãšã£ã¨ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
(0.1) ç§’å¾…ã¤ :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
xåº§æ¨™ã‚’ ([-240] ã‹ã‚‰ [240] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: motion
yåº§æ¨™ã‚’ (180) ã«ã™ã‚‹ :: motion
ãšã£ã¨ {
yåº§æ¨™ã‚’ ((yåº§æ¨™ :: motion) - (5)) ã«ã™ã‚‹ :: motion
ã‚‚ã—<(yåº§æ¨™ :: motion) < (-180)>ãªã‚‰ {
ã“ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ :: control
} :: control
} :: control
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ã‚ˆãã§ãã¾ã—ãŸï¼</strong> è‡ªç„¶ç¾è±¡ã®è¡¨ç¾ãŒã§ãã¦ã„ã¾ã™ã€‚
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: ç·´ç¿’å•é¡Œ2 -->
        <div id="clone-applications-step4" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œ2: ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ </h3>
            <p>ã‚²ãƒ¼ãƒ é–‹ç™ºã§æœ€ã‚‚ä½¿ã‚ã‚Œã‚‹ã‚¯ãƒ­ãƒ¼ãƒ³æŠ€è¡“ã€å¼¾ä¸¸ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ä½œã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ ï¼š<br>
                â€¢ ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã§å¼¾ä¸¸ã‚’ç™ºå°„<br>
                â€¢ å¼¾ä¸¸ã¯ä¸Šã«å‘ã‹ã£ã¦é£›ã¶<br>
                â€¢ ç”»é¢ã®ç«¯ã«é”ã—ãŸã‚‰å¼¾ä¸¸ãŒæ¶ˆãˆã‚‹<br>
                â€¢ é€£ç¶šã—ã¦å¼¾ä¸¸ã‚’æ’ƒã¦ã‚‹
            </div>

            <h3>ğŸ¬ ç›®æ¨™ã®å‹•ãã‚’ç¢ºèªã—ã‚ˆã†</h3>
            <div class="animation-container">
                <h4>ğŸš€ ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ </h4>
                <div class="stage">
                    <div id="sprite-bullet" class="sprite">ğŸš€</div>
                    <div id="speech-bubble-bullet" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playBulletAnimation()">â–¶ï¸ å¼¾ä¸¸ç™ºå°„ãƒ‡ãƒ¢</button>
                    <button class="reset-btn" onclick="resetBulletAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="bullet-status">ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã§å¼¾ä¸¸ã‚’æ’ƒã¨ã†</div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showCloneApplicationsAnswer2()" id="cloneApplicationsAnswerBtn2">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="clone-applications-answer2" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
ãšã£ã¨ {
ã‚‚ã—<[space v] ã‚­ãƒ¼ãŒæŠ¼ã•ã‚ŒãŸ :: sensing>ãªã‚‰ {
[è‡ªåˆ†è‡ªèº« v] ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ :: control
(0.2) ç§’å¾…ã¤ :: control
} :: control
} :: control

ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ã :: events hat
ãšã£ã¨ {
yåº§æ¨™ã‚’ ((yåº§æ¨™ :: motion) + (10)) ã«ã™ã‚‹ :: motion
ã‚‚ã—<(yåº§æ¨™ :: motion) > (180)>ãªã‚‰ {
ã“ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ :: control
} :: control
} :: control
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ç´ æ™´ã‚‰ã—ã„ï¼</strong> ã‚²ãƒ¼ãƒ é–‹ç™ºã®åŸºç¤æŠ€è¡“ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸã€‚
                    </div>
                </div>
            </div>

            <div class="info-box learn">
                <strong>ğŸ“ å­¦ã‚“ã ã‚¯ãƒ­ãƒ¼ãƒ³å¿œç”¨ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯:</strong><br>
                â€¢ å¤§é‡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆï¼ˆæ˜Ÿç©ºã€é›¨ç²’ï¼‰<br>
                â€¢ çˆ†ç™ºåŠ¹æœã®è¡¨ç¾ï¼ˆèŠ±ç«ï¼‰<br>
                â€¢ è‡ªç„¶ç¾è±¡ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆé›¨ã€é›ªï¼‰<br>
                â€¢ ã‚²ãƒ¼ãƒ è¦ç´ ã®å®Ÿè£…ï¼ˆå¼¾ä¸¸ã‚·ã‚¹ãƒ†ãƒ ï¼‰<br><br>
                <strong>ğŸ’¡ ã“ã‚Œã‚‰ã®æŠ€è¡“ã§ä½œã‚Œã‚‹ã‚‚ã®:</strong><br>
                â€¢ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚²ãƒ¼ãƒ ï¼ˆæ•µã€å¼¾ä¸¸ã€ã‚¢ã‚¤ãƒ†ãƒ ï¼‰<br>
                â€¢ è¦–è¦šåŠ¹æœï¼ˆçˆ†ç™ºã€é­”æ³•ã€ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ï¼‰<br>
                â€¢ ç’°å¢ƒè¡¨ç¾ï¼ˆå¤©å€™ã€èƒŒæ™¯åŠ¹æœï¼‰<br>
                â€¢ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¢ãƒ¼ãƒˆä½œå“
            </div>
        </div>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="step-nav">
            <button class="btn" id="cloneApplicationsPrevBtn" onclick="changeCloneApplicationsStep(-1)" disabled>å‰ã¸</button>
            <button class="btn" id="cloneApplicationsNextBtn" onclick="changeCloneApplicationsStep(1)">æ¬¡ã¸</button>
        </div>
    </div>

    <!-- æ¡ä»¶åˆ†å²ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="conditional-menu" style="display: none;">
        <div class="container">
            <div class="header">
                <h1>ğŸ¤” æ¡ä»¶åˆ†å²</h1>
                <p>æ¡ä»¶ã«ã‚ˆã£ã¦å‹•ãã‚’å¤‰ãˆã¦ã¿ã‚ˆã†ï¼</p>
            </div>

            <div class="lesson-grid">
                <div class="lesson-card" onclick="showIfThen()">
                    <div class="emoji">ğŸ¤”</div>
                    <div class="lesson-title">ã‚‚ã—ã€œãªã‚‰</div>
                    <div class="lesson-desc">æ¡ä»¶ãŒåˆã£ãŸã¨ãã ã‘å‹•ã‹ãã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showIfElse()">
                    <div class="emoji">âš¡</div>
                    <div class="lesson-title">ã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã°</div>
                    <div class="lesson-desc">2ã¤ã®é“ã‹ã‚‰é¸æŠã•ã›ã‚ˆã†ï¼</div>
                </div>
            </div>

            <div class="step-nav">
                <button class="btn" onclick="showHome()" style="background: #666;">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
            </div>
        </div>
    </div>

    <!-- ã‚‚ã—ã€œãªã‚‰ï¼ˆIf-Thenï¼‰ -->
    <div id="if-then-section" style="display: none;">
        <div class="progress-bar">
            <div id="if-progress" class="progress-fill" style="width: 20%"></div>
        </div>
        <h2 id="if-step-title">ã‚¹ãƒ†ãƒƒãƒ— 1 / 5</h2>

        <!-- Step 1: çµæœã‚’è¦‹ã‚‹ -->
        <div id="if-step1" class="step-container step-active">
            <h3>ğŸ¯ ãã‚‡ã†ã¤ãã‚‹ã†ã”ãã®ã‚‚ãã²ã‚‡ã†</h3>
            <div class="info-box learn">
                <strong>ğŸ“š ã“ã‚Œã‹ã‚‰ã¤ãã£ã¦ã¿ã‚ˆã†ï¼</strong><br>
                ã™ã†ã˜ã«ã‚ˆã£ã¦ã†ã”ããŒã‹ã‚ã‚‹ã€Œã‚‚ã—ãªã‚‰ã€ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ã¤ãã‚Šã¾ã™ã€‚<br>
                â€¢ ãƒ©ãƒ³ãƒ€ãƒ ãªã™ã†ã˜ï¼ˆ1ã€œ10ï¼‰ã‚’ãˆã‚‰ã¶<br>
                â€¢ ã™ã†ã˜ãŒãŠãŠãã‘ã‚Œã°ï¼ˆ6ã„ã˜ã‚‡ã†ï¼‰ã­ã“ãŒã¿ãã«ã†ã”ã<br>
                â€¢ ã™ã†ã˜ãŒã¡ã„ã•ã‘ã‚Œã°ï¼ˆ5ã„ã‹ï¼‰ãªã«ã‚‚ã—ãªã„<br>
                â€¢ ã¾ã„ã‹ã„ã¡ãŒã†ã‘ã£ã‹ã«ãªã‚‹ãŠã‚‚ã—ã‚ã•ã‚’ãŸã„ã‘ã‚“<br><br>
                <strong>ğŸ“ ã¹ã‚“ãã‚‡ã†ã®ãƒã‚¤ãƒ³ãƒˆ:</strong> ã˜ã‚‡ã†ã‘ã‚“ã«ã‚ˆã£ã¦ã˜ã£ã“ã†ã•ã‚Œã‚‹ãƒ–ãƒ­ãƒƒã‚¯ãŒã‹ã‚ã‚‹ã€Œã‚‚ã—ãªã‚‰ã€ã‚’ãŸã„ã‘ã‚“ã—ã‚ˆã†ï¼
            </div>

            <h3>ğŸ¬ ã‚‚ã—ãªã‚‰ã®ã†ã”ãã‚’ã¿ã¦ã¿ã‚ˆã†ï¼</h3>
            <p>ã¾ãšã¯ã‹ã‚“ã›ã„ã°ã‚“ã‚’ã¿ã¦ã€ã˜ã‚‡ã†ã‘ã‚“ã«ã‚ˆã£ã¦ã†ã”ããŒã‹ã‚ã‚‹ã‚ˆã†ã™ã‚’ã‹ãã«ã‚“ã—ã¾ã—ã‚‡ã†ã€‚</p>
            
            <div class="animation-container">
                <h4>ğŸ² ã˜ã‚‡ã†ã‘ã‚“ã«ã‚ˆã£ã¦ã‹ã‚ã‚‹ã­ã“ã®ã†ã”ã</h4>
                <div class="stage">
                    <div id="sprite-if" class="sprite">ğŸ±</div>
                    <div id="speech-bubble-if" class="speech-bubble"></div>
                    <button class="play-btn" onclick="playIfAnimation()">â–¶ï¸ ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†ç”Ÿ</button>
                    <button class="reset-btn" onclick="resetIfAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="if-status">ãƒ©ãƒ³ãƒ€ãƒ ãªã™ã†ã˜ã«ã‚ˆã£ã¦ã†ã”ããŒã‹ã‚ã‚Šã¾ã™ï¼</div>
            </div>

            <div class="info-box hint">
                <strong>ğŸ¤” ã†ã”ãã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ï¼Ÿ</strong> ã™ã†ã˜ãŒ6ã„ã˜ã‚‡ã†ãªã‚‰ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã²ã‚‡ã†ã˜â†’ã¿ãã«ã„ã©ã†ã€ã€5ã„ã‹ãªã‚‰ã€Œãªã«ã‚‚ã—ãªã„ã€ã§ã—ãŸã€‚ã˜ã‚‡ã†ã‘ã‚“ã«ã‚ˆã£ã¦ã˜ã£ã“ã†ã•ã‚Œã‚‹ãƒ–ãƒ­ãƒƒã‚¯ãŒã‹ã‚ã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ï¼
            </div>

            <h3>ğŸ“¦ ã“ã®ã†ã”ãã‚’ã¤ãã‚‹ãŸã‚ã«ã²ã¤ã‚ˆã†ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
            <p>ã†ãˆã®ã‚‚ã—ãªã‚‰ã‚’ã¤ãã‚‹ãŸã‚ã«ã€ã¤ãã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ã‚ˆã†ã„ã—ã¾ã™ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label"><strong>ğŸŸ¡ ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã¯ã˜ã¾ã‚Šï¼ˆã¯ãŸãŒãŠã•ã‚ŒãŸã¨ãï¼‰</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[æ•° v] ã‚’ ([1] ã‹ã‚‰ [10] ã¾ã§ã®ã‚‰ã‚“ã™ã† :: operators) ã«ã™ã‚‹ :: variables</pre>
                    <div class="japanese-label"><strong>ğŸŸ  ã¸ã‚“ã™ã†ã€Œã™ã†ã€ã«ã¿ã©ã‚Šã„ã‚ã®ã‚‰ã‚“ã™ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’ã„ã‚Œã‚‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚‚ã—<>ãªã‚‰ {
} :: control</pre>
                    <div class="japanese-label"><strong>ğŸ”µ ã‚‚ã—ã€œãªã‚‰ï¼ˆã˜ã‚‡ã†ã‘ã‚“ã‚’ã—ã‚‰ã¹ã‚‹Cã˜ãŒãŸãƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong><br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(æ•° :: variables) > (5) :: operators</pre>
                    <div class="japanese-label"><strong>ğŸŸ¢ ã¸ã‚“ã™ã†ã€Œã™ã†ã€ã¨ã™ã†ã˜ã®ãŠãŠãã•ãã‚‰ã¹ï¼ˆãˆã‚“ã–ã‚“ãƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[ã™ã†ã˜ã¯ãŠãŠãã„ã§ã™ï¼] ã¨ã„ã† :: looks</pre>
                    <div class="japanese-label"><strong>ğŸŸ£ ã˜ã‚‡ã†ã‘ã‚“ãŒã»ã‚“ã¨ã†ã®ã¨ãã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆã¿ãŸã‚ãƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(100) ã»ã†ã”ã‹ã™ :: motion</pre>
                    <div class="japanese-label"><strong>ğŸ”· ã˜ã‚‡ã†ã‘ã‚“ãŒã»ã‚“ã¨ã†ã®ã¨ãã®ã†ã”ãï¼ˆã†ã”ããƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">([] ã¨ [] :: operators)</pre>
                    <div class="japanese-label"><strong>ğŸŸ¢ ã¤ãªã’ã‚‹ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆã‚‚ã˜ã‚’ã¤ãªã’ã‚‹ãˆã‚“ã–ã‚“ãƒ–ãƒ­ãƒƒã‚¯ï¼‰</strong></div>
                </div>
            </div>

            <div class="info-box success">
                <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã£ã¦æ¡ä»¶åˆ†å²ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®çµ„ã¿ç«‹ã¦æ–¹ã‚’å­¦ã³ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>

        <!-- Step 2: çµ„ã¿ç«‹ã¦ã¨ãƒ­ã‚¸ãƒƒã‚¯è§£èª¬ -->
        <div id="if-step2" class="step-container">
            <h3>ğŸ”§ ã‚‚ã—ãªã‚‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’ãã¿ãŸã¦ã¦ã¿ã‚ˆã†ï¼</h3>
            <p>ã€Œã‚‚ã—ã€œãªã‚‰ã€ãƒ–ãƒ­ãƒƒã‚¯ã‚’ã¤ã‹ã£ã¦ã€ã˜ã‚‡ã†ã‘ã‚“ã«ã‚ˆã£ã¦ã†ã”ãã‚’ã‹ãˆã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ã¤ãã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
            
            <div class="block-container">
                <h4>ğŸ¯ ãã¿ãŸã¦ã‹ãŸ:</h4>
                <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
[æ•° v] ã‚’ ([1] ã‹ã‚‰ [10] ã¾ã§ã®ã‚‰ã‚“æ•° :: operators) ã«ã™ã‚‹ :: variables
([é¸ã‚“ã æ•°å­—ã¯] ã¨ (æ•° :: variables) :: operators) ã¨è¨€ã† :: looks
ã‚‚ã—<(æ•° :: variables) > (5)>ãªã‚‰ {
[æ•°å­—ã¯å¤§ãã„ã§ã™ï¼] ã¨è¨€ã† :: looks
(100) æ­©å‹•ã‹ã™ :: motion
} :: control
ã‚‚ã—<(æ•° :: variables) > (5)>ãªã‚‰ {
[ã™ã”ã„ï¼] ã¨è¨€ã† :: looks
} :: control
                </pre>
            </div>

            <div class="info-box hint">
                <strong>ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆ:</strong><br>
                â€¢ å¤‰æ•°ã€Œæ•°ã€ã«ãƒ©ãƒ³ãƒ€ãƒ ãªæ•°å­—ï¼ˆ1ã€œ10ï¼‰ã‚’è¨­å®š<br>
                â€¢ ã€Œã‚‚ã—ã€œãªã‚‰ã€ãƒ–ãƒ­ãƒƒã‚¯ã®æ¡ä»¶éƒ¨åˆ†ã«ã€Œæ•° > 5ã€ã‚’å…¥ã‚Œã‚‹<br>
                â€¢ æ¡ä»¶ãŒçœŸï¼ˆæœ¬å½“ï¼‰ã®ã¨ãã ã‘ä¸­ã®ãƒ–ãƒ­ãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã‚‹<br>
                â€¢ æ•°å­—ãŒ5ä»¥ä¸‹ã®å ´åˆã¯ã€Œã™ã”ã„ï¼ã€ã¯è¡¨ç¤ºã•ã‚Œãªã„
            </div>

            <div class="info-box success">
                <strong>âœ… ã‚„ã£ã¦ã¿ã‚ˆã†ï¼</strong> å®Ÿéš›ã®Scratchã§ã“ã®ã¨ãŠã‚Šã«ãƒ–ãƒ­ãƒƒã‚¯ã‚’çµ„ã¿ç«‹ã¦ã¦ã€ä½•å›ã‚‚ç·‘ã®æ——ã‚’æŠ¼ã—ã¦ã¿ã¦ãã ã•ã„ï¼
            </div>
        </div>

        <!-- Step 3: ç·´ç¿’å•é¡Œ -->
        <div id="if-step3" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œï¼šå¹´é½¢ãƒã‚§ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ </h3>
            <p>å­¦ã‚“ã ã“ã¨ã‚’æ´»ã‹ã—ã¦ã€æ¡ä»¶åˆ†å²ã®ç·´ç¿’å•é¡Œã«æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ç·´ç¿’å•é¡Œ: å¤§äººã‹ãªï¼Ÿå­ã©ã‚‚ã‹ãªï¼Ÿ</strong><br>
                æ¬¡ã®å‹•ãã‚’ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ï¼š<br>
                â€¢ ã€Œå¹´é½¢ã¯ã„ãã¤ã§ã™ã‹ï¼Ÿã€ã¨è³ªå•<br>
                â€¢ ç­”ãˆã‚’ã€Œå¹´é½¢ã€å¤‰æ•°ã«ä¿å­˜<br>
                â€¢ ã‚‚ã—å¹´é½¢ãŒ18ä»¥ä¸Šãªã‚‰ã€Œå¤§äººã§ã™ã­ï¼ã€ã¨è¡¨ç¤º<br>
            </div>

            <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
            <p>ä¸‹ã®ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã‹ã‚‰å¿…è¦ãªã‚‚ã®ã‚’é¸ã‚“ã§ã€æ­£ã—ã„é †ç•ªã§çµ„ã¿ç«‹ã¦ã¦ãã ã•ã„ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ç·‘ã®æ——ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[å¹´é½¢ã¯ã„ãã¤ã§ã™ã‹ï¼Ÿ] ã¨èã„ã¦å¾…ã¤ :: sensing</pre>
                    <div class="japanese-label">å¹´é½¢ã‚’è³ªå•ï¼ˆèª¿ã¹ã‚‹ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(å¹´é½¢ :: variables) ã‚’ (ç­”ãˆ :: sensing) ã«ã™ã‚‹ :: variables</pre>
                    <div class="japanese-label">ç­”ãˆã‚’å¹´é½¢å¤‰æ•°ã«ä¿å­˜ï¼ˆå¤‰æ•°ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚‚ã—<>ãªã‚‰ {
} :: control</pre>
                    <div class="japanese-label">ã‚‚ã—ã€œãªã‚‰ï¼ˆæ¡ä»¶åˆ†å²ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(å¹´é½¢ :: variables) â‰¥ (18) :: operators</pre>
                    <div class="japanese-label">å¹´é½¢ãŒ18ä»¥ä¸Šã‹ãƒã‚§ãƒƒã‚¯ï¼ˆæ¼”ç®—ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[å¤§äººã§ã™ã­ï¼] ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">å¤§äººã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showIfAnswer1()" id="ifAnswerBtn1">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="if-answer1" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
[å¹´é½¢ã¯ã„ãã¤ã§ã™ã‹ï¼Ÿ] ã¨èã„ã¦å¾…ã¤ :: sensing
(å¹´é½¢ :: variables) ã‚’ (ç­”ãˆ :: sensing) ã«ã™ã‚‹ :: variables
ã‚‚ã—<(å¹´é½¢ :: variables) â‰¥ (18)>ãªã‚‰ {
[å¤§äººã§ã™ã­ï¼] ã¨è¨€ã† :: looks
} :: control
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ã‚ˆãã§ãã¾ã—ãŸï¼</strong> æ¡ä»¶åˆ†å²ã®åŸºæœ¬ãŒç†è§£ã§ãã¦ã„ã¾ã™ã€‚
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: ã¾ã¨ã‚ -->
        <div id="if-step4" class="step-container">
            <h3>ğŸŒŸ ã€Œã‚‚ã—ã€œãªã‚‰ã€ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸï¼</h3>
            
            <div class="info-box learn">
                <strong>ğŸ“ å­¦ã‚“ã ã“ã¨:</strong><br>
                â€¢ æ¡ä»¶åˆ†å²ã¯ã€Œã‚‚ã—ã€œãªã‚‰ã€ãƒ–ãƒ­ãƒƒã‚¯ã§ä½œã‚‹<br>
                â€¢ æ¡ä»¶ãŒçœŸï¼ˆæœ¬å½“ï¼‰ã®ã¨ãã ã‘ä¸­èº«ãŒå®Ÿè¡Œã•ã‚Œã‚‹<br>
                â€¢ æ¯”è¼ƒæ¼”ç®—å­ï¼ˆ>, <, =, â‰¥, â‰¤ï¼‰ã§æ¡ä»¶ã‚’ä½œã‚‹<br>
                â€¢ å¤‰æ•°ã¨æ•°å­—ã‚’æ¯”è¼ƒã§ãã‚‹<br><br>
                <strong>ğŸ’¡ æ¡ä»¶åˆ†å²ã®æ´»ç”¨ä¾‹:</strong><br>
                â€¢ ã‚²ãƒ¼ãƒ ã®ã‚¯ãƒªã‚¢æ¡ä»¶åˆ¤å®š<br>
                â€¢ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ãƒã‚§ãƒƒã‚¯<br>
                â€¢ å¹´é½¢ã‚„ç‚¹æ•°ã«ã‚ˆã‚‹åˆ†é¡
            </div>

            <div class="info-box success">
                <strong>ğŸ† æ¬¡ã¯ã€Œã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã°ã€ã«æŒ‘æˆ¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼</strong><br>
                æ¡ä»¶ãŒåˆã‚ãªã„ã¨ãã®å‹•ä½œã‚‚æŒ‡å®šã§ãã‚‹ã€ã‚ˆã‚Šé«˜åº¦ãªæ¡ä»¶åˆ†å²ã‚’å­¦ã³ã¾ã™ã€‚
            </div>
        </div>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="step-nav">
            <button class="btn" id="ifPrevBtn" onclick="changeIfStep(-1)" disabled>å‰ã¸</button>
            <button class="btn" id="ifNextBtn" onclick="changeIfStep(1)">æ¬¡ã¸</button>
        </div>
    </div>

    <!-- ã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã°ï¼ˆIf-Elseï¼‰ -->
    <div id="if-else-section" style="display: none;">
        <div class="progress-bar">
            <div id="ifelse-progress" class="progress-fill" style="width: 25%"></div>
        </div>
        <h2 id="ifelse-step-title">ã‚¹ãƒ†ãƒƒãƒ— 1 / 4</h2>

        <!-- Step 1: ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹ -->
        <div id="ifelse-step1" class="step-container step-active">
            <h3>âš¡ ã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã°ï¼š2ã¤ã®é“ã‹ã‚‰é¸æŠ</h3>
            <div class="info-box learn">
                <strong>ğŸ“š if-elseæ¡ä»¶åˆ†å²ã«ã¤ã„ã¦å­¦ã¼ã†ï¼</strong><br>
                ã€Œã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã°ã€ã¯ã€æ¡ä»¶ãŒåˆã†ã¨ãã¨åˆã‚ãªã„ã¨ãã®ä¸¡æ–¹ã®å‹•ä½œã‚’æŒ‡å®šã§ãã¾ã™ã€‚<br>
                â€¢ ã‚‚ã—æ™´ã‚Œãªã‚‰å…¬åœ’ã«è¡Œãã€ã§ãªã‘ã‚Œã°å®¶ã§èª­æ›¸<br>
                â€¢ ã‚‚ã—æ­£è§£ãªã‚‰ã€Œæ­£è§£ï¼ã€ã€ã§ãªã‘ã‚Œã°ã€Œæ®‹å¿µã€<br>
                â€¢ ã‚‚ã—å¶æ•°ãªã‚‰ã€Œå¶æ•°ã§ã™ã€ã€ã§ãªã‘ã‚Œã°ã€Œå¥‡æ•°ã§ã™ã€<br><br>
                <strong>ğŸ“ ä»Šæ—¥ã®ã‚‚ãã²ã‚‡ã†:</strong> 2ã¤ã®é¸æŠè‚¢ãŒã‚ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚ã†ï¼
            </div>

            <h3>ğŸ¬ if-elseåˆ†å²ã®å‹•ãã‚’è¦‹ã¦ã¿ã‚ˆã†</h3>
            <p>ã¾ãšã¯ã€Œã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã°ã€ãŒã©ã®ã‚ˆã†ã«å‹•ãã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
            
            <div class="animation-container">
                <h4>ğŸ¯ if-elseåˆ†å²ã®ãƒ‡ãƒ¢</h4>
                <div class="stage">
                    <div class="sprite">ğŸ²</div>
                    <div id="ifelse-display" style="font-size: 20px; color: #2c3e50; margin: 20px;">ğŸ² æ•°å­—: ?</div>
                    <button class="play-btn" onclick="playIfElseAnimation()">â–¶ï¸ if-elseåˆ†å²ã‚’è¦‹ã‚‹</button>
                    <button class="reset-btn" onclick="resetIfElseAnimation()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
                <div class="animation-status" id="ifelse-status">if-elseåˆ†å²ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</div>
            </div>

            <div class="info-box hint">
                <strong>ğŸ¤” ã©ã‚“ãªå‹•ãã‚’ã—ãŸï¼Ÿ</strong> æ•°å­—ãŒå¶æ•°ãªã‚‰ã€Œå¶æ•°ï¼ã€ã€å¥‡æ•°ãªã‚‰ã€Œå¥‡æ•°ï¼ã€ã¨å¿…ãšã©ã¡ã‚‰ã‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã—ãŸï¼
            </div>

            <h3>ğŸ“¦ if-elseåˆ†å²ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯</h3>
            <p>ã€Œã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã°ã€ã®æ¡ä»¶åˆ†å²ã«å¿…è¦ãªãƒ–ãƒ­ãƒƒã‚¯ã§ã™ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é–‹å§‹ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(æ•°å­— :: variables) ã‚’ ([1] ã‹ã‚‰ [10] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: variables</pre>
                    <div class="japanese-label">å¤‰æ•°ã«ãƒ©ãƒ³ãƒ€ãƒ ãªæ•°ã‚’è¨­å®š<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚‚ã—<>ãªã‚‰ {
} ã§ãªã‘ã‚Œã° {
} :: control</pre>
                    <div class="japanese-label">ã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã°ï¼ˆ2ã¤ã®Cã˜ãŒãŸãŒã¤ãªãŒã£ãŸãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">((æ•°å­— :: variables) ã‚’ (2) ã§å‰²ã£ãŸä½™ã‚Š :: operators) = (0) :: operators</pre>
                    <div class="japanese-label">å¶æ•°ã‹å¥‡æ•°ã‹ã‚’èª¿ã¹ã‚‹ï¼ˆæ¼”ç®—ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[å¶æ•°ï¼] ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">å¶æ•°ã®ã¨ãã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[å¥‡æ•°ï¼] ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">å¥‡æ•°ã®ã¨ãã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="info-box success">
                <strong>âœ¨ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§</strong> ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’çµ„ã¿ç«‹ã¦ã¦ã€å®Ÿéš›ã«if-elseåˆ†å²ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>

        <!-- Step 2: çµ„ã¿ç«‹ã¦ -->
        <div id="ifelse-step2" class="step-container">
            <h3>ğŸ”§ if-elseåˆ†å²ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ„ã¿ç«‹ã¦ã‚ˆã†ï¼</h3>
            <p>ã€Œã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã°ã€ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã£ã¦ã€2ã¤ã®é¸æŠè‚¢ãŒã‚ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚</p>
            
            <div class="block-container">
                <h4>ğŸ¯ çµ„ã¿ç«‹ã¦æ–¹:</h4>
                <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
(æ•°å­— :: variables) ã‚’ ([1] ã‹ã‚‰ [10] ã¾ã§ã®ä¹±æ•° :: operators) ã«ã™ã‚‹ :: variables
(æ•°å­— :: variables) ã¨è¨€ã† :: looks
ã‚‚ã—<((æ•°å­— :: variables) ã‚’ (2) ã§å‰²ã£ãŸä½™ã‚Š :: operators) = (0)>ãªã‚‰ {
[å¶æ•°ï¼] ã¨è¨€ã† :: looks
} ã§ãªã‘ã‚Œã° {
[å¥‡æ•°ï¼] ã¨è¨€ã† :: looks
} :: control
                </pre>
            </div>

            <div class="info-box hint">
                <strong>ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆ:</strong><br>
                â€¢ ã€Œã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã°ã€ãƒ–ãƒ­ãƒƒã‚¯ã«ã¯2ã¤ã®éƒ¨åˆ†ãŒã‚ã‚‹<br>
                â€¢ ä¸Šã®éƒ¨åˆ†ï¼šæ¡ä»¶ãŒçœŸï¼ˆæœ¬å½“ï¼‰ã®ã¨ãã«å®Ÿè¡Œ<br>
                â€¢ ä¸‹ã®éƒ¨åˆ†ï¼šæ¡ä»¶ãŒå½ï¼ˆã†ãï¼‰ã®ã¨ãã«å®Ÿè¡Œ<br>
                â€¢ å¿…ãšã©ã¡ã‚‰ã‹ä¸€æ–¹ãŒå®Ÿè¡Œã•ã‚Œã‚‹
            </div>

            <div class="info-box learn">
                <strong>ğŸ“ å¶æ•°ãƒ»å¥‡æ•°ã®åˆ¤å®šæ–¹æ³•:</strong><br>
                â€¢ å¶æ•°ï¼š2ã§å‰²ã‚Šåˆ‡ã‚Œã‚‹æ•°ï¼ˆä½™ã‚ŠãŒ0ï¼‰<br>
                â€¢ å¥‡æ•°ï¼š2ã§å‰²ã‚Šåˆ‡ã‚Œãªã„æ•°ï¼ˆä½™ã‚ŠãŒ1ï¼‰<br>
                â€¢ ã€Œã€œã‚’ã€œã§å‰²ã£ãŸä½™ã‚Šã€ãƒ–ãƒ­ãƒƒã‚¯ã§ä½™ã‚Šã‚’è¨ˆç®—
            </div>
        </div>

        <!-- Step 3: ç·´ç¿’å•é¡Œ -->
        <div id="ifelse-step3" class="step-container">
            <h3>ğŸ¯ ç·´ç¿’å•é¡Œï¼šæ¸©åº¦åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ </h3>
            <p>å­¦ã‚“ã ã“ã¨ã‚’æ´»ã‹ã—ã¦ã€if-elseåˆ†å²ã®ç·´ç¿’å•é¡Œã«æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†ï¼</p>
            
            <div class="info-box learn">
                <strong>ğŸ“š ç·´ç¿’å•é¡Œ: ä»Šæ—¥ã¯æš‘ã„ï¼Ÿæ¶¼ã—ã„ï¼Ÿ</strong><br>
                æ¬¡ã®å‹•ãã‚’ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ï¼š<br>
                â€¢ ã€Œä»Šæ—¥ã®æ°—æ¸©ã¯ï¼Ÿã€ã¨è³ªå•<br>
                â€¢ ç­”ãˆã‚’ã€Œæ°—æ¸©ã€å¤‰æ•°ã«ä¿å­˜<br>
                â€¢ ã‚‚ã—æ°—æ¸©ãŒ25åº¦ä»¥ä¸Šãªã‚‰ã€Œæš‘ã„ã§ã™ã­ï¼ã€<br>
                â€¢ ã§ãªã‘ã‚Œã°ã€Œæ¶¼ã—ã„ã§ã™ã­ï¼ã€ã¨è¡¨ç¤º<br>
            </div>

            <h3>ğŸ“¦ ä½¿ã†ãƒ–ãƒ­ãƒƒã‚¯ã‚’é¸ã¼ã†</h3>
            <p>ä¸‹ã®ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã‹ã‚‰å¿…è¦ãªã‚‚ã®ã‚’é¸ã‚“ã§ã€æ­£ã—ã„é †ç•ªã§çµ„ã¿ç«‹ã¦ã¦ãã ã•ã„ï¼š</p>
            
            <div class="blocks-grid">
                <div class="block-item">
                    <pre class="blocks">@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat</pre>
                    <div class="japanese-label">ç·‘ã®æ——ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[ä»Šæ—¥ã®æ°—æ¸©ã¯ï¼Ÿ] ã¨èã„ã¦å¾…ã¤ :: sensing</pre>
                    <div class="japanese-label">æ°—æ¸©ã‚’è³ªå•ï¼ˆèª¿ã¹ã‚‹ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(æ°—æ¸© :: variables) ã‚’ (ç­”ãˆ :: sensing) ã«ã™ã‚‹ :: variables</pre>
                    <div class="japanese-label">ç­”ãˆã‚’æ°—æ¸©å¤‰æ•°ã«ä¿å­˜ï¼ˆå¤‰æ•°ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">ã‚‚ã—<>ãªã‚‰ {
} ã§ãªã‘ã‚Œã° {
} :: control</pre>
                    <div class="japanese-label">ã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã°ï¼ˆæ¡ä»¶åˆ†å²ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">(æ°—æ¸© :: variables) â‰¥ (25) :: operators</pre>
                    <div class="japanese-label">æ°—æ¸©ãŒ25åº¦ä»¥ä¸Šã‹ãƒã‚§ãƒƒã‚¯ï¼ˆæ¼”ç®—ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[æš‘ã„ã§ã™ã­ï¼] ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">æš‘ã„ã¨ãã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
                <div class="block-item">
                    <pre class="blocks">[æ¶¼ã—ã„ã§ã™ã­ï¼] ã¨è¨€ã† :: looks</pre>
                    <div class="japanese-label">æ¶¼ã—ã„ã¨ãã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆè¦‹ãŸç›®ï¼‰<br><strong>ğŸ“Š å¿…è¦ãªå€‹æ•°: 1å€‹</strong></div>
                </div>
            </div>

            <div class="answer-section">
                <button class="btn answer-btn" onclick="showIfElseAnswer1()" id="ifelseAnswerBtn1">ğŸ’¡ ç­”ãˆã‚’è¡¨ç¤º</button>
                <div id="ifelse-answer1" class="answer-container" style="display: none;">
                    <h4>âœ… æ­£è§£:</h4>
                    <div class="block-container">
                        <pre class="blocks">
@greenFlag ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã :: events hat
[ä»Šæ—¥ã®æ°—æ¸©ã¯ï¼Ÿ] ã¨èã„ã¦å¾…ã¤ :: sensing
(æ°—æ¸© :: variables) ã‚’ (ç­”ãˆ :: sensing) ã«ã™ã‚‹ :: variables
ã‚‚ã—<(æ°—æ¸© :: variables) â‰¥ (25)>ãªã‚‰ {
[æš‘ã„ã§ã™ã­ï¼] ã¨è¨€ã† :: looks
} ã§ãªã‘ã‚Œã° {
[æ¶¼ã—ã„ã§ã™ã­ï¼] ã¨è¨€ã† :: looks
} :: control
                        </pre>
                    </div>
                    <div class="info-box success">
                        <strong>ğŸ‰ ç´ æ™´ã‚‰ã—ã„ï¼</strong> if-elseåˆ†å²ã®ä»•çµ„ã¿ãŒç†è§£ã§ãã¾ã—ãŸã€‚
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: ã¾ã¨ã‚ -->
        <div id="ifelse-step4" class="step-container">
            <h3>ğŸŒŸ ã€Œã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã°ã€ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸï¼</h3>
            
            <div class="info-box learn">
                <strong>ğŸ“ å­¦ã‚“ã ã“ã¨:</strong><br>
                â€¢ if-elseåˆ†å²ã¯2ã¤ã®é¸æŠè‚¢ã‚’æä¾›<br>
                â€¢ æ¡ä»¶ãŒçœŸãªã‚‰ä¸Šã®éƒ¨åˆ†ã€å½ãªã‚‰ä¸‹ã®éƒ¨åˆ†ãŒå®Ÿè¡Œ<br>
                â€¢ å¿…ãšã©ã¡ã‚‰ã‹ä¸€æ–¹ãŒå®Ÿè¡Œã•ã‚Œã‚‹<br>
                â€¢ ã‚ˆã‚Šè¤‡é›‘ãªæ¡ä»¶åˆ¤å®šãŒã§ãã‚‹<br><br>
                <strong>ğŸ’¡ if-elseåˆ†å²ã®æ´»ç”¨ä¾‹:</strong><br>
                â€¢ æ­£è§£ãƒ»ä¸æ­£è§£ã®åˆ¤å®š<br>
                â€¢ æ˜¼ãƒ»å¤œã®æ™‚é–“åˆ¤å®š<br>
                â€¢ å‹ã¡ãƒ»è² ã‘ã®çµæœè¡¨ç¤º
            </div>

            <div class="info-box success">
                <strong>ğŸ† æ¡ä»¶åˆ†å²ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸï¼</strong><br>
                ã“ã‚Œã§ã€ã‚ˆã‚Šè³¢ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒä½œã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚æ¬¡ã¯ç¹°ã‚Šè¿”ã—ã‚„å¤‰æ•°ãªã©ã®ä»–ã®æ©Ÿèƒ½ã¨çµ„ã¿åˆã‚ã›ã¦ã€ã•ã‚‰ã«é«˜åº¦ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«æŒ‘æˆ¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="step-nav">
            <button class="btn" id="ifelsePrevBtn" onclick="changeIfElseStep(-1)" disabled>å‰ã¸</button>
            <button class="btn" id="ifelseNextBtn" onclick="changeIfElseStep(1)">æ¬¡ã¸</button>
        </div>
    </div>

    <!-- éŸ³ã¨éŸ³æ¥½ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="sounds-menu" style="display: none;">
        <div class="container">
            <div class="header">
                <h1>ğŸµ éŸ³ã¨éŸ³æ¥½</h1>
                <p>éŸ³æ¥½ã‚„åŠ¹æœéŸ³ã‚’ä½¿ã£ã¦ã€æ¥½ã—ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚ã†ï¼</p>
            </div>

            <div class="lesson-grid">
                <div class="lesson-card" onclick="showBasicSounds()">
                    <div class="emoji">ğŸ”Š</div>
                    <div class="lesson-title">åŸºæœ¬çš„ãªéŸ³</div>
                    <div class="lesson-desc">éŸ³ã‚’é³´ã‚‰ã™ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ãŠã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showMusicInstruments()">
                    <div class="emoji">ğŸº</div>
                    <div class="lesson-title">æ¥½å™¨ã®éŸ³</div>
                    <div class="lesson-desc">è‰²ã€…ãªæ¥½å™¨ã®éŸ³ã‚’é³´ã‚‰ãã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showSoundEffects()">
                    <div class="emoji">ğŸ­</div>
                    <div class="lesson-title">åŠ¹æœéŸ³</div>
                    <div class="lesson-desc">ã‚²ãƒ¼ãƒ ã‚„åŠ‡ã®åŠ¹æœéŸ³ã‚’ä½œã‚ã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showMusicControl()">
                    <div class="emoji">ğŸ›ï¸</div>
                    <div class="lesson-title">éŸ³æ¥½ã®åˆ¶å¾¡</div>
                    <div class="lesson-desc">ãƒ†ãƒ³ãƒã‚„éŸ³é‡ã‚’èª¿æ•´ã—ã‚ˆã†ï¼</div>
                </div>
            </div>

            <div class="step-nav">
                <button class="btn" onclick="showHome()" style="background: #666;">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
            </div>
        </div>
    </div>

    <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ©Ÿèƒ½ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="messages-menu" style="display: none;">
        <div class="container">
            <div class="header">
                <h1>ğŸ“¢ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ©Ÿèƒ½</h1>
                <p>ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆåŒå£«ã§ä¼šè©±ã—ã¦ã€é€£æºãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚ã†ï¼</p>
            </div>

            <div class="lesson-grid">
                <div class="lesson-card" onclick="showBasicMessages()">
                    <div class="emoji">ğŸ“¨</div>
                    <div class="lesson-title">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€å—ä¿¡</div>
                    <div class="lesson-desc">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã£ãŸã‚Šå—ã‘å–ã£ãŸã‚Šã—ã‚ˆã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showSpritesCommunication()">
                    <div class="emoji">ğŸ¤</div>
                    <div class="lesson-title">ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆé–“ã®é€šä¿¡</div>
                    <div class="lesson-desc">è¤‡æ•°ã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’é€£æºã•ã›ã‚ˆã†ï¼</div>
                </div>
            </div>

            <div class="step-nav">
                <button class="btn" onclick="showHome()" style="background: #666;">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
            </div>
        </div>
    </div>

    <!-- èƒŒæ™¯ã¨ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="backgrounds-menu" style="display: none;">
        <div class="container">
            <div class="header">
                <h1>ğŸ­ èƒŒæ™¯ã¨ã‚¹ãƒ†ãƒ¼ã‚¸</h1>
                <p>ã‚¹ãƒ†ãƒ¼ã‚¸ã®èƒŒæ™¯ã‚’å¤‰ãˆã¦ã€ç´ æ•µãªä¸–ç•Œã‚’ä½œã‚ã†ï¼</p>
            </div>

            <div class="lesson-grid">
                <div class="lesson-card" onclick="showBackgroundBasics()">
                    <div class="emoji">ğŸ–¼ï¸</div>
                    <div class="lesson-title">èƒŒæ™¯ã®åŸºæœ¬</div>
                    <div class="lesson-desc">èƒŒæ™¯ã‚’å¤‰ãˆã‚‹ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ãŠã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showBackgroundSwitching()">
                    <div class="emoji">ğŸ”„</div>
                    <div class="lesson-title">èƒŒæ™¯ã®åˆ‡ã‚Šæ›¿ãˆ</div>
                    <div class="lesson-desc">å ´é¢ã«å¿œã˜ã¦èƒŒæ™¯ã‚’å¤‰ãˆã‚ˆã†ï¼</div>
                </div>
            </div>

            <div class="step-nav">
                <button class="btn" onclick="showHome()" style="background: #666;">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
            </div>
        </div>
    </div>

    <!-- ãƒªã‚¹ãƒˆæ©Ÿèƒ½ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="lists-menu" style="display: none;">
        <div class="container">
            <div class="header">
                <h1>ğŸ“‹ ãƒªã‚¹ãƒˆ</h1>
                <p>ãŸãã•ã‚“ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ•´ç†ã—ã¦ä½¿ãŠã†ï¼</p>
            </div>

            <div class="lesson-grid">
                <div class="lesson-card" onclick="showListBasics()">
                    <div class="emoji">ğŸ“</div>
                    <div class="lesson-title">ãƒªã‚¹ãƒˆã®åŸºæœ¬</div>
                    <div class="lesson-desc">ãƒªã‚¹ãƒˆã‚’ä½œã£ã¦ä½¿ã£ã¦ã¿ã‚ˆã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showListOperations()">
                    <div class="emoji">â•</div>
                    <div class="lesson-title">ãƒªã‚¹ãƒˆã®æ“ä½œ</div>
                    <div class="lesson-desc">ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ãƒ»å‰Šé™¤ã—ã¦ã¿ã‚ˆã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showListAccess()">
                    <div class="emoji">ğŸ”</div>
                    <div class="lesson-title">ãƒªã‚¹ãƒˆã®å†…å®¹ã‚’ä½¿ã†</div>
                    <div class="lesson-desc">ãƒªã‚¹ãƒˆã®ä¸­èº«ã‚’å–ã‚Šå‡ºã—ã¦ä½¿ãŠã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showListApplications()">
                    <div class="emoji">ğŸ¯</div>
                    <div class="lesson-title">ãƒªã‚¹ãƒˆã®æ´»ç”¨</div>
                    <div class="lesson-desc">å®Ÿéš›ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ãƒªã‚¹ãƒˆã‚’ä½¿ãŠã†ï¼</div>
                </div>
            </div>

            <div class="step-nav">
                <button class="btn" onclick="showHome()" style="background: #666;">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
            </div>
        </div>
    </div>

    <!-- ãƒšãƒ³æ©Ÿèƒ½ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="pen-menu" style="display: none;">
        <div class="container">
            <div class="header">
                <h1>âœï¸ ãƒšãƒ³æ©Ÿèƒ½</h1>
                <p>ãƒšãƒ³ã‚’ä½¿ã£ã¦ã€ç·šã‚„å›³å½¢ã‚’æã„ã¦ã‚¢ãƒ¼ãƒˆä½œå“ã‚’ä½œã‚ã†ï¼</p>
            </div>

            <div class="lesson-grid">
                <div class="lesson-card" onclick="showPenBasics()">
                    <div class="emoji">ğŸ–Šï¸</div>
                    <div class="lesson-title">ãƒšãƒ³ã®åŸºæœ¬</div>
                    <div class="lesson-desc">ãƒšãƒ³ã‚’ä¸‹ã‚ã—ã¦ç·šã‚’æã“ã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showPenColors()">
                    <div class="emoji">ğŸŒˆ</div>
                    <div class="lesson-title">è‰²ã¨å¤ªã•</div>
                    <div class="lesson-desc">ãƒšãƒ³ã®è‰²ã¨å¤ªã•ã‚’å¤‰ãˆã‚ˆã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showShapeDrawing()">
                    <div class="emoji">ğŸ”º</div>
                    <div class="lesson-title">å›³å½¢ã‚’æã</div>
                    <div class="lesson-desc">ä¸‰è§’å½¢ã‚„å››è§’å½¢ã‚’æã“ã†ï¼</div>
                </div>
                <div class="lesson-card" onclick="showArtCreation()">
                    <div class="emoji">ğŸ¨</div>
                    <div class="lesson-title">ã‚¢ãƒ¼ãƒˆä½œå“</div>
                    <div class="lesson-desc">è‡ªç”±ã«çµµã‚’æã„ã¦ä½œå“ã‚’ä½œã‚ã†ï¼</div>
                </div>
            </div>

            <div class="step-nav">
                <button class="btn" onclick="showHome()" style="background: #666;">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
            </div>
        </div>
    </div>

    <script src="https://scratchblocks.github.io/js/scratchblocks-v3.6.3-min.js"></script>
    <link rel="stylesheet" href="https://scratchblocks.github.io/css/scratchblocks-v3.6.3.css">
    
    <script>
        let currentStep = 1;
        let blocksLoaded = false;
        
        function updateStatus(message, type = 'loading') {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = 'status ' + type;
            if (type === 'success') {
                setTimeout(() => status.style.display = 'none', 2000);
            }
        }
        
        function initializeBlocks() {
            setTimeout(() => {
                if (typeof scratchblocks !== 'undefined') {
                    try {
                        // Use English blocks with proper category syntax
                        scratchblocks.renderMatching('pre.blocks', {
                            languages: ['en'],
                            scale: 0.8,
                            style: 'scratch3'
                        });
                        blocksLoaded = true;
                        updateStatus('ãƒ–ãƒ­ãƒƒã‚¯èª­ã¿è¾¼ã¿å®Œäº†ï¼', 'success');
                        console.log('Blocks rendered successfully');
                    } catch (e) {
                        console.error('Error rendering blocks:', e);
                        updateStatus('ãƒ–ãƒ­ãƒƒã‚¯æç”»ã‚¨ãƒ©ãƒ¼', 'error');
                    }
                } else {
                    updateStatus('ãƒ©ã‚¤ãƒ–ãƒ©ãƒªèª­ã¿è¾¼ã¿å¤±æ•—', 'error');
                }
            }, 1000);
        }
        
        function renderBlocks() {
            // Disable re-rendering to preserve correct colors
            // Only render once during initialization
            return;
        }
        
        function showProgramFlow() {
            document.getElementById('home-view').style.display = 'none';
            document.getElementById('program-flow').style.display = 'block';
            document.getElementById('conditional-if').style.display = 'none';
            document.getElementById('conditional-ifelse').style.display = 'none';
            currentStep = 1;
            updateStep();
            // å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’å®Œå…¨ã«ç„¡åŠ¹åŒ–ã—ã¦è‰²åˆ†ã‘ã‚’ç¶­æŒ
        }
        
        function showHome() {
            hideAllViews();
            document.getElementById('home-view').style.display = 'block';
        }
        
        function changeStep(direction) {
            currentStep += direction;
            if (currentStep < 1) currentStep = 1;
            if (currentStep > 6) currentStep = 6;
            updateStep();
            // Remove re-rendering call
        }
        
        function updateStep() {
            // Hide all steps
            document.querySelectorAll('.step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            
            // Show current step
            document.getElementById('step' + currentStep).classList.add('step-active');
            
            // Update title and progress
            document.getElementById('step-title').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentStep} / 6`;
            document.getElementById('progress').style.width = (currentStep / 6 * 100) + '%';
            
            // Update buttons
            document.getElementById('prevBtn-program').disabled = currentStep === 1;
            document.getElementById('nextBtn-program').disabled = currentStep === 6;
            if (currentStep <= 3) {
                document.getElementById('nextBtn-program').textContent = 'æ¬¡ã¸';
            } else if (currentStep < 6) {
                document.getElementById('nextBtn-program').textContent = 'æ¬¡ã®å•é¡Œ';
            } else {
                document.getElementById('nextBtn-program').textContent = 'å®Œäº†';
            }
        }
        
        function showLesson(type) {
            alert(`${type}ã®ãƒ¬ãƒƒã‚¹ãƒ³ã¯æº–å‚™ä¸­ã§ã™ï¼`);
        }
        
        // Phase 1-4: æ–°æ©Ÿèƒ½ã®é–¢æ•°
        function showCoordinates() {
            document.getElementById('home-view').style.display = 'none';
            document.getElementById('coordinates').style.display = 'block';
            currentCoordinatesStep = 1;
            updateCoordinatesStep();
            setTimeout(renderBlocks, 200);
        }
        
        function showVariables() {
            alert('å¤‰æ•°ã¨è¨ˆç®—ã®ãƒ¬ãƒƒã‚¹ãƒ³ã¯æº–å‚™ä¸­ã§ã™ï¼');
        }
        
        function showCostumes() {
            hideAllViews();
            document.getElementById('costumes-section').style.display = 'block';
            currentCostumesStep = 1;
            updateCostumesStep();
        }
        
        
        // æ¡ä»¶åˆ†å²ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤º
        function showConditional(type) {
            document.getElementById('home-view').style.display = 'none';
            document.getElementById('program-flow').style.display = 'none';
            
            if (type === 'if') {
                document.getElementById('conditional-if').style.display = 'block';
                document.getElementById('conditional-ifelse').style.display = 'none';
                currentIfStep = 1;
                updateIfStep();
            } else if (type === 'ifelse') {
                document.getElementById('conditional-if').style.display = 'none';
                document.getElementById('conditional-ifelse').style.display = 'block';
                currentIfElseStep = 1;
                updateIfElseStep();
            }
            
            // æ¡ä»¶åˆ†å²ãƒšãƒ¼ã‚¸ã§ã¯åˆå›ã®ã¿ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€æ—¢ã«èª­ã¿è¾¼ã¿æ¸ˆã¿ãªã‚‰å®Ÿè¡Œã—ãªã„
            if (!blocksLoaded) {
                setTimeout(() => {
                    if (typeof scratchblocks !== 'undefined') {
                        try {
                            scratchblocks.renderMatching('pre.blocks', {
                                languages: ['en'],
                                scale: 0.8,
                                style: 'scratch3'
                            });
                            console.log('Conditional blocks rendered successfully');
                        } catch (e) {
                            console.error('Error rendering conditional blocks:', e);
                        }
                    }
                }, 300);
            }
        }
        
        // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åˆ¶å¾¡
        let isAnimating = false;
        let isDetailedAnimating = false;
        
        function playAnimation() {
            if (isAnimating) return;
            
            isAnimating = true;
            const sprite = document.getElementById('sprite');
            const bubble = document.getElementById('speech-bubble');
            const status = document.getElementById('animation-status');
            const playBtn = document.querySelector('.play-btn');
            
            playBtn.disabled = true;
            playBtn.textContent = 'â¸ï¸ å®Ÿè¡Œä¸­...';
            
            // åˆæœŸä½ç½®ã«ãƒªã‚»ãƒƒãƒˆ
            resetAnimation();
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
            setTimeout(() => {
                status.textContent = 'ğŸš© ã¯ãŸãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼';
            }, 500);
            
            // ã“ã‚“ã«ã¡ã¯ï¼ã¨è¨€ã†
            setTimeout(() => {
                status.textContent = 'ğŸ’¬ ã“ã‚“ã«ã¡ã¯ï¼ã¨è¨€ã†';
                bubble.textContent = 'ã“ã‚“ã«ã¡ã¯ï¼';
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 1500);
            
            // 1ç§’å¾…ã¤
            setTimeout(() => {
                status.textContent = 'â° 1ç§’å¾…ã¤...';
                bubble.style.display = 'none';
            }, 3500);
            
            // 50æ­©å‹•ã‹ã™
            setTimeout(() => {
                status.textContent = 'ğŸš¶ 50æ­©å‹•ã‹ã™';
                sprite.style.left = '200px';
            }, 4500);
            
            // 1ç§’å¾…ã¤
            setTimeout(() => {
                status.textContent = 'â° 1ç§’å¾…ã¤...';
            }, 5500);
            
            // å³ã«90åº¦å›ã™
            setTimeout(() => {
                status.textContent = 'ğŸ”„ å³ã«90åº¦å›ã™';
                sprite.style.transform = 'rotate(90deg)';
            }, 6500);
            
            // 1ç§’å¾…ã¤
            setTimeout(() => {
                status.textContent = 'â° 1ç§’å¾…ã¤...';
            }, 7500);
            
            // ã•ã‚ˆã†ãªã‚‰ï¼ã¨è¨€ã†
            setTimeout(() => {
                status.textContent = 'ğŸ‘‹ ã•ã‚ˆã†ãªã‚‰ï¼ã¨è¨€ã†';
                bubble.textContent = 'ã•ã‚ˆã†ãªã‚‰ï¼';
                bubble.style.display = 'block';
                bubble.style.left = '250px';
                bubble.style.top = '20px';
            }, 8500);
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†
            setTimeout(() => {
                status.textContent = 'âœ… å‹•ããŒå®Œæˆã—ã¾ã—ãŸï¼ã“ã®æµã‚Œã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚';
                bubble.style.display = 'none';
                playBtn.disabled = false;
                playBtn.textContent = 'â–¶ï¸ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†ç”Ÿ';
                isAnimating = false;
            }, 10500);
        }
        
        function resetAnimation() {
            const sprite = document.getElementById('sprite');
            const bubble = document.getElementById('speech-bubble');
            const status = document.getElementById('animation-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'ç·‘ã®æ——ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹ã—ã¾ã—ã‚‡ã†ï¼';
            
            isAnimating = false;
            const playBtn = document.querySelector('.play-btn');
            playBtn.disabled = false;
            playBtn.textContent = 'â–¶ï¸ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†ç”Ÿ';
        }
        
        // è©³ç´°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚¹ãƒ†ãƒƒãƒ—3ç”¨ï¼‰
        function playDetailedAnimation() {
            if (isDetailedAnimating) return;
            
            isDetailedAnimating = true;
            const sprite = document.getElementById('sprite2');
            const bubble = document.getElementById('speech-bubble2');
            const status = document.getElementById('detailed-status');
            const playBtn = document.querySelectorAll('.play-btn')[1];
            
            playBtn.disabled = true;
            playBtn.textContent = 'ğŸ”¬ è§£èª¬ä¸­...';
            
            // åˆæœŸä½ç½®ã«ãƒªã‚»ãƒƒãƒˆ
            resetDetailedAnimation();
            
            // ã‚ˆã‚Šè©³ã—ã„è§£èª¬ä»˜ãã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            setTimeout(() => {
                status.textContent = 'ğŸ“ ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒå§‹ã¾ã‚Šã¾ã™ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆãƒ–ãƒ­ãƒƒã‚¯ï¼‰';
                highlightExecutionItem(1);
            }, 1000);
            
            setTimeout(() => {
                status.textContent = 'ğŸ“ ã‚¹ãƒ†ãƒƒãƒ—2: æœ€åˆã®å‡¦ç†ã‚’å®Ÿè¡Œï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰';
                bubble.textContent = 'ã“ã‚“ã«ã¡ã¯ï¼';
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
                highlightExecutionItem(2);
            }, 2500);
            
            setTimeout(() => {
                status.textContent = 'ğŸ“ ã‚¹ãƒ†ãƒƒãƒ—3: å‡¦ç†ã‚’åŒºåˆ‡ã‚‹ãŸã‚ã«å¾…æ©Ÿï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰';
                bubble.style.display = 'none';
                highlightExecutionItem(3);
            }, 4000);
            
            setTimeout(() => {
                status.textContent = 'ğŸ“ ã‚¹ãƒ†ãƒƒãƒ—4: æ¬¡ã®å‡¦ç†ã‚’å®Ÿè¡Œï¼ˆå‹•ããƒ–ãƒ­ãƒƒã‚¯ï¼‰';
                sprite.style.left = '200px';
                highlightExecutionItem(4);
            }, 5500);
            
            setTimeout(() => {
                status.textContent = 'ğŸ“ ã‚¹ãƒ†ãƒƒãƒ—5: ã¾ãŸå¾…æ©Ÿã—ã¦æ¬¡ã®æº–å‚™ï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰';
                highlightExecutionItem(5);
            }, 7000);
            
            setTimeout(() => {
                status.textContent = 'ğŸ“ ã‚¹ãƒ†ãƒƒãƒ—6: å›è»¢ã®å‡¦ç†ã‚’å®Ÿè¡Œï¼ˆå‹•ããƒ–ãƒ­ãƒƒã‚¯ï¼‰';
                sprite.style.transform = 'rotate(90deg)';
                highlightExecutionItem(6);
            }, 8500);
            
            setTimeout(() => {
                status.textContent = 'ğŸ“ ã‚¹ãƒ†ãƒƒãƒ—7: æœ€å¾Œã®å¾…æ©Ÿï¼ˆåˆ¶å¾¡ãƒ–ãƒ­ãƒƒã‚¯ï¼‰';
                highlightExecutionItem(7);
            }, 10000);
            
            setTimeout(() => {
                status.textContent = 'ğŸ“ ã‚¹ãƒ†ãƒƒãƒ—8: æœ€å¾Œã®å‡¦ç†ã‚’å®Ÿè¡Œï¼ˆè¦‹ãŸç›®ãƒ–ãƒ­ãƒƒã‚¯ï¼‰';
                bubble.textContent = 'ã•ã‚ˆã†ãªã‚‰ï¼';
                bubble.style.display = 'block';
                bubble.style.left = '250px';
                bubble.style.top = '20px';
                highlightExecutionItem(8);
            }, 11500);
            
            setTimeout(() => {
                status.textContent = 'ğŸ“ å®Œäº†ï¼ã“ã‚ŒãŒé †æ¬¡å‡¦ç†ã§ã™ã€‚ä¸Šã‹ã‚‰é †ç•ªã«ã€ä¸€ã¤ãšã¤ç¢ºå®Ÿã«å®Ÿè¡Œã•ã‚Œã¾ã—ãŸã€‚';
                bubble.style.display = 'none';
                clearHighlights();
                playBtn.disabled = false;
                playBtn.textContent = 'ğŸ”¬ è©³ç´°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†ç”Ÿ';
                isDetailedAnimating = false;
            }, 13000);
        }
        
        function resetDetailedAnimation() {
            const sprite = document.getElementById('sprite2');
            const bubble = document.getElementById('speech-bubble2');
            const status = document.getElementById('detailed-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'è©³ç´°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æµã‚Œã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼';
            clearHighlights();
            
            isDetailedAnimating = false;
            const playBtn = document.querySelectorAll('.play-btn')[1];
            if (playBtn) {
                playBtn.disabled = false;
                playBtn.textContent = 'ğŸ”¬ è©³ç´°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†ç”Ÿ';
            }
        }
        
        function highlightExecutionItem(step) {
            clearHighlights();
            const items = document.querySelectorAll('.execution-item');
            if (items[step - 1]) {
                items[step - 1].style.backgroundColor = '#fff3cd';
                items[step - 1].style.borderColor = '#ffc107';
                items[step - 1].style.transform = 'scale(1.02)';
            }
        }
        
        function clearHighlights() {
            const items = document.querySelectorAll('.execution-item');
            items.forEach(item => {
                item.style.backgroundColor = '#f0f8ff';
                item.style.borderColor = '#4A90E2';
                item.style.transform = 'scale(1)';
            });
        }
        
        // æ¡ä»¶åˆ†å²ã®ã‚¹ãƒ†ãƒƒãƒ—ç®¡ç†
        let currentIfStep = 1;
        let currentIfElseStep = 1;
        let isIfAnimating = false;
        let isIfElseAnimating = false;
        
        // ã‚‚ã—ã€œãªã‚‰ ã®ã‚¹ãƒ†ãƒƒãƒ—ç®¡ç†
        function changeIfStep(direction) {
            currentIfStep += direction;
            if (currentIfStep < 1) currentIfStep = 1;
            if (currentIfStep > 5) currentIfStep = 5;
            updateIfStep();
            // å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ç„¡åŠ¹åŒ–ã—ã¦è‰²åˆ†ã‘ã‚’ç¶­æŒ
        }
        
        function updateIfStep() {
            document.querySelectorAll('#conditional-if .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            document.getElementById('if-step' + currentIfStep).classList.add('step-active');
            document.getElementById('step-title-if').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentIfStep} / 5`;
            document.getElementById('progress-if').style.width = (currentIfStep / 5 * 100) + '%';
            document.getElementById('prevBtn-if').disabled = currentIfStep === 1;
            document.getElementById('nextBtn-if').disabled = currentIfStep === 5;
            document.getElementById('nextBtn-if').textContent = currentIfStep === 5 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        // ã‚‚ã—ã€œãªã‚‰ã§ãªã‘ã‚Œã° ã®ã‚¹ãƒ†ãƒƒãƒ—ç®¡ç†
        function changeIfElseStep(direction) {
            currentIfElseStep += direction;
            if (currentIfElseStep < 1) currentIfElseStep = 1;
            if (currentIfElseStep > 4) currentIfElseStep = 4;
            updateIfElseStep();
            // å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ç„¡åŠ¹åŒ–ã—ã¦è‰²åˆ†ã‘ã‚’ç¶­æŒ
        }
        
        function updateIfElseStep() {
            document.querySelectorAll('#conditional-ifelse .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            document.getElementById('ifelse-step' + currentIfElseStep).classList.add('step-active');
            document.getElementById('step-title-ifelse').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentIfElseStep} / 4`;
            document.getElementById('progress-ifelse').style.width = (currentIfElseStep / 4 * 100) + '%';
            document.getElementById('prevBtn-ifelse').disabled = currentIfElseStep === 1;
            document.getElementById('nextBtn-ifelse').disabled = currentIfElseStep === 4;
            document.getElementById('nextBtn-ifelse').textContent = currentIfElseStep === 4 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        // æ¡ä»¶åˆ†å²ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
        function playIfAnimation() {
            if (isIfAnimating) return;
            isIfAnimating = true;
            
            const sprite = document.getElementById('sprite-if');
            const bubble = document.getElementById('speech-bubble-if');
            const status = document.getElementById('if-status');
            const randomNum = Math.floor(Math.random() * 10) + 1;
            
            // ãƒªã‚»ãƒƒãƒˆ
            resetIfAnimation();
            
            setTimeout(() => {
                status.textContent = `ğŸ² å¤‰æ•°ã€Œæ•°ã€: ${randomNum}`;
                bubble.textContent = `æ•°ã¯${randomNum}`;
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 1000);
            
            setTimeout(() => {
                if (randomNum > 5) {
                    status.textContent = `âœ… ${randomNum} > 5 ãªã®ã§æ¡ä»¶ãŒçœŸï¼å³ã«å‹•ãã¾ã™`;
                    bubble.textContent = 'æ•°å­—ã¯å¤§ãã„ã§ã™ï¼';
                    sprite.style.left = '250px';
                } else {
                    status.textContent = `âŒ ${randomNum} â‰¤ 5 ãªã®ã§æ¡ä»¶ãŒå½ï¼ä½•ã‚‚ã—ã¾ã›ã‚“`;
                    bubble.style.display = 'none';
                }
            }, 3000);
            
            setTimeout(() => {
                bubble.style.display = 'none';
                status.textContent = 'ğŸ”„ ã‚‚ã†ä¸€åº¦å®Ÿè¡Œã—ã¦é•ã„ã‚’ç¢ºèªã—ã‚ˆã†ï¼';
                isIfAnimating = false;
            }, 5000);
        }
        
        function resetIfAnimation() {
            const sprite = document.getElementById('sprite-if');
            const bubble = document.getElementById('speech-bubble-if');
            const status = document.getElementById('if-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'ãƒ©ãƒ³ãƒ€ãƒ ãªæ•°å­—ã«ã‚ˆã£ã¦å‹•ããŒå¤‰ã‚ã‚Šã¾ã™ï¼';
            isIfAnimating = false;
        }
        
        function playIfElseAnimation() {
            if (isIfElseAnimating) return;
            isIfElseAnimating = true;
            
            const sprite = document.getElementById('sprite-ifelse');
            const bubble = document.getElementById('speech-bubble-ifelse');
            const status = document.getElementById('ifelse-status');
            const randomNum = Math.floor(Math.random() * 10) + 1;
            
            // ãƒªã‚»ãƒƒãƒˆ
            resetIfElseAnimation();
            
            setTimeout(() => {
                status.textContent = `ğŸ² é¸ã‚“ã æ•°å­—: ${randomNum}`;
                bubble.textContent = `é¸ã‚“ã æ•°å­—ã¯${randomNum}`;
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 1000);
            
            setTimeout(() => {
                if (randomNum > 5) {
                    status.textContent = `âœ… ${randomNum} > 5 ãªã®ã§æ¡ä»¶ãŒçœŸï¼å³ã«å‹•ãã¾ã™`;
                    bubble.textContent = 'å¤§ãã„æ•°å­—ï¼';
                    sprite.style.left = '250px';
                } else {
                    status.textContent = `âŒ ${randomNum} â‰¤ 5 ãªã®ã§æ¡ä»¶ãŒå½ï¼å·¦ã«å‹•ãã¾ã™`;
                    bubble.textContent = 'å°ã•ã„æ•°å­—ï¼';
                    sprite.style.left = '0px';
                }
            }, 3000);
            
            setTimeout(() => {
                bubble.textContent = 'å‹•ãå®Œäº†ï¼';
                status.textContent = 'âœ¨ å¿…ãšã©ã¡ã‚‰ã‹ã®å‹•ããŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸï¼';
            }, 5000);
            
            setTimeout(() => {
                bubble.style.display = 'none';
                status.textContent = 'ğŸ”„ ä½•åº¦ã‚‚å®Ÿè¡Œã—ã¦2ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¢ºèªã—ã‚ˆã†ï¼';
                isIfElseAnimating = false;
            }, 7000);
        }
        
        function resetIfElseAnimation() {
            const sprite = document.getElementById('sprite-ifelse');
            const bubble = document.getElementById('speech-bubble-ifelse');
            const status = document.getElementById('ifelse-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'ã©ã¡ã‚‰ã‹ã®å‹•ããŒå¿…ãšå®Ÿè¡Œã•ã‚Œã¾ã™ï¼';
            isIfElseAnimating = false;
        }
        
        // è©³ç´°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ï¼ˆå¾Œã§å®Ÿè£…ï¼‰
        function playDetailedIfAnimation() {
            alert('è©³ç´°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™ï¼');
        }
        
        function resetDetailedIfAnimation() {
            // æº–å‚™ä¸­
        }
        
        function playDetailedIfElseAnimation() {
            alert('è©³ç´°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™ï¼');
        }
        
        function resetDetailedIfElseAnimation() {
            // æº–å‚™ä¸­
        }
        
        // ç·´ç¿’å•é¡Œã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
        function playPractice1Animation() {
            const sprite = document.getElementById('sprite-practice1');
            const bubble = document.getElementById('speech-bubble-practice1');
            const status = document.getElementById('practice1-status');
            
            resetPractice1Animation();
            
            setTimeout(() => {
                status.textContent = 'ğŸŒ… ãŠã¯ã‚ˆã†ï¼';
                bubble.textContent = 'ãŠã¯ã‚ˆã†ï¼';
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 1000);
            
            setTimeout(() => {
                status.textContent = 'â° 2ç§’å¾…æ©Ÿä¸­...';
                bubble.style.display = 'none';
            }, 3000);
            
            setTimeout(() => {
                status.textContent = 'ğŸ’ª ä»Šæ—¥ã‚‚ãŒã‚“ã°ã‚ã†ï¼';
                bubble.textContent = 'ä»Šæ—¥ã‚‚ãŒã‚“ã°ã‚ã†ï¼';
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 5000);
            
            setTimeout(() => {
                bubble.style.display = 'none';
                status.textContent = 'âœ… ç·´ç¿’å•é¡Œ1ã®ç›®æ¨™å‹•ä½œå®Œäº†ï¼';
            }, 7000);
        }
        
        function resetPractice1Animation() {
            const sprite = document.getElementById('sprite-practice1');
            const bubble = document.getElementById('speech-bubble-practice1');
            const status = document.getElementById('practice1-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'ç·´ç¿’å•é¡Œ1ã®ç›®æ¨™ã¨ãªã‚‹å‹•ãã§ã™';
        }
        
        function playPractice2Animation() {
            const sprite = document.getElementById('sprite-practice2');
            const bubble = document.getElementById('speech-bubble-practice2');
            const status = document.getElementById('practice2-status');
            
            resetPractice2Animation();
            
            setTimeout(() => {
                status.textContent = 'ğŸš— å‡ºç™ºã—ã¾ã™ï¼';
                bubble.textContent = 'å‡ºç™ºã—ã¾ã™ï¼';
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 1000);
            
            setTimeout(() => {
                status.textContent = 'â¬…ï¸ å·¦ã«30æ­©ç§»å‹•';
                bubble.style.display = 'none';
                sprite.style.left = '20px';
            }, 2500);
            
            setTimeout(() => {
                status.textContent = 'â° 1ç§’å¾…æ©Ÿ';
            }, 3500);
            
            setTimeout(() => {
                status.textContent = 'ğŸ”„ å·¦ã«90åº¦å›è»¢';
                sprite.style.transform = 'rotate(-90deg)';
            }, 4500);
            
            setTimeout(() => {
                status.textContent = 'ğŸ åˆ°ç€ã—ã¾ã—ãŸï¼';
                bubble.textContent = 'åˆ°ç€ã—ã¾ã—ãŸï¼';
                bubble.style.display = 'block';
                bubble.style.left = '70px';
                bubble.style.top = '20px';
            }, 5500);
            
            setTimeout(() => {
                bubble.style.display = 'none';
                status.textContent = 'âœ… ç·´ç¿’å•é¡Œ2ã®ç›®æ¨™å‹•ä½œå®Œäº†ï¼';
            }, 7000);
        }
        
        function resetPractice2Animation() {
            const sprite = document.getElementById('sprite-practice2');
            const bubble = document.getElementById('speech-bubble-practice2');
            const status = document.getElementById('practice2-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'ç·´ç¿’å•é¡Œ2ã®ç›®æ¨™ã¨ãªã‚‹å‹•ãã§ã™';
        }
        
        function playPractice3Animation() {
            const sprite = document.getElementById('sprite-practice3');
            const bubble = document.getElementById('speech-bubble-practice3');
            const status = document.getElementById('practice3-status');
            
            resetPractice3Animation();
            
            setTimeout(() => {
                status.textContent = 'ğŸ’ƒ ãƒ€ãƒ³ã‚¹ã‚’å§‹ã‚ã¾ã™â™ª';
                bubble.textContent = 'ãƒ€ãƒ³ã‚¹ã‚’å§‹ã‚ã¾ã™â™ª';
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 1000);
            
            setTimeout(() => {
                status.textContent = 'â¡ï¸ å³ã«15æ­©ç§»å‹•';
                bubble.style.display = 'none';
                sprite.style.left = '100px';
            }, 2500);
            
            setTimeout(() => {
                status.textContent = 'ğŸ”„ å³ã«90åº¦å›è»¢';
                sprite.style.transform = 'rotate(90deg)';
            }, 3500);
            
            setTimeout(() => {
                status.textContent = 'ğŸŒ€ ãã‚‹ãã‚‹ã€œ';
                bubble.textContent = 'ãã‚‹ãã‚‹ã€œ';
                bubble.style.display = 'block';
                bubble.style.left = '150px';
                bubble.style.top = '20px';
            }, 4500);
            
            setTimeout(() => {
                status.textContent = 'ğŸ”„ ã¾ãŸå³ã«90åº¦å›è»¢';
                bubble.style.display = 'none';
                sprite.style.transform = 'rotate(180deg)';
            }, 6000);
            
            setTimeout(() => {
                status.textContent = 'â¡ï¸ ã¾ãŸå³ã«15æ­©ç§»å‹•';
                sprite.style.left = '150px';
            }, 7000);
            
            setTimeout(() => {
                status.textContent = 'ğŸ‰ ãƒ€ãƒ³ã‚¹çµ‚äº†ï¼';
                bubble.textContent = 'ãƒ€ãƒ³ã‚¹çµ‚äº†ï¼';
                bubble.style.display = 'block';
                bubble.style.left = '200px';
                bubble.style.top = '20px';
            }, 8000);
            
            setTimeout(() => {
                bubble.style.display = 'none';
                status.textContent = 'âœ… ç·´ç¿’å•é¡Œ3ã®ç›®æ¨™å‹•ä½œå®Œäº†ï¼';
            }, 9500);
        }
        
        function resetPractice3Animation() {
            const sprite = document.getElementById('sprite-practice3');
            const bubble = document.getElementById('speech-bubble-practice3');
            const status = document.getElementById('practice3-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'ç·´ç¿’å•é¡Œ3ã®ç›®æ¨™ã¨ãªã‚‹å‹•ãã§ã™';
        }
        
        // ç­”ãˆè¡¨ç¤ºæ©Ÿèƒ½
        function showAnswer1() {
            document.getElementById('answer1').style.display = 'block';
            document.getElementById('answerBtn1').disabled = true;
            document.getElementById('answerBtn1').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        function showAnswer2() {
            document.getElementById('answer2').style.display = 'block';
            document.getElementById('answerBtn2').disabled = true;
            document.getElementById('answerBtn2').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        function showAnswer3() {
            document.getElementById('answer3').style.display = 'block';
            document.getElementById('answerBtn3').disabled = true;
            document.getElementById('answerBtn3').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        // ã‚‚ã—ã€œãªã‚‰ ã®ç·´ç¿’å•é¡Œã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
        function playIfPractice1Animation() {
            const sprite = document.getElementById('sprite-if-practice1');
            const bubble = document.getElementById('speech-bubble-if-practice1');
            const status = document.getElementById('if-practice1-status');
            const age = Math.floor(Math.random() * 20) + 1; // 1-20æ­³ã®ãƒ©ãƒ³ãƒ€ãƒ 
            
            resetIfPractice1Animation();
            
            setTimeout(() => {
                status.textContent = `ğŸ‘¤ å¹´é½¢: ${age}æ­³`;
                bubble.textContent = `å¹´é½¢ã¯${age}æ­³`;
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 1000);
            
            setTimeout(() => {
                status.textContent = `â±ï¸ 1ç§’å¾…ã¤...`;
                bubble.textContent = '1ç§’å¾…ã¤';
            }, 3000);
            
            setTimeout(() => {
                if (age > 10) {
                    status.textContent = `âœ… ${age}æ­³ > 10æ­³ ãªã®ã§å¤§äººã§ã™ã­ï¼`;
                    bubble.textContent = 'å¤§äººã§ã™ã­ï¼';
                } else {
                    status.textContent = `âŒ ${age}æ­³ â‰¤ 10æ­³ ãªã®ã§10æ­³ä»¥ä¸‹ã§ã™ã­`;
                    bubble.textContent = '10æ­³ä»¥ä¸‹ã§ã™ã­';
                }
            }, 4000);
            
            setTimeout(() => {
                bubble.style.display = 'none';
                status.textContent = 'âœ… å¹´é½¢ãƒã‚§ãƒƒã‚¯å®Œäº†ï¼';
            }, 6000);
        }
        
        function resetIfPractice1Animation() {
            const sprite = document.getElementById('sprite-if-practice1');
            const bubble = document.getElementById('speech-bubble-if-practice1');
            const status = document.getElementById('if-practice1-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'å¹´é½¢ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™';
        }
        
        function playIfPractice2Animation() {
            const sprite = document.getElementById('sprite-if-practice2');
            const bubble = document.getElementById('speech-bubble-if-practice2');
            const status = document.getElementById('if-practice2-status');
            const å¤©æ°— = Math.floor(Math.random() * 10) + 1; // 1-10ã®ä¹±æ•°
            
            resetIfPractice2Animation();
            
            setTimeout(() => {
                status.textContent = `ğŸ² å¤©æ°—ã®æ•°å€¤: ${å¤©æ°—}`;
                bubble.textContent = `å¤©æ°—ã¯${å¤©æ°—}`;
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 1000);
            
            setTimeout(() => {
                if (å¤©æ°— > 5) {
                    status.textContent = `â˜€ï¸ ${å¤©æ°—} > 5 ãªã®ã§æ™´ã‚Œã ï¼`;
                    bubble.textContent = 'æ™´ã‚Œã ï¼';
                    sprite.style.left = '200px';
                } else {
                    status.textContent = `â˜” ${å¤©æ°—} â‰¤ 5 ãªã®ã§ä½•ã‚‚ã—ã¾ã›ã‚“`;
                    bubble.style.display = 'none';
                }
            }, 3000);
            
            setTimeout(() => {
                bubble.style.display = 'none';
                status.textContent = 'âœ… å¤©æ°—ã«ã‚ˆã‚‹è¡Œå‹•æ±ºå®šå®Œäº†ï¼';
            }, 5000);
        }
        
        function resetIfPractice2Animation() {
            const sprite = document.getElementById('sprite-if-practice2');
            const bubble = document.getElementById('speech-bubble-if-practice2');
            const status = document.getElementById('if-practice2-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'å¤©æ°—ã«å¿œã˜ã¦è¡Œå‹•ã‚’æ±ºã‚ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™';
        }
        
        function playIfPractice3Animation() {
            const sprite = document.getElementById('sprite-if-practice3');
            const bubble = document.getElementById('speech-bubble-if-practice3');
            const status = document.getElementById('if-practice3-status');
            const ã‚¹ã‚³ã‚¢ = Math.floor(Math.random() * 100) + 1; // 1-100ç‚¹ã®ãƒ©ãƒ³ãƒ€ãƒ 
            
            resetIfPractice3Animation();
            
            setTimeout(() => {
                status.textContent = `ğŸ® ã‚²ãƒ¼ãƒ é–‹å§‹ï¼`;
                bubble.textContent = 'ã‚²ãƒ¼ãƒ é–‹å§‹';
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 1000);
            
            setTimeout(() => {
                status.textContent = `ğŸ² ã‚¹ã‚³ã‚¢ç”Ÿæˆ: ${ã‚¹ã‚³ã‚¢}ç‚¹`;
                bubble.textContent = `ã‚¹ã‚³ã‚¢ã¯${ã‚¹ã‚³ã‚¢}ç‚¹`;
                bubble.style.left = '150px';
            }, 3000);
            
            setTimeout(() => {
                if (ã‚¹ã‚³ã‚¢ > 80) {
                    status.textContent = `ğŸ‰ ${ã‚¹ã‚³ã‚¢}ç‚¹ > 80ç‚¹ ãªã®ã§ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ï¼`;
                    bubble.textContent = 'ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ï¼';
                    
                    // 36å›ç¹°ã‚Šè¿”ã—ã¦10åº¦ãšã¤å›è»¢ï¼ˆåˆè¨ˆ360åº¦ï¼‰
                    let rotationCount = 0;
                    const rotateInterval = setInterval(() => {
                        rotationCount++;
                        const currentRotation = rotationCount * 10; // 10åº¦ãšã¤å›è»¢
                        sprite.style.transform = `rotate(${currentRotation}deg)`;
                        
                        if (rotationCount >= 36) { // 36å›å›è»¢ã—ãŸã‚‰åœæ­¢
                            clearInterval(rotateInterval);
                        }
                    }, 50); // 50msã”ã¨ã«å›è»¢ï¼ˆåˆè¨ˆ1.8ç§’ã§ä¸€å‘¨ï¼‰
                    
                } else {
                    status.textContent = `ğŸ˜ ${ã‚¹ã‚³ã‚¢}ç‚¹ â‰¤ 80ç‚¹ ãªã®ã§ä½•ã‚‚ã—ã¾ã›ã‚“`;
                    bubble.style.display = 'none';
                }
            }, 5000);
            
            setTimeout(() => {
                bubble.style.display = 'none';
                status.textContent = 'âœ… ãƒ¬ãƒ™ãƒ«åˆ¤å®šå®Œäº†ï¼';
            }, 7000);
        }
        
        function resetIfPractice3Animation() {
            const sprite = document.getElementById('sprite-if-practice3');
            const bubble = document.getElementById('speech-bubble-if-practice3');
            const status = document.getElementById('if-practice3-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'ã‚¹ã‚³ã‚¢ã«ã‚ˆã£ã¦ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã™ã‚‹ã‹ãŒæ±ºã¾ã‚Šã¾ã™';
        }
        
        // ã‚‚ã—ã€œãªã‚‰ ã®ç·´ç¿’å•é¡Œç­”ãˆè¡¨ç¤ºæ©Ÿèƒ½
        function showIfAnswer1() {
            document.getElementById('if-answer1').style.display = 'block';
            document.getElementById('ifAnswerBtn1').disabled = true;
            document.getElementById('ifAnswerBtn1').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        function showIfAnswer2() {
            document.getElementById('if-answer2').style.display = 'block';
            document.getElementById('ifAnswerBtn2').disabled = true;
            document.getElementById('ifAnswerBtn2').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        function showIfAnswer3() {
            document.getElementById('if-answer3').style.display = 'block';
            document.getElementById('ifAnswerBtn3').disabled = true;
            document.getElementById('ifAnswerBtn3').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        // if-elseç·´ç¿’å•é¡Œã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
        function playIfElsePractice1Animation() {
            const sprite = document.getElementById('sprite-ifelse-practice1');
            const bubble = document.getElementById('speech-bubble-ifelse-practice1');
            const status = document.getElementById('ifelse-practice1-status');
            const æ¸©åº¦ = Math.floor(Math.random() * 21) + 10; // 10-30åº¦ã®ãƒ©ãƒ³ãƒ€ãƒ 
            
            resetIfElsePractice1Animation();
            
            setTimeout(() => {
                status.textContent = `ğŸŒ¡ï¸ ä»Šæ—¥ã®æ°—æ¸©: ${æ¸©åº¦}åº¦`;
                bubble.textContent = `ä»Šæ—¥ã®æ°—æ¸©ã¯${æ¸©åº¦}åº¦`;
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 1000);
            
            setTimeout(() => {
                status.textContent = 'â±ï¸ 1ç§’å¾…ã¤...';
                bubble.textContent = '1ç§’å¾…ã¤';
            }, 2500);
            
            setTimeout(() => {
                if (æ¸©åº¦ < 20) {
                    status.textContent = `â„ï¸ ${æ¸©åº¦}åº¦ < 20åº¦ ãªã®ã§å¯’ã„ï¼ã‚³ãƒ¼ãƒˆã‚’ç€ã‚ˆã†`;
                    bubble.textContent = 'ã‚³ãƒ¼ãƒˆã‚’ç€ã‚ˆã†';
                    sprite.style.transform = 'rotate(-90deg)'; // å·¦ã«å›è»¢
                } else {
                    status.textContent = `â˜€ï¸ ${æ¸©åº¦}åº¦ â‰¥ 20åº¦ ãªã®ã§æš–ã‹ã„ï¼Tã‚·ãƒ£ãƒ„ã§ã„ã„ã­`;
                    bubble.textContent = 'Tã‚·ãƒ£ãƒ„ã§ã„ã„ã­';
                    sprite.style.transform = 'rotate(90deg)'; // å³ã«å›è»¢
                }
            }, 4000);
        }
        
        function resetIfElsePractice1Animation() {
            const sprite = document.getElementById('sprite-ifelse-practice1');
            const bubble = document.getElementById('speech-bubble-ifelse-practice1');
            const status = document.getElementById('ifelse-practice1-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'æ¸©åº¦ã«ã‚ˆã£ã¦æœè£…ãŒæ±ºã¾ã‚Šã¾ã™';
        }
        
        function playIfElsePractice2Animation() {
            const sprite = document.getElementById('sprite-ifelse-practice2');
            const bubble = document.getElementById('speech-bubble-ifelse-practice2');
            const status = document.getElementById('ifelse-practice2-status');
            const æ™‚é–“ = Math.floor(Math.random() * 17) + 6; // 6-22æ™‚ã®ãƒ©ãƒ³ãƒ€ãƒ 
            
            resetIfElsePractice2Animation();
            
            setTimeout(() => {
                status.textContent = `â° ç¾åœ¨ã®æ™‚åˆ»: ${æ™‚é–“}æ™‚`;
                bubble.textContent = `ç¾åœ¨ã®æ™‚åˆ»ã¯${æ™‚é–“}æ™‚ã ã‚ˆ`;
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 1000);
            
            setTimeout(() => {
                status.textContent = 'â±ï¸ 1ç§’å¾…ã¤...';
                bubble.textContent = '1ç§’å¾…ã¤';
            }, 2500);
            
            setTimeout(() => {
                if (æ™‚é–“ < 12) {
                    status.textContent = `ğŸŒ… ${æ™‚é–“}æ™‚ < 12æ™‚ ãªã®ã§åˆå‰ï¼ãŠã¯ã‚ˆã†`;
                    bubble.textContent = 'ãŠã¯ã‚ˆã†ï¼';
                    sprite.style.left = '150px'; // å³ã«ç§»å‹•
                } else {
                    status.textContent = `ğŸŒ ${æ™‚é–“}æ™‚ â‰¥ 12æ™‚ ãªã®ã§åˆå¾Œï¼ã“ã‚“ã«ã¡ã¯`;
                    bubble.textContent = 'ã“ã‚“ã«ã¡ã¯ï¼';
                    sprite.style.left = '0px'; // å·¦ã«ç§»å‹•
                }
            }, 4000);
        }
        
        function resetIfElsePractice2Animation() {
            const sprite = document.getElementById('sprite-ifelse-practice2');
            const bubble = document.getElementById('speech-bubble-ifelse-practice2');
            const status = document.getElementById('ifelse-practice2-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'æ™‚é–“ã«ã‚ˆã£ã¦æŒ¨æ‹¶ãŒå¤‰ã‚ã‚Šã¾ã™';
        }
        
        // if-elseç­”ãˆè¡¨ç¤ºæ©Ÿèƒ½
        function showIfElseAnswer1() {
            document.getElementById('ifelse-answer1').style.display = 'block';
            document.getElementById('ifElseAnswerBtn1').disabled = true;
            document.getElementById('ifElseAnswerBtn1').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        function showIfElseAnswer2() {
            document.getElementById('ifelse-answer2').style.display = 'block';
            document.getElementById('ifElseAnswerBtn2').disabled = true;
            document.getElementById('ifElseAnswerBtn2').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        // ç¹°ã‚Šè¿”ã—é–¢é€£ã®é–¢æ•°
        function showLoop() {
            document.getElementById('home-view').style.display = 'none';
            document.getElementById('loop').style.display = 'block';
            currentLoopStep = 1;
            updateLoopStep();
            setTimeout(renderBlocks, 200);
        }
        
        let currentLoopStep = 1;
        
        function changeLoopStep(direction) {
            currentLoopStep += direction;
            if (currentLoopStep < 1) currentLoopStep = 1;
            if (currentLoopStep > 6) currentLoopStep = 6;
            updateLoopStep();
            setTimeout(renderBlocks, 200);
        }
        
        function updateLoopStep() {
            // Hide all steps
            document.querySelectorAll('#loop .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            
            // Show current step
            document.getElementById('loop-step' + currentLoopStep).classList.add('step-active');
            
            // Update title and progress
            document.getElementById('step-title-loop').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentLoopStep} / 6`;
            document.getElementById('progress-loop').style.width = (currentLoopStep / 6 * 100) + '%';
            
            // Update buttons
            document.getElementById('prevBtn-loop').disabled = currentLoopStep === 1;
            document.getElementById('nextBtn-loop').disabled = currentLoopStep === 6;
            document.getElementById('nextBtn-loop').textContent = currentLoopStep === 6 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        // ãƒ«ãƒ¼ãƒ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        function playLoopAnimation() {
            const sprite = document.getElementById('sprite-loop');
            const bubble = document.getElementById('speech-bubble-loop');
            const status = document.getElementById('loop-status');
            
            resetLoopAnimation();
            
            status.textContent = 'ğŸ”„ 10å›ç¹°ã‚Šè¿”ã—é–‹å§‹...';
            
            let loopCount = 0;
            const totalLoops = 10;
            
            function executeLoop() {
                if (loopCount >= totalLoops) {
                    status.textContent = 'âœ… 10å›ã®ç¹°ã‚Šè¿”ã—ãŒå®Œäº†ã—ã¾ã—ãŸï¼å††ãŒå®Œæˆã—ã¾ã—ãŸã€‚';
                    return;
                }
                
                loopCount++;
                status.textContent = `ğŸ”„ ${loopCount}å›ç›®ã®ç¹°ã‚Šè¿”ã—å®Ÿè¡Œä¸­...`;
                
                // 10æ­©å‹•ã‹ã™
                setTimeout(() => {
                    const currentLeft = parseInt(sprite.style.left) || 50;
                    const currentTop = parseInt(sprite.style.top) || 50;
                    const currentRotation = parseInt(sprite.style.transform.replace(/[^0-9-]/g, '')) || 0;
                    
                    // ç¾åœ¨ã®å‘ãã«åŸºã¥ã„ã¦ç§»å‹•
                    const radians = (currentRotation * Math.PI) / 180;
                    const moveX = Math.cos(radians) * 10;
                    const moveY = Math.sin(radians) * 10;
                    
                    sprite.style.left = (currentLeft + moveX) + 'px';
                    sprite.style.top = (currentTop + moveY) + 'px';
                }, 500);
                
                // 36åº¦å›è»¢
                setTimeout(() => {
                    const currentRotation = parseInt(sprite.style.transform.replace(/[^0-9-]/g, '')) || 0;
                    sprite.style.transform = `rotate(${currentRotation + 36}deg)`;
                }, 1000);
                
                // 1ç§’å¾…ã¤
                setTimeout(() => {
                    status.textContent = `â° ${loopCount}å›ç›®: 1ç§’å¾…ã¤...`;
                }, 1500);
                
                // æ¬¡ã®ãƒ«ãƒ¼ãƒ—å®Ÿè¡Œ
                setTimeout(executeLoop, 2500);
            }
            
            executeLoop();
        }
        
        function resetLoopAnimation() {
            const sprite = document.getElementById('sprite-loop');
            const bubble = document.getElementById('speech-bubble-loop');
            const status = document.getElementById('loop-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.transform = 'rotate(0deg)';
            bubble.style.display = 'none';
            status.textContent = 'åŒã˜å‹•ãã‚’ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã—ã¾ã™ï¼';
        }
        
        // ã€Œä½•ã€…ã¾ã§ç¹°ã‚Šè¿”ã™ã€ãƒ‡ãƒ¢ç”¨ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        function playUntilAnimation() {
            const sprite = document.getElementById('sprite-until');
            const status = document.getElementById('until-status');
            
            let stepCount = 0;
            let spritePos = 50;
            
            function executeUntilLoop() {
                stepCount++;
                status.textContent = `â° ${stepCount}å›ç›®: 10æ­©å‹•ã‹ã™...`;
                
                setTimeout(() => {
                    spritePos += 30;
                    sprite.style.left = spritePos + 'px';
                    
                    if (spritePos >= 300) {
                        // ã¯ã—ã«è§¦ã‚ŒãŸ
                        setTimeout(() => {
                            status.textContent = 'âœ… ã¯ã—ã«è§¦ã‚ŒãŸã®ã§ç¹°ã‚Šè¿”ã—ã‚’çµ‚äº†ã—ã¾ã™ï¼';
                        }, 500);
                    } else {
                        // ã¾ã ç«¯ã«è§¦ã‚Œã¦ã„ãªã„
                        setTimeout(() => {
                            status.textContent = 'â° 0.5ç§’å¾…ã¤...';
                        }, 500);
                        
                        setTimeout(() => {
                            status.textContent = 'â“ ã¯ã—ã«è§¦ã‚ŒãŸ...ã¾ã ã§ã™';
                        }, 1000);
                        
                        setTimeout(executeUntilLoop, 1500);
                    }
                }, 500);
            }
            
            executeUntilLoop();
        }
        
        function resetUntilAnimation() {
            const sprite = document.getElementById('sprite-until');
            const status = document.getElementById('until-status');
            
            sprite.style.left = '50px';
            status.textContent = 'æ¡ä»¶ãŒæˆç«‹ã™ã‚‹ã¾ã§ç¹°ã‚Šè¿”ã—ã¾ã™ï¼';
        }
        
        // è‰²æ¤œå‡ºã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        function playColorAnimation() {
            const sprite = document.getElementById('sprite-color');
            const status = document.getElementById('color-status');
            
            let stepCount = 0;
            let spritePos = 50;
            
            function executeColorLoop() {
                stepCount++;
                status.textContent = `â° ${stepCount}å›ç›®: 5æ­©å‹•ã‹ã™...`;
                
                setTimeout(() => {
                    spritePos += 25;
                    sprite.style.left = spritePos + 'px';
                    
                    if (spritePos >= 250) {
                        // è‰²ã«è§¦ã‚ŒãŸ
                        setTimeout(() => {
                            status.textContent = 'âœ… èµ¤è‰²ã«è§¦ã‚ŒãŸã®ã§ç¹°ã‚Šè¿”ã—ã‚’çµ‚äº†ã—ã¾ã™ï¼';
                        }, 500);
                    } else {
                        // ã¾ã è‰²ã«è§¦ã‚Œã¦ã„ãªã„
                        setTimeout(() => {
                            status.textContent = 'â“ èµ¤è‰²ã«è§¦ã‚ŒãŸï¼Ÿ...ã¾ã ã§ã™';
                        }, 500);
                        
                        setTimeout(executeColorLoop, 1000);
                    }
                }, 500);
            }
            
            executeColorLoop();
        }
        
        function resetColorAnimation() {
            const sprite = document.getElementById('sprite-color');
            const status = document.getElementById('color-status');
            
            sprite.style.left = '50px';
            status.textContent = 'èµ¤è‰²ã«è§¦ã‚Œã‚‹ã¾ã§ç¹°ã‚Šè¿”ã—ã¾ã™ï¼';
        }
        
        // ç­”ãˆã®è¡¨ç¤º
        function showUntilAnswer1() {
            const answer = document.getElementById('until-answer1');
            answer.style.display = 'block';
        }
        
        function showUntilAnswer2() {
            const answer = document.getElementById('until-answer2');
            answer.style.display = 'block';
        }
        
        // ãƒã‚¦ã‚¹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        function playMouseAnimation() {
            const sprite = document.getElementById('sprite-mouse');
            const mousePointer = document.getElementById('mouse-pointer');
            const status = document.getElementById('mouse-status');
            const bubble = document.getElementById('speech-bubble-mouse');
            
            let stepCount = 0;
            let spriteX = 50;
            let spriteY = 50;
            const mouseX = 300;
            const mouseY = 100;
            
            function executeMouseLoop() {
                stepCount++;
                status.textContent = `â° ${stepCount}å›ç›®: (ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ v)ã¸å‘ã‘ã‚‹...`;
                
                setTimeout(() => {
                    // ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã®æ–¹å‘ã‚’è¨ˆç®—
                    const deltaX = mouseX - spriteX;
                    const deltaY = mouseY - spriteY;
                    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
                    
                    if (distance <= 20) {
                        // ãƒã‚¦ã‚¹ã«è§¦ã‚ŒãŸ
                        status.textContent = 'âœ… ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã«è§¦ã‚Œã¾ã—ãŸï¼';
                        setTimeout(() => {
                            bubble.textContent = 'ã“ã‚“ã«ã¡ã¯ï¼';
                            bubble.style.display = 'block';
                            bubble.style.left = (spriteX + 30) + 'px';
                            bubble.style.top = (spriteY - 30) + 'px';
                        }, 500);
                    } else {
                        // 3æ­©å‹•ã‹ã™
                        const moveX = (deltaX / distance) * 15;
                        const moveY = (deltaY / distance) * 15;
                        
                        spriteX += moveX;
                        spriteY += moveY;
                        
                        sprite.style.left = spriteX + 'px';
                        sprite.style.top = spriteY + 'px';
                        
                        status.textContent = `â° ${stepCount}å›ç›®: 3æ­©å‹•ã‹ã™...`;
                        
                        setTimeout(() => {
                            status.textContent = 'â° 0.1ç§’å¾…ã¤...';
                        }, 500);
                        
                        setTimeout(() => {
                            status.textContent = 'â“ (ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ v)ã«è§¦ã‚ŒãŸ...ã¾ã ã§ã™';
                        }, 600);
                        
                        setTimeout(executeMouseLoop, 1000);
                    }
                }, 500);
            }
            
            executeMouseLoop();
        }
        
        function resetMouseAnimation() {
            const sprite = document.getElementById('sprite-mouse');
            const bubble = document.getElementById('speech-bubble-mouse');
            const status = document.getElementById('mouse-status');
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            bubble.style.display = 'none';
            status.textContent = 'ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã«è§¦ã‚Œã‚‹ã¾ã§å‹•ãç¶šã‘ã¾ã™ï¼';
        }
        
        // åº§æ¨™ã¨ã‚¹ãƒ†ãƒ¼ã‚¸ã®æ©Ÿèƒ½
        let currentCoordinatesStep = 1;
        
        function changeCoordinatesStep(direction) {
            currentCoordinatesStep += direction;
            if (currentCoordinatesStep < 1) currentCoordinatesStep = 1;
            if (currentCoordinatesStep > 4) currentCoordinatesStep = 4;
            updateCoordinatesStep();
            setTimeout(renderBlocks, 200);
        }
        
        function updateCoordinatesStep() {
            document.querySelectorAll('#coordinates .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            document.getElementById('coordinates-step' + currentCoordinatesStep).classList.add('step-active');
            document.getElementById('step-title-coordinates').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentCoordinatesStep} / 4`;
            document.getElementById('progress-coordinates').style.width = (currentCoordinatesStep / 4 * 100) + '%';
            document.getElementById('prevBtn-coordinates').disabled = currentCoordinatesStep === 1;
            document.getElementById('nextBtn-coordinates').disabled = currentCoordinatesStep === 4;
            document.getElementById('nextBtn-coordinates').textContent = currentCoordinatesStep === 4 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        function playCoordinatesAnimation() {
            const sprite = document.getElementById('sprite-coordinates');
            const status = document.getElementById('coordinates-status');
            const bubble = document.getElementById('speech-bubble-coordinates');
            const canvas = document.getElementById('coordinates-canvas');
            const ctx = canvas.getContext('2d');
            
            // ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ã‚¯ãƒªã‚¢ï¼ˆå…¨éƒ¨æ¶ˆã™ãƒ–ãƒ­ãƒƒã‚¯ã®åŠ¹æœï¼‰
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = '#ff6b6b';
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            
            let step = 0;
            const positions = [
                {x: 200, y: 60, text: 'å…¨éƒ¨æ¶ˆã™â†’ãƒšãƒ³ã‚’ç½®ãâ†’ä¸­å¤®(0,0)ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆ'},
                {x: 300, y: 60, text: 'Xåº§æ¨™ã‚’100ã«â†’å³ã¸ç§»å‹•'},
                {x: 300, y: 10, text: 'Yåº§æ¨™ã‚’100ã«â†’ä¸Šã¸ç§»å‹•'},
                {x: 200, y: 10, text: 'Xåº§æ¨™ã‚’0ã«â†’å·¦ã¸ç§»å‹•'},
                {x: 200, y: 60, text: 'Yåº§æ¨™ã‚’0ã«â†’ä¸‹ã¸ç§»å‹•ã€å››è§’å½¢å®Œæˆï¼'}
            ];
            
            function executeStep() {
                if (step < positions.length) {
                    status.textContent = positions[step].text;
                    
                    // ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’ç§»å‹•
                    sprite.style.left = positions[step].x + 'px';
                    sprite.style.top = positions[step].y + 'px';
                    
                    // ç·šã‚’æç”»ï¼ˆãƒšãƒ³ã‚’ç½®ããƒ–ãƒ­ãƒƒã‚¯ã®åŠ¹æœï¼‰
                    if (step > 0) {
                        const prevPos = positions[step - 1];
                        const currentPos = positions[step];
                        
                        ctx.beginPath();
                        ctx.moveTo(prevPos.x + 12, prevPos.y + 12); // ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã®ä¸­å¿ƒ
                        ctx.lineTo(currentPos.x + 12, currentPos.y + 12);
                        ctx.stroke();
                    }
                    
                    if (step === positions.length - 1) {
                        setTimeout(() => {
                            bubble.textContent = 'å››è§’å½¢å®Œæˆï¼ãƒšãƒ³ã§ç·šãŒæã‘ã¾ã—ãŸï¼';
                            bubble.style.display = 'block';
                            bubble.style.left = (positions[step].x + 30) + 'px';
                            bubble.style.top = (positions[step].y - 30) + 'px';
                        }, 500);
                    }
                    
                    step++;
                    if (step < positions.length) {
                        setTimeout(executeStep, 1500);
                    }
                }
            }
            
            executeStep();
        }
        
        function resetCoordinatesAnimation() {
            const sprite = document.getElementById('sprite-coordinates');
            const status = document.getElementById('coordinates-status');
            const bubble = document.getElementById('speech-bubble-coordinates');
            const canvas = document.getElementById('coordinates-canvas');
            const ctx = canvas.getContext('2d');
            
            // ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ã‚¯ãƒªã‚¢
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            sprite.style.left = '200px';
            sprite.style.top = '60px';
            bubble.style.display = 'none';
            status.textContent = 'åº§æ¨™ã‚’ä½¿ã£ã¦å››è§’å½¢ã‚’æãã¾ã™ï¼';
        }
        
        function playTriangleAnimation() {
            const sprite = document.getElementById('sprite-triangle');
            const status = document.getElementById('triangle-status');
            const bubble = document.getElementById('speech-bubble-triangle');
            const canvas = document.getElementById('triangle-canvas');
            const ctx = canvas.getContext('2d');
            
            // ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ã‚¯ãƒªã‚¢ï¼ˆå…¨éƒ¨æ¶ˆã™ãƒ–ãƒ­ãƒƒã‚¯ã®åŠ¹æœï¼‰
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = '#4CAF50';
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            
            let step = 0;
            const positions = [
                {x: 200, y: 20, text: 'å…¨éƒ¨æ¶ˆã™â†’ãƒšãƒ³ã‚’ç½®ãâ†’ä¸Šã®é ‚ç‚¹(0,100)ã¸ç§»å‹•'},
                {x: 120, y: 100, text: 'å·¦ä¸‹(-80,-50)ã¸ç§»å‹•'},
                {x: 280, y: 100, text: 'å³ä¸‹(80,-50)ã¸ç§»å‹•'},
                {x: 200, y: 20, text: 'ä¸Šã®é ‚ç‚¹ã«æˆ»ã£ã¦ä¸‰è§’å½¢å®Œæˆï¼'}
            ];
            
            function executeStep() {
                if (step < positions.length) {
                    status.textContent = positions[step].text;
                    
                    // ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’ç§»å‹•
                    sprite.style.left = positions[step].x + 'px';
                    sprite.style.top = positions[step].y + 'px';
                    
                    // ç·šã‚’æç”»ï¼ˆãƒšãƒ³ã‚’ç½®ããƒ–ãƒ­ãƒƒã‚¯ã®åŠ¹æœï¼‰
                    if (step > 0) {
                        const prevPos = positions[step - 1];
                        const currentPos = positions[step];
                        
                        ctx.beginPath();
                        ctx.moveTo(prevPos.x + 12, prevPos.y + 12);
                        ctx.lineTo(currentPos.x + 12, currentPos.y + 12);
                        ctx.stroke();
                    }
                    
                    if (step === positions.length - 1) {
                        setTimeout(() => {
                            bubble.textContent = 'ä¸‰è§’å½¢å®Œæˆï¼ãƒšãƒ³ã§ç·šãŒæã‘ã¾ã—ãŸï¼';
                            bubble.style.display = 'block';
                            bubble.style.left = (positions[step].x + 30) + 'px';
                            bubble.style.top = (positions[step].y - 30) + 'px';
                        }, 500);
                    }
                    
                    step++;
                    if (step < positions.length) {
                        setTimeout(executeStep, 1500);
                    }
                }
            }
            
            executeStep();
        }
        
        function resetTriangleAnimation() {
            const sprite = document.getElementById('sprite-triangle');
            const status = document.getElementById('triangle-status');
            const bubble = document.getElementById('speech-bubble-triangle');
            const canvas = document.getElementById('triangle-canvas');
            const ctx = canvas.getContext('2d');
            
            // ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ã‚¯ãƒªã‚¢
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            sprite.style.left = '200px';
            sprite.style.top = '60px';
            bubble.style.display = 'none';
            status.textContent = 'ä¸‰è§’å½¢ã®é ‚ç‚¹ã‚’åº§æ¨™ã§æŒ‡å®šã—ã¾ã™';
        }
        
        function playStarAnimation() {
            const sprite = document.getElementById('sprite-star');
            const status = document.getElementById('star-status');
            const bubble = document.getElementById('speech-bubble-star');
            const canvas = document.getElementById('star-canvas');
            const ctx = canvas.getContext('2d');
            
            // ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ã‚¯ãƒªã‚¢ï¼ˆå…¨éƒ¨æ¶ˆã™ãƒ–ãƒ­ãƒƒã‚¯ã®åŠ¹æœï¼‰
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = '#ff6b6b';
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            
            let step = 0;
            const positions = [
                {x: 200, y: 10, text: 'ä¸Šã®é ‚ç‚¹(0,120)ã¸'},
                {x: 270, y: 50, text: 'å³ä¸Š(70,40)ã¸'},
                {x: 245, y: 120, text: 'å³ä¸‹(45,-80)ã¸'},
                {x: 155, y: 120, text: 'å·¦ä¸‹(-45,-80)ã¸'},
                {x: 130, y: 50, text: 'å·¦ä¸Š(-70,40)ã¸'},
                {x: 200, y: 10, text: 'ä¸Šã«æˆ»ã£ã¦äº”è§’å½¢å®Œæˆï¼'}
            ];
            
            function executeStep() {
                if (step < positions.length) {
                    status.textContent = positions[step].text;
                    sprite.style.left = positions[step].x + 'px';
                    sprite.style.top = positions[step].y + 'px';
                    
                    // ç·šã‚’æç”»ï¼ˆãƒšãƒ³ã‚’ç½®ããƒ–ãƒ­ãƒƒã‚¯ã®åŠ¹æœï¼‰
                    if (step > 0) {
                        const prevPos = positions[step - 1];
                        const currentPos = positions[step];
                        
                        ctx.beginPath();
                        ctx.moveTo(prevPos.x + 12, prevPos.y + 12);
                        ctx.lineTo(currentPos.x + 12, currentPos.y + 12);
                        ctx.stroke();
                    }
                    
                    if (step === positions.length - 1) {
                        setTimeout(() => {
                            bubble.textContent = 'äº”è§’å½¢å®Œæˆï¼';
                            bubble.style.display = 'block';
                            bubble.style.left = (positions[step].x + 30) + 'px';
                            bubble.style.top = (positions[step].y - 30) + 'px';
                        }, 500);
                    }
                    
                    step++;
                    if (step < positions.length) {
                        setTimeout(executeStep, 1500);
                    }
                }
            }
            
            executeStep();
        }
        
        function resetStarAnimation() {
            const sprite = document.getElementById('sprite-star');
            const status = document.getElementById('star-status');
            const bubble = document.getElementById('speech-bubble-star');
            const canvas = document.getElementById('star-canvas');
            const ctx = canvas.getContext('2d');
            
            // ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ã‚¯ãƒªã‚¢
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            sprite.style.left = '200px';
            sprite.style.top = '60px';
            bubble.style.display = 'none';
            status.textContent = 'äº”è§’å½¢ã®é ‚ç‚¹ã‚’åº§æ¨™ã§ç§»å‹•ã—ã¾ã™';
        }
        
        function showCoordinatesAnswer1() {
            document.getElementById('coordinates-answer1').style.display = 'block';
        }
        
        function showCoordinatesAnswer2() {
            document.getElementById('coordinates-answer2').style.display = 'block';
        }
        
        // Variables section functions
        function showVariablesMenu() {
            hideAllViews();
            document.getElementById('variables-menu').style.display = 'block';
        }
        
        // Health System functions
        function showHealthSystem() {
            hideAllViews();
            document.getElementById('health-system').style.display = 'block';
            currentStep = 1;
            updateHealthStep();
            setTimeout(renderBlocks, 100);
        }
        
        function changeHealthStep(direction) {
            currentStep += direction;
            if (currentStep < 1) currentStep = 1;
            if (currentStep > 4) currentStep = 4;
            updateHealthStep();
            setTimeout(renderBlocks, 100);
        }
        
        function updateHealthStep() {
            // Hide all steps
            document.querySelectorAll('#health-system .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            
            // Show current step
            document.getElementById('health-step' + currentStep).classList.add('step-active');
            
            // Update title and progress
            document.getElementById('health-step-title').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentStep} / 4`;
            document.getElementById('health-progress').style.width = (currentStep / 4 * 100) + '%';
            
            // Update buttons
            document.getElementById('healthPrevBtn').disabled = currentStep === 1;
            document.getElementById('healthNextBtn').disabled = currentStep === 4;
            document.getElementById('healthNextBtn').textContent = currentStep === 4 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        // Score System functions
        function showScoreSystem() {
            hideAllViews();
            document.getElementById('score-system').style.display = 'block';
            currentStep = 1;
            updateScoreStep();
            setTimeout(renderBlocks, 100);
        }
        
        function changeScoreStep(direction) {
            currentStep += direction;
            if (currentStep < 1) currentStep = 1;
            if (currentStep > 3) currentStep = 3;
            updateScoreStep();
            setTimeout(renderBlocks, 100);
        }
        
        function updateScoreStep() {
            // Hide all steps
            document.querySelectorAll('#score-system .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            
            // Show current step
            document.getElementById('score-step' + currentStep).classList.add('step-active');
            
            // Update title and progress
            document.getElementById('score-step-title').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentStep} / 3`;
            document.getElementById('score-progress').style.width = (currentStep / 3 * 100) + '%';
            
            // Update buttons
            document.getElementById('scorePrevBtn').disabled = currentStep === 1;
            document.getElementById('scoreNextBtn').disabled = currentStep === 3;
            document.getElementById('scoreNextBtn').textContent = currentStep === 3 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        // String Variables functions
        function showStringVariables() {
            hideAllViews();
            document.getElementById('string-variables').style.display = 'block';
            currentStep = 1;
            updateStringStep();
            setTimeout(renderBlocks, 100);
        }
        
        function changeStringStep(direction) {
            currentStep += direction;
            if (currentStep < 1) currentStep = 1;
            if (currentStep > 3) currentStep = 3;
            updateStringStep();
            setTimeout(renderBlocks, 100);
        }
        
        function updateStringStep() {
            // Hide all steps
            document.querySelectorAll('#string-variables .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            
            // Show current step
            document.getElementById('string-step' + currentStep).classList.add('step-active');
            
            // Update title and progress
            document.getElementById('string-step-title').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentStep} / 3`;
            document.getElementById('string-progress').style.width = (currentStep / 3 * 100) + '%';
            
            // Update buttons
            document.getElementById('stringPrevBtn').disabled = currentStep === 1;
            document.getElementById('stringNextBtn').disabled = currentStep === 3;
            document.getElementById('stringNextBtn').textContent = currentStep === 3 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        function playHealthAnimation() {
            const status = document.getElementById('health-status');
            const healthDisplay = document.getElementById('health-display');
            let health = 100;
            
            status.textContent = 'ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½“åŠ›ã‚’è¡¨ç¤ºã—ã¾ã™ï¼';
            healthDisplay.textContent = `â¤ï¸ ä½“åŠ›: ${health}`;
            
            setTimeout(() => {
                health = 80;
                status.textContent = 'ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’å—ã‘ã¾ã—ãŸï¼ä½“åŠ›ãŒæ¸›ã‚Šã¾ã™';
                healthDisplay.textContent = `â¤ï¸ ä½“åŠ›: ${health}`;
                healthDisplay.style.color = '#FF6600';
            }, 2000);
            
            setTimeout(() => {
                health = 60;
                status.textContent = 'ã•ã‚‰ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼ä½“åŠ›ãŒã©ã‚“ã©ã‚“æ¸›ã£ã¦ã„ã¾ã™';
                healthDisplay.textContent = `â¤ï¸ ä½“åŠ›: ${health}`;
                healthDisplay.style.color = '#f44336';
            }, 4000);
            
            setTimeout(() => {
                health = 100;
                status.textContent = 'å›å¾©ã‚¢ã‚¤ãƒ†ãƒ ã§ä½“åŠ›ãŒå…¨å›å¾©ã—ã¾ã—ãŸï¼';
                healthDisplay.textContent = `â¤ï¸ ä½“åŠ›: ${health}`;
                healthDisplay.style.color = '#4CAF50';
            }, 6000);
        }
        
        function resetHealthAnimation() {
            const status = document.getElementById('health-status');
            const healthDisplay = document.getElementById('health-display');
            
            status.textContent = 'ä½“åŠ›ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³';
            healthDisplay.textContent = 'â¤ï¸ ä½“åŠ›: 100';
            healthDisplay.style.color = '#4CAF50';
        }
        
        function playScoreAnimation() {
            const status = document.getElementById('score-status');
            const scoreDisplay = document.getElementById('score-display');
            let score = 0;
            
            status.textContent = 'ã‚²ãƒ¼ãƒ ã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—ã—ã¾ã™ï¼';
            scoreDisplay.textContent = `ğŸ† ã‚¹ã‚³ã‚¢: ${score}`;
            
            setTimeout(() => {
                score += 10;
                status.textContent = 'ã‚¢ã‚¤ãƒ†ãƒ ã‚’1å€‹å–ã‚Šã¾ã—ãŸï¼ +10ç‚¹';
                scoreDisplay.textContent = `ğŸ† ã‚¹ã‚³ã‚¢: ${score}`;
            }, 2000);
            
            setTimeout(() => {
                score += 10;
                status.textContent = 'ã‚¢ã‚¤ãƒ†ãƒ ã‚’2å€‹ç›®ï¼ +10ç‚¹';
                scoreDisplay.textContent = `ğŸ† ã‚¹ã‚³ã‚¢: ${score}`;
            }, 4000);
            
            setTimeout(() => {
                score += 50;
                status.textContent = 'ãƒœãƒ¼ãƒŠã‚¹ã‚¢ã‚¤ãƒ†ãƒ ï¼ +50ç‚¹';
                scoreDisplay.textContent = `ğŸ† ã‚¹ã‚³ã‚¢: ${score}`;
                scoreDisplay.style.color = '#FF6600';
            }, 6000);
            
            setTimeout(() => {
                status.textContent = `æœ€çµ‚ã‚¹ã‚³ã‚¢: ${score}ç‚¹ï¼ã‚ˆãã§ãã¾ã—ãŸï¼`;
                scoreDisplay.style.color = '#7C3F9E';
            }, 8000);
        }
        
        function resetScoreAnimation() {
            const status = document.getElementById('score-status');
            const scoreDisplay = document.getElementById('score-display');
            
            status.textContent = 'ã‚¹ã‚³ã‚¢è¨ˆç®—ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³';
            scoreDisplay.textContent = 'ğŸ† ã‚¹ã‚³ã‚¢: 0';
            scoreDisplay.style.color = '#2c3e50';
        }
        
        function playNameAnimation() {
            const status = document.getElementById('name-status');
            const nameDisplay = document.getElementById('name-display');
            const messages = [
                { name: '', message: 'åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„' },
                { name: 'ãŸã‚ã†', message: 'ã“ã‚“ã«ã¡ã¯ã€ãŸã‚ã†ã•ã‚“ï¼' },
                { name: 'ã¯ãªã“', message: 'ã¯ãªã“ã•ã‚“ã€å…ƒæ°—ã§ã™ã‹ï¼Ÿ' },
                { name: 'ã¿ã‚‰ã„', message: 'ã¿ã‚‰ã„ã•ã‚“ã€ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼' }
            ];
            
            let step = 0;
            function nextStep() {
                if (step < messages.length) {
                    status.textContent = messages[step].message;
                    nameDisplay.textContent = `ğŸ‘¤ åå‰: ${messages[step].name}`;
                    step++;
                    if (step < messages.length) {
                        setTimeout(nextStep, 2500);
                    }
                }
            }
            
            nextStep();
        }
        
        function resetNameAnimation() {
            const status = document.getElementById('name-status');
            const nameDisplay = document.getElementById('name-display');
            
            status.textContent = 'æ–‡å­—åˆ—å¤‰æ•°ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³';
            nameDisplay.textContent = 'ğŸ‘¤ åå‰: ';
        }
        
        function showHealthAnswer1() {
            document.getElementById('health-answer1').style.display = 'block';
        }
        
        function showScoreAnswer1() {
            document.getElementById('score-answer1').style.display = 'block';
        }
        
        function showStringAnswer1() {
            document.getElementById('string-answer1').style.display = 'block';
        }
        
        // Conditional branching functions
        function showConditionalMenu() {
            hideAllViews();
            document.getElementById('conditional-menu').style.display = 'block';
        }
        
        // If-Then section functions
        function showIfThen() {
            hideAllViews();
            document.getElementById('if-then-section').style.display = 'block';
            currentIfStep = 1;
            updateIfStep();
            setTimeout(renderBlocks, 100);
        }
        
        function changeIfStep(direction) {
            currentIfStep += direction;
            if (currentIfStep < 1) currentIfStep = 1;
            if (currentIfStep > 4) currentIfStep = 4;
            updateIfStep();
            setTimeout(renderBlocks, 100);
        }
        
        function updateIfStep() {
            // Hide all steps
            document.querySelectorAll('#if-then-section .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            
            // Show current step
            document.getElementById('if-step' + currentIfStep).classList.add('step-active');
            
            // Update title and progress
            document.getElementById('if-step-title').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentIfStep} / 4`;
            document.getElementById('if-progress').style.width = (currentIfStep / 4 * 100) + '%';
            
            // Update buttons
            document.getElementById('ifPrevBtn').disabled = currentIfStep === 1;
            document.getElementById('ifNextBtn').disabled = currentIfStep === 4;
            document.getElementById('ifNextBtn').textContent = currentIfStep === 4 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        // If-Else section functions
        function showIfElse() {
            hideAllViews();
            document.getElementById('if-else-section').style.display = 'block';
            currentIfElseStep = 1;
            updateIfElseStep();
            setTimeout(renderBlocks, 100);
        }
        
        function changeIfElseStep(direction) {
            currentIfElseStep += direction;
            if (currentIfElseStep < 1) currentIfElseStep = 1;
            if (currentIfElseStep > 4) currentIfElseStep = 4;
            updateIfElseStep();
            setTimeout(renderBlocks, 100);
        }
        
        function updateIfElseStep() {
            // Hide all steps
            document.querySelectorAll('#if-else-section .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            
            // Show current step
            document.getElementById('ifelse-step' + currentIfElseStep).classList.add('step-active');
            
            // Update title and progress
            document.getElementById('ifelse-step-title').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentIfElseStep} / 4`;
            document.getElementById('ifelse-progress').style.width = (currentIfElseStep / 4 * 100) + '%';
            
            // Update buttons
            document.getElementById('ifElsePrevBtn').disabled = currentIfElseStep === 1;
            document.getElementById('ifElseNextBtn').disabled = currentIfElseStep === 4;
            document.getElementById('ifElseNextBtn').textContent = currentIfElseStep === 4 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        // Animation functions for conditional demonstrations
        function playIfAnimation() {
            const display = document.getElementById('if-display');
            const status = document.getElementById('if-status');
            const number = Math.floor(Math.random() * 10) + 1; // 1-10ã®ä¹±æ•°
            
            status.textContent = 'æ¡ä»¶åˆ†å²ã®ãƒ‡ãƒ¢ã‚’é–‹å§‹ã—ã¾ã™...';
            
            setTimeout(() => {
                display.textContent = `ğŸ² æ•°å­—: ${number}`;
                status.textContent = `å¤‰æ•°ã€Œæ•°ã€ã«${number}ãŒå…¥ã‚Šã¾ã—ãŸ`;
            }, 1000);
            
            setTimeout(() => {
                if (number > 5) {
                    status.textContent = `${number} > 5 ãªã®ã§ã€Œã™ã”ã„ï¼ã€ã¨è¨€ã„ã¾ã™`;
                } else {
                    status.textContent = `${number} â‰¤ 5 ãªã®ã§ä½•ã‚‚ã—ã¾ã›ã‚“`;
                }
            }, 3000);
            
            setTimeout(() => {
                status.textContent = 'æ¡ä»¶åˆ†å²ã®ãƒ‡ãƒ¢å®Œäº†ï¼';
            }, 5000);
        }
        
        function resetIfAnimation() {
            const display = document.getElementById('if-display');
            const status = document.getElementById('if-status');
            
            display.textContent = 'ğŸ² æ•°å­—: ?';
            status.textContent = 'æ¡ä»¶åˆ†å²ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³';
        }
        
        function playIfElseAnimation() {
            const display = document.getElementById('ifelse-display');
            const status = document.getElementById('ifelse-status');
            const number = Math.floor(Math.random() * 10) + 1; // 1-10ã®ä¹±æ•°
            
            status.textContent = 'if-elseåˆ†å²ã®ãƒ‡ãƒ¢ã‚’é–‹å§‹ã—ã¾ã™...';
            
            setTimeout(() => {
                display.textContent = `ğŸ² æ•°å­—: ${number}`;
                status.textContent = `å¤‰æ•°ã€Œæ•°ã€ã«${number}ãŒå…¥ã‚Šã¾ã—ãŸ`;
            }, 1000);
            
            setTimeout(() => {
                if (number > 5) {
                    status.textContent = `${number} > 5 ãªã®ã§ã€Œå¤§ãã„ã§ã™ã­ï¼ã€ã¨è¨€ã„ã¾ã™`;
                } else {
                    status.textContent = `${number} â‰¤ 5 ãªã®ã§ã€Œå°ã•ã„ã§ã™ã­ï¼ã€ã¨è¨€ã„ã¾ã™`;
                }
            }, 3000);
            
            setTimeout(() => {
                status.textContent = 'if-elseåˆ†å²ã®ãƒ‡ãƒ¢å®Œäº†ï¼';
            }, 5000);
        }
        
        function resetIfElseAnimation() {
            const display = document.getElementById('ifelse-display');
            const status = document.getElementById('ifelse-status');
            
            display.textContent = 'ğŸ² æ•°å­—: ?';
            status.textContent = 'if-elseåˆ†å²ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³';
        }
        
        // Utility function to hide all views
        function hideAllViews() {
            console.log('=== hideAllViews called - V2.0 ===');
            // Hide all main sections - only hide elements that actually exist
            const elements = [
                'home-view',
                'variables-menu', 
                'health-system',
                'score-system',
                'string-variables',
                'conditional-menu',
                'if-then-section',
                'if-else-section',
                'loop',
                // Clone sections
                'clones-menu',
                'basic-clone-section',
                'clone-movement-section',
                'clone-deletion-section',
                'clone-applications-section',
                // New sections
                'sounds-menu',
                'messages-menu',
                'backgrounds-menu',
                'lists-menu',
                'pen-menu'
            ];
            
            elements.forEach(id => {
                try {
                    const element = document.getElementById(id);
                    if (element) {
                        element.style.display = 'none';
                    }
                } catch (error) {
                    console.error('Error hiding element:', id, error);
                }
            });
            console.log('=== hideAllViews completed - V2.0 ===');
        }
        
        // Clone functionality functions
        function showClonesMenu() {
            console.log('showClonesMenu called');
            hideAllViews();
            console.log('All views hidden');
            const clonesMenu = document.getElementById('clones-menu');
            if (clonesMenu) {
                clonesMenu.style.display = 'block';
                console.log('clones-menu display set to block');
            } else {
                console.error('clones-menu element not found');
            }
        }
        
        function showBasicClone() {
            console.log('showBasicClone called');
            hideAllViews();
            const basicCloneSection = document.getElementById('basic-clone-section');
            if (basicCloneSection) {
                basicCloneSection.style.display = 'block';
                console.log('basic-clone-section display set to block');
            } else {
                console.error('basic-clone-section element not found');
            }
            currentCloneBasicStep = 1;
            updateCloneBasicStep();
        }
        
        function showCloneMovement() {
            hideAllViews();
            document.getElementById('clone-movement-section').style.display = 'block';
            currentCloneMovementStep = 1;
            updateCloneMovementStep();
            setTimeout(renderBlocks, 100);
        }
        
        function showCloneDeletion() {
            hideAllViews();
            document.getElementById('clone-deletion-section').style.display = 'block';
            currentCloneDeletionStep = 1;
            updateCloneDeletionStep();
            setTimeout(renderBlocks, 100);
        }
        
        function showCloneApplications() {
            hideAllViews();
            document.getElementById('clone-applications-section').style.display = 'block';
            currentCloneApplicationsStep = 1;
            updateCloneApplicationsStep();
            setTimeout(renderBlocks, 100);
        }
        
        // Basic clone section navigation
        let currentCloneBasicStep = 1;
        
        function changeCloneBasicStep(direction) {
            currentCloneBasicStep += direction;
            if (currentCloneBasicStep < 1) currentCloneBasicStep = 1;
            if (currentCloneBasicStep > 4) currentCloneBasicStep = 4;
            updateCloneBasicStep();
            setTimeout(renderBlocks, 100);
        }
        
        function updateCloneBasicStep() {
            // Hide all steps
            document.querySelectorAll('#basic-clone-section .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            
            // Show current step
            document.getElementById('clone-basic-step' + currentCloneBasicStep).classList.add('step-active');
            
            // Update title and progress
            document.getElementById('clone-basic-step-title').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentCloneBasicStep} / 4`;
            document.getElementById('clone-basic-progress').style.width = (currentCloneBasicStep / 4 * 100) + '%';
            
            // Update buttons
            document.getElementById('cloneBasicPrevBtn').disabled = currentCloneBasicStep === 1;
            document.getElementById('cloneBasicNextBtn').disabled = currentCloneBasicStep === 4;
            document.getElementById('cloneBasicNextBtn').textContent = currentCloneBasicStep === 4 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        // Clone movement section navigation
        let currentCloneMovementStep = 1;
        
        function changeCloneMovementStep(direction) {
            currentCloneMovementStep += direction;
            if (currentCloneMovementStep < 1) currentCloneMovementStep = 1;
            if (currentCloneMovementStep > 4) currentCloneMovementStep = 4;
            updateCloneMovementStep();
            setTimeout(renderBlocks, 100);
        }
        
        function updateCloneMovementStep() {
            // Hide all steps
            document.querySelectorAll('#clone-movement-section .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            
            // Show current step
            document.getElementById('clone-movement-step' + currentCloneMovementStep).classList.add('step-active');
            
            // Update title and progress
            document.getElementById('clone-movement-step-title').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentCloneMovementStep} / 4`;
            document.getElementById('clone-movement-progress').style.width = (currentCloneMovementStep / 4 * 100) + '%';
            
            // Update buttons
            document.getElementById('cloneMovementPrevBtn').disabled = currentCloneMovementStep === 1;
            document.getElementById('cloneMovementNextBtn').disabled = currentCloneMovementStep === 4;
            document.getElementById('cloneMovementNextBtn').textContent = currentCloneMovementStep === 4 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        // Clone animation functions - å®‰å…¨ç‰ˆ
        let basicAnimationInProgress = false;

        function startBasicCloneAnimation() {
            if (basicAnimationInProgress) return;
            
            console.log('startBasicCloneAnimation called');
            basicAnimationInProgress = true;
            
            const sprite = document.getElementById('sprite-clone-basic');
            const bubble = document.getElementById('speech-bubble-clone-basic');
            const status = document.getElementById('clone-basic-status');
            const stage = sprite ? sprite.parentNode : null;
            
            console.log('Elements check:', {sprite, bubble, status, stage});
            
            if (!sprite || !bubble || !status || !stage) {
                console.error('Required elements not found for basic clone animation');
                status && (status.textContent = 'ã‚¨ãƒ©ãƒ¼: è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                basicAnimationInProgress = false;
                return;
            }

            resetBasicCloneAnimation();
            status.textContent = 'ğŸ§¬ ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆé–‹å§‹...';
            
            // å³åº§ã«ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œæˆï¼ˆsetTimeoutã‚’ä½¿ã‚ãªã„ï¼‰
            try {
                for (let i = 1; i <= 3; i++) {
                    console.log(`ã‚¯ãƒ­ãƒ¼ãƒ³${i}ä½œæˆä¸­`);
                    
                    const clone = sprite.cloneNode(true);
                    if (!clone) {
                        throw new Error(`Failed to create clone ${i}`);
                    }
                    
                    clone.id = `basic-clone-${i}`;
                    clone.style.left = (50 + i * 80) + 'px';
                    clone.style.top = (50 + i * 20) + 'px';
                    clone.style.background = `hsl(${i * 60}, 70%, 60%)`;
                    clone.style.display = 'flex';
                    clone.style.position = 'absolute';
                    
                    console.log(`ä½œæˆã—ãŸã‚¯ãƒ­ãƒ¼ãƒ³:`, clone);
                    console.log(`è¦ªè¦ç´ :`, sprite.parentNode);
                    
                    sprite.parentNode.appendChild(clone);
                    
                    // ã‚¯ãƒ­ãƒ¼ãƒ³ãŒå®Ÿéš›ã«è¿½åŠ ã•ã‚ŒãŸã‹ç¢ºèª
                    const addedClone = document.getElementById(`basic-clone-${i}`);
                    console.log(`è¿½åŠ ã•ã‚ŒãŸã‚¯ãƒ­ãƒ¼ãƒ³ç¢ºèª:`, addedClone);
                    console.log(`ã‚¯ãƒ­ãƒ¼ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«:`, addedClone ? addedClone.style.cssText : 'not found');
                    
                    // å…¨ã‚¯ãƒ­ãƒ¼ãƒ³ã®æ•°ã‚’ç¢ºèª
                    const allClones = document.querySelectorAll('[id^="basic-clone-"]');
                    console.log(`ç¾åœ¨ã®ã‚¯ãƒ­ãƒ¼ãƒ³ç·æ•°:`, allClones.length);
                }
                
                status.textContent = `ğŸ‰ 3å€‹ã®ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œæˆã•ã‚Œã¾ã—ãŸï¼`;
                
            } catch (error) {
                console.error(`Error creating clones:`, error);
                console.error('Error stack:', error.stack);
                status.textContent = `âŒ ã‚¨ãƒ©ãƒ¼: ã‚¯ãƒ­ãƒ¼ãƒ³ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ - ${error.message}`;
                basicAnimationInProgress = false;
                return;
            }
            
            setTimeout(() => {
                status.textContent = 'âœ… 3å€‹ã®ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œæˆå®Œäº†ï¼ãã‚Œãã‚ŒãŒç‹¬ç«‹ã—ã¦å­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚';
                console.log('åŸºæœ¬ã‚¯ãƒ­ãƒ¼ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†');
                basicAnimationInProgress = false;
            }, 4000);
        }


        // å¤ã„é–¢æ•°åã¨ã®äº’æ›æ€§ã‚’ä¿ã¤
        function playBasicCloneAnimation() {
            startBasicCloneAnimation();
        }
        
        // è©³ç´°ã‚¯ãƒ­ãƒ¼ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        function playCloneDetailAnimation() {
            console.log('playCloneDetailAnimation called');
            const sprite = document.getElementById('sprite-clone-detail');
            const bubble = document.getElementById('speech-bubble-clone-detail');
            const status = document.getElementById('clone-detail-status');
            
            if (!sprite || !bubble || !status) {
                console.error('Detail animation elements not found');
                return;
            }
            
            resetCloneDetailAnimation();
            
            status.textContent = 'ğŸ“‹ ã‚¹ãƒ†ãƒƒãƒ—1: å…ƒã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆãŒã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹æº–å‚™ã‚’ã—ã¾ã™';
            
            setTimeout(() => {
                bubble.textContent = 'ä»Šã‹ã‚‰ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚Šã¾ã™ï¼';
                bubble.style.display = 'block';
                bubble.style.left = '120px';
                bubble.style.top = '20px';
                status.textContent = 'ğŸ“‹ ã‚¹ãƒ†ãƒƒãƒ—2: ã€Œã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œã‚‹ã€ãƒ–ãƒ­ãƒƒã‚¯ã‚’å®Ÿè¡Œä¸­...';
            }, 1500);
            
            setTimeout(() => {
                bubble.style.display = 'none';
                const clone = sprite.cloneNode(true);
                clone.id = 'detail-clone-1';
                clone.style.left = '200px';
                clone.style.top = '50px';
                clone.style.background = '#4CAF50';
                sprite.parentNode.appendChild(clone);
                
                status.textContent = 'ğŸ“‹ ã‚¹ãƒ†ãƒƒãƒ—3: æ–°ã—ã„ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œæˆã•ã‚Œã¾ã—ãŸï¼';
            }, 3000);
            
            setTimeout(() => {
                bubble.textContent = 'ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚Œã¾ã—ãŸï¼';
                bubble.style.display = 'block';
                bubble.style.left = '270px';
                bubble.style.top = '20px';
                status.textContent = 'ğŸ“‹ ã‚¹ãƒ†ãƒƒãƒ—4: ã‚¯ãƒ­ãƒ¼ãƒ³ãŒã€Œã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚ŒãŸã¨ãã€ã‚’å®Ÿè¡Œä¸­';
            }, 4000);
            
            setTimeout(() => {
                bubble.style.display = 'none';
                status.textContent = 'âœ… ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆå®Œäº†ï¼å…ƒã¨ã‚¯ãƒ­ãƒ¼ãƒ³ãŒç‹¬ç«‹ã—ã¦å­˜åœ¨ã—ã¦ã„ã¾ã™';
            }, 6000);
        }
        
        function resetCloneDetailAnimation() {
            console.log('resetCloneDetailAnimation called');
            const sprite = document.getElementById('sprite-clone-detail');
            const bubble = document.getElementById('speech-bubble-clone-detail');
            const status = document.getElementById('clone-detail-status');
            
            if (sprite && bubble && status) {
                const clones = document.querySelectorAll('[id^="detail-clone-"]');
                clones.forEach(clone => clone.remove());
                
                sprite.style.left = '50px';
                sprite.style.top = '50px';
                sprite.style.background = '#ff6b6b';
                bubble.style.display = 'none';
                status.textContent = 'ã‚¯ãƒ­ãƒ¼ãƒ³ã®è©³ã—ã„å‹•ä½œã‚’è¦‹ã¦ã¿ã‚ˆã†';
            }
        }
        
        // ç·´ç¿’å•é¡Œ1ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        function playClonePractice1Animation() {
            console.log('playClonePractice1Animation called');
            const sprite = document.getElementById('sprite-clone-practice1');
            const bubble = document.getElementById('speech-bubble-clone-practice1');
            const status = document.getElementById('clone-practice1-status');
            
            if (!sprite || !bubble || !status) {
                console.error('Practice1 animation elements not found');
                return;
            }
            
            resetClonePractice1Animation();
            
            status.textContent = 'ğŸŒˆ 5å€‹ã®è‰²é•ã„ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œæˆã—ã¾ã™';
            
            // 5å€‹ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã‚’é †ç•ªã«ä½œæˆ
            for (let i = 1; i <= 5; i++) {
                setTimeout(() => {
                    const clone = sprite.cloneNode(true);
                    clone.id = `practice1-clone-${i}`;
                    clone.style.left = (50 + i * 80) + 'px';
                    clone.style.top = '100px';
                    clone.style.filter = `hue-rotate(${i * 60}deg)`;
                    sprite.parentNode.appendChild(clone);
                    
                    status.textContent = `ğŸ‰ è‰²é•ã„ã‚¯ãƒ­ãƒ¼ãƒ³${i}å€‹ç›®ãŒä½œæˆã•ã‚Œã¾ã—ãŸï¼`;
                    
                    // ã‚¯ãƒ­ãƒ¼ãƒ³ãŒã‚ã„ã•ã¤
                    setTimeout(() => {
                        bubble.textContent = `ç§ã¯è‰²é•ã„ã§ã™ï¼`;
                        bubble.style.display = 'block';
                        bubble.style.left = (120 + i * 80) + 'px';
                        bubble.style.top = '70px';
                        
                        setTimeout(() => {
                            bubble.style.display = 'none';
                        }, 1000);
                    }, 300);
                }, i * 1200);
            }
            
            setTimeout(() => {
                status.textContent = 'âœ… 5å€‹ã®è‰²é•ã„ã‚¯ãƒ­ãƒ¼ãƒ³ãŒå®Œæˆã—ã¾ã—ãŸï¼';
            }, 6500);
        }
        
        function resetClonePractice1Animation() {
            console.log('resetClonePractice1Animation called');
            const sprite = document.getElementById('sprite-clone-practice1');
            const bubble = document.getElementById('speech-bubble-clone-practice1');
            const status = document.getElementById('clone-practice1-status');
            
            if (sprite && bubble && status) {
                const clones = document.querySelectorAll('[id^="practice1-clone-"]');
                clones.forEach(clone => clone.remove());
                
                sprite.style.left = '50px';
                sprite.style.top = '100px';
                sprite.style.filter = 'none';
                bubble.style.display = 'none';
                status.textContent = 'ã‚«ãƒ©ãƒ•ãƒ«ãªã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚Œã¾ã™';
            }
        }
        
        // ç­”ãˆè¡¨ç¤ºé–¢æ•°
        function showClonePractice1Answer() {
            document.getElementById('clone-practice1-answer').style.display = 'block';
        }
        
        function resetBasicCloneAnimation() {
            console.log('resetBasicCloneAnimation called');
            basicAnimationInProgress = false;
            
            const sprite = document.getElementById('sprite-clone-basic');
            const bubble = document.getElementById('speech-bubble-clone-basic');
            const status = document.getElementById('clone-basic-status');
            
            console.log('reset elements:', {sprite, bubble, status});
            
            if (!sprite || !bubble || !status) {
                console.error('Required elements not found for reset basic clone animation');
                return;
            }
            
            try {
                // Remove all existing clones safely
                const clones = document.querySelectorAll('[id^="basic-clone-"]');
                console.log('Removing clones:', clones.length);
                clones.forEach((clone, index) => {
                    try {
                        clone.remove();
                        console.log(`Removed clone ${index + 1}`);
                    } catch (removeError) {
                        console.error(`Error removing clone ${index + 1}:`, removeError);
                    }
                });
                
                // Reset sprite safely
                sprite.style.left = '50px';
                sprite.style.top = '50px';
                sprite.style.background = '#ff6b6b';
                sprite.style.transform = 'scale(1)';
                sprite.style.filter = 'none';
                
                // Reset bubble
                bubble.style.display = 'none';
                
                // Reset status
                status.textContent = 'ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚Œã‚‹æ§˜å­ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼';
                
                console.log('Basic clone animation reset completed');
                
            } catch (error) {
                console.error('Reset error:', error);
                status.textContent = 'ãƒªã‚»ãƒƒãƒˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ';
            }
        }
        
        function playCloneMovementAnimation() {
            console.log('playCloneMovementAnimation called');
            const sprite = document.getElementById('sprite-clone-movement');
            const status = document.getElementById('clone-movement-status');
            
            console.log('sprite:', sprite);
            console.log('status:', status);
            
            if (!sprite || !status) {
                console.error('Required elements not found for clone movement animation');
                return;
            }
            
            resetCloneMovementAnimation();
            
            status.textContent = 'ğŸƒ å‹•ãã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆé–‹å§‹...';
            
            // Create 3 moving clones
            for (let i = 1; i <= 3; i++) {
                setTimeout(() => {
                    const clone = sprite.cloneNode(true);
                    clone.id = `moving-clone-${i}`;
                    clone.style.left = '100px';
                    clone.style.top = '100px';
                    clone.style.filter = `hue-rotate(${i * 120}deg)`;
                    sprite.parentNode.appendChild(clone);
                    
                    status.textContent = `ğŸ‰ å‹•ãã‚¯ãƒ­ãƒ¼ãƒ³${i}å€‹ç›®ãŒä½œã‚‰ã‚Œã¾ã—ãŸï¼`;
                    
                    // Give each clone a different direction
                    const directions = [45, 135, 225];
                    const direction = directions[i - 1];
                    
                    // Animate the clone movement
                    animateClone(clone, direction, i);
                    
                }, i * 800);
            }
            
            setTimeout(() => {
                status.textContent = 'âœ… 3å€‹ã®ã‚¯ãƒ­ãƒ¼ãƒ³ãŒãã‚Œãã‚Œé•ã†æ–¹å‘ã«å‹•ã„ã¦ã„ã¾ã™ï¼';
            }, 3000);
        }
        
        function animateClone(clone, direction, id) {
            const radians = (direction * Math.PI) / 180;
            const speed = 2;
            let x = parseInt(clone.style.left);
            let y = parseInt(clone.style.top);
            
            function moveClone() {
                if (!document.getElementById(`moving-clone-${id}`)) return;
                
                x += Math.cos(radians) * speed;
                y += Math.sin(radians) * speed;
                
                // Bounce off edges
                if (x <= 0 || x >= 300) {
                    x = Math.max(0, Math.min(300, x));
                }
                if (y <= 0 || y >= 200) {
                    y = Math.max(0, Math.min(200, y));
                }
                
                clone.style.left = x + 'px';
                clone.style.top = y + 'px';
                
                setTimeout(moveClone, 50);
            }
            
            moveClone();
        }
        
        function resetCloneMovementAnimation() {
            const sprite = document.getElementById('sprite-clone-movement');
            const status = document.getElementById('clone-movement-status');
            
            // Remove all existing moving clones
            const clones = document.querySelectorAll('[id^="moving-clone-"]');
            clones.forEach(clone => clone.remove());
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.filter = 'none';
            status.textContent = 'ã‚¯ãƒ­ãƒ¼ãƒ³ãŒå‹•ãæ§˜å­ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼';
        }
        
        function playCloneStarsAnimation() {
            console.log('playCloneStarsAnimation called');
            const sprite = document.getElementById('sprite-clone-stars');
            const status = document.getElementById('clone-stars-status');
            
            console.log('sprite:', sprite);
            console.log('status:', status);
            
            if (!sprite || !status) {
                console.error('Required elements not found for clone stars animation');
                return;
            }
            
            resetCloneStarsAnimation();
            
            status.textContent = 'â­ ã‚­ãƒ©ã‚­ãƒ©æ˜Ÿã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆä¸­...';
            
            // Create 5 twinkling star clones
            for (let i = 1; i <= 5; i++) {
                setTimeout(() => {
                    const clone = sprite.cloneNode(true);
                    clone.id = `star-clone-${i}`;
                    clone.style.left = Math.random() * 250 + 'px';
                    clone.style.top = Math.random() * 150 + 'px';
                    clone.style.filter = `hue-rotate(${Math.random() * 360}deg)`;
                    sprite.parentNode.appendChild(clone);
                    
                    // Animate twinkling
                    animateStarTwinkle(clone, i);
                    
                }, i * 300);
            }
            
            setTimeout(() => {
                status.textContent = 'âœ¨ æ˜ŸãŒã‚­ãƒ©ã‚­ãƒ©ã¨è¼ã„ã¦ã„ã¾ã™ï¼';
            }, 2000);
        }
        
        function animateStarTwinkle(star, id) {
            let growing = true;
            let scale = 1;
            
            function twinkle() {
                if (!document.getElementById(`star-clone-${id}`)) return;
                
                if (growing) {
                    scale += 0.05;
                    if (scale >= 1.5) growing = false;
                } else {
                    scale -= 0.05;
                    if (scale <= 0.5) growing = true;
                }
                
                star.style.transform = `scale(${scale})`;
                setTimeout(twinkle, 100);
            }
            
            twinkle();
        }
        
        function resetCloneStarsAnimation() {
            const sprite = document.getElementById('sprite-clone-stars');
            const status = document.getElementById('clone-stars-status');
            
            // Remove all existing star clones
            const clones = document.querySelectorAll('[id^="star-clone-"]');
            clones.forEach(clone => clone.remove());
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.filter = 'none';
            sprite.style.transform = 'scale(1)';
            status.textContent = 'æ˜ŸãŒã‚­ãƒ©ã‚­ãƒ©ã¨è¼ãã¾ã™';
        }
        
        function playCloneFormationAnimation() {
            console.log('playCloneFormationAnimation called');
            const sprite = document.getElementById('sprite-clone-formation');
            const status = document.getElementById('clone-formation-status');
            
            console.log('sprite:', sprite);
            console.log('status:', status);
            
            if (!sprite || !status) {
                console.error('Required elements not found for clone formation animation');
                return;
            }
            
            resetCloneFormationAnimation();
            
            status.textContent = 'ğŸŒ€ ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç§»å‹•é–‹å§‹...';
            
            // Create 5 clones in formation
            for (let i = 1; i <= 5; i++) {
                setTimeout(() => {
                    const clone = sprite.cloneNode(true);
                    clone.id = `formation-clone-${i}`;
                    
                    const angle = (i - 1) * 72; // 360/5 = 72 degrees apart
                    const radius = 80;
                    const centerX = 150;
                    const centerY = 100;
                    
                    const x = centerX + Math.cos(angle * Math.PI / 180) * radius;
                    const y = centerY + Math.sin(angle * Math.PI / 180) * radius;
                    
                    clone.style.left = x + 'px';
                    clone.style.top = y + 'px';
                    clone.style.filter = `hue-rotate(${i * 72}deg)`;
                    sprite.parentNode.appendChild(clone);
                    
                    // Start rotation animation
                    animateFormationRotation(clone, angle, i);
                    
                }, i * 200);
            }
            
            setTimeout(() => {
                status.textContent = 'ğŸ‰ 5ã¤ã®ã‚¯ãƒ­ãƒ¼ãƒ³ãŒå††å½¢ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§å›è»¢ã—ã¦ã„ã¾ã™ï¼';
            }, 1500);
        }
        
        function animateFormationRotation(clone, startAngle, id) {
            let currentAngle = startAngle;
            const radius = 80;
            const centerX = 150;
            const centerY = 100;
            
            function rotate() {
                if (!document.getElementById(`formation-clone-${id}`)) return;
                
                currentAngle += 2; // Rotate 2 degrees per frame
                
                const x = centerX + Math.cos(currentAngle * Math.PI / 180) * radius;
                const y = centerY + Math.sin(currentAngle * Math.PI / 180) * radius;
                
                clone.style.left = x + 'px';
                clone.style.top = y + 'px';
                
                setTimeout(rotate, 50);
            }
            
            rotate();
        }
        
        function resetCloneFormationAnimation() {
            const sprite = document.getElementById('sprite-clone-formation');
            const status = document.getElementById('clone-formation-status');
            
            // Remove all existing formation clones
            const clones = document.querySelectorAll('[id^="formation-clone-"]');
            clones.forEach(clone => clone.remove());
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.filter = 'none';
            status.textContent = 'ã¿ã‚“ãªã§ä¸€ç·’ã«å›è»¢ã—ã¾ã™';
        }
        
        // Answer display functions
        function showCloneMovementAnswer1() {
            document.getElementById('clone-movement-answer1').style.display = 'block';
            document.getElementById('cloneMovementAnswerBtn1').disabled = true;
            document.getElementById('cloneMovementAnswerBtn1').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        function showCloneMovementAnswer2() {
            document.getElementById('clone-movement-answer2').style.display = 'block';
            document.getElementById('cloneMovementAnswerBtn2').disabled = true;
            document.getElementById('cloneMovementAnswerBtn2').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        // Clone deletion section navigation
        let currentCloneDeletionStep = 1;
        
        function changeCloneDeletionStep(direction) {
            currentCloneDeletionStep += direction;
            if (currentCloneDeletionStep < 1) currentCloneDeletionStep = 1;
            if (currentCloneDeletionStep > 4) currentCloneDeletionStep = 4;
            updateCloneDeletionStep();
            setTimeout(renderBlocks, 100);
        }
        
        function updateCloneDeletionStep() {
            // Hide all steps
            document.querySelectorAll('#clone-deletion-section .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            
            // Show current step
            document.getElementById('clone-deletion-step' + currentCloneDeletionStep).classList.add('step-active');
            
            // Update title and progress
            document.getElementById('clone-deletion-step-title').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentCloneDeletionStep} / 4`;
            document.getElementById('clone-deletion-progress').style.width = (currentCloneDeletionStep / 4 * 100) + '%';
            
            // Update buttons
            document.getElementById('cloneDeletionPrevBtn').disabled = currentCloneDeletionStep === 1;
            document.getElementById('cloneDeletionNextBtn').disabled = currentCloneDeletionStep === 4;
            document.getElementById('cloneDeletionNextBtn').textContent = currentCloneDeletionStep === 4 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        // Clone deletion animations
        function playCloneDeletionAnimation() {
            console.log('playCloneDeletionAnimation called');
            const sprite = document.getElementById('sprite-clone-deletion');
            const status = document.getElementById('clone-deletion-status');
            
            console.log('sprite:', sprite);
            console.log('status:', status);
            
            if (!sprite || !status) {
                console.error('Required elements not found for clone deletion animation');
                return;
            }
            
            resetCloneDeletionAnimation();
            
            status.textContent = 'ğŸ—‘ï¸ ã‚¯ãƒ­ãƒ¼ãƒ³å‰Šé™¤ãƒ‡ãƒ¢é–‹å§‹...';
            
            // Create 5 clones that will be deleted
            for (let i = 1; i <= 5; i++) {
                setTimeout(() => {
                    const clone = sprite.cloneNode(true);
                    clone.id = `deletion-clone-${i}`;
                    clone.style.left = (50 + i * 60) + 'px';
                    clone.style.top = (50 + (i % 2) * 40) + 'px';
                    clone.style.filter = `hue-rotate(${i * 72}deg)`;
                    sprite.parentNode.appendChild(clone);
                    
                    status.textContent = `ğŸ‰ ã‚¯ãƒ­ãƒ¼ãƒ³${i}å€‹ç›®ãŒä½œã‚‰ã‚Œã¾ã—ãŸ`;
                    
                    // Schedule deletion after 3 seconds
                    setTimeout(() => {
                        if (document.getElementById(`deletion-clone-${i}`)) {
                            status.textContent = `ğŸ—‘ï¸ ã‚¯ãƒ­ãƒ¼ãƒ³${i}ã‚’å‰Šé™¤ä¸­...`;
                            
                            // Fade out effect
                            let opacity = 1;
                            const fadeInterval = setInterval(() => {
                                opacity -= 0.1;
                                clone.style.opacity = opacity;
                                
                                if (opacity <= 0) {
                                    clearInterval(fadeInterval);
                                    clone.remove();
                                    status.textContent = `âœ… ã‚¯ãƒ­ãƒ¼ãƒ³${i}ãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸ`;
                                }
                            }, 100);
                        }
                    }, 3000 + i * 500);
                    
                }, i * 800);
            }
            
            setTimeout(() => {
                status.textContent = 'âœ… ã™ã¹ã¦ã®ã‚¯ãƒ­ãƒ¼ãƒ³ãŒæ™‚é–“åˆ¶é™ã§å‰Šé™¤ã•ã‚Œã¾ã—ãŸï¼';
            }, 8000);
        }
        
        function resetCloneDeletionAnimation() {
            const sprite = document.getElementById('sprite-clone-deletion');
            const status = document.getElementById('clone-deletion-status');
            
            // Remove all existing deletion clones
            const clones = document.querySelectorAll('[id^="deletion-clone-"]');
            clones.forEach(clone => clone.remove());
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.filter = 'none';
            sprite.style.opacity = '1';
            status.textContent = 'ã‚¯ãƒ­ãƒ¼ãƒ³ãŒå‰Šé™¤ã•ã‚Œã‚‹æ§˜å­ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼';
        }
        
        function playCloneTimerAnimation() {
            console.log('playCloneTimerAnimation called');
            const sprite = document.getElementById('sprite-clone-timer');
            const bubble = document.getElementById('speech-bubble-clone-timer');
            const status = document.getElementById('clone-timer-status');
            
            console.log('sprite:', sprite);
            console.log('bubble:', bubble);
            console.log('status:', status);
            
            if (!sprite || !bubble || !status) {
                console.error('Required elements not found for clone timer animation');
                return;
            }
            
            resetCloneTimerAnimation();
            
            status.textContent = 'â° æ™‚é–“åˆ¶é™ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆä¸­...';
            
            // Create 3 timer clones
            for (let i = 1; i <= 3; i++) {
                setTimeout(() => {
                    const clone = sprite.cloneNode(true);
                    clone.id = `timer-clone-${i}`;
                    clone.style.left = (80 + i * 100) + 'px';
                    clone.style.top = (60 + i * 20) + 'px';
                    clone.style.filter = `hue-rotate(${i * 120}deg)`;
                    sprite.parentNode.appendChild(clone);
                    
                    status.textContent = `ğŸš€ æ™‚é–“åˆ¶é™ã‚¯ãƒ­ãƒ¼ãƒ³${i}ãŒä½œã‚‰ã‚Œã¾ã—ãŸ`;
                    
                    // Start countdown and deletion
                    setTimeout(() => {
                        animateCloneTimer(clone, i);
                    }, 1000);
                    
                }, i * 1000);
            }
        }
        
        function animateCloneTimer(clone, id) {
            const bubble = document.getElementById('speech-bubble-clone-timer');
            const status = document.getElementById('clone-timer-status');
            
            let timeLeft = 5;
            
            const countdown = setInterval(() => {
                if (!document.getElementById(`timer-clone-${id}`)) {
                    clearInterval(countdown);
                    return;
                }
                
                status.textContent = `â° ã‚¯ãƒ­ãƒ¼ãƒ³${id}: ã‚ã¨${timeLeft}ç§’ã§å‰Šé™¤`;
                
                // Gradually fade the clone
                const opacity = timeLeft / 5;
                clone.style.opacity = opacity;
                
                timeLeft--;
                
                if (timeLeft < 0) {
                    clearInterval(countdown);
                    
                    // Show goodbye message
                    bubble.textContent = 'ã•ã‚ˆã†ãªã‚‰ï¼';
                    bubble.style.display = 'block';
                    bubble.style.left = clone.style.left;
                    bubble.style.top = (parseInt(clone.style.top) - 30) + 'px';
                    
                    setTimeout(() => {
                        clone.style.opacity = '0';
                        bubble.style.display = 'none';
                        
                        setTimeout(() => {
                            clone.remove();
                            status.textContent = `âœ… ã‚¯ãƒ­ãƒ¼ãƒ³${id}ãŒæ™‚é–“åˆ¶é™ã§å‰Šé™¤ã•ã‚Œã¾ã—ãŸ`;
                        }, 500);
                    }, 1000);
                }
            }, 1000);
        }
        
        function resetCloneTimerAnimation() {
            const sprite = document.getElementById('sprite-clone-timer');
            const bubble = document.getElementById('speech-bubble-clone-timer');
            const status = document.getElementById('clone-timer-status');
            
            // Remove all existing timer clones
            const clones = document.querySelectorAll('[id^="timer-clone-"]');
            clones.forEach(clone => clone.remove());
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.filter = 'none';
            sprite.style.opacity = '1';
            bubble.style.display = 'none';
            status.textContent = 'æ™‚é–“ãŒçµŒã¤ã¨ã‚¯ãƒ­ãƒ¼ãƒ³ãŒæ¶ˆãˆã¾ã™';
        }
        
        function playCloneClickAnimation() {
            console.log('playCloneClickAnimation called');
            const sprite = document.getElementById('sprite-clone-click');
            const bubble = document.getElementById('speech-bubble-clone-click');
            const status = document.getElementById('clone-click-status');
            
            console.log('sprite:', sprite);
            console.log('bubble:', bubble);
            console.log('status:', status);
            
            if (!sprite || !bubble || !status) {
                console.error('Required elements not found for clone click animation');
                return;
            }
            
            resetCloneClickAnimation();
            
            status.textContent = 'ğŸ¯ ã‚¯ãƒªãƒƒã‚¯å‰Šé™¤ã‚²ãƒ¼ãƒ é–‹å§‹ï¼';
            
            // Create 5 clickable target clones
            for (let i = 1; i <= 5; i++) {
                setTimeout(() => {
                    const clone = sprite.cloneNode(true);
                    clone.id = `click-clone-${i}`;
                    clone.style.left = (Math.random() * 200 + 50) + 'px';
                    clone.style.top = (Math.random() * 100 + 50) + 'px';
                    clone.style.filter = `hue-rotate(${i * 72}deg)`;
                    clone.style.cursor = 'pointer';
                    sprite.parentNode.appendChild(clone);
                    
                    // Add click event to delete clone
                    clone.addEventListener('click', function() {
                        bubble.textContent = 'ãƒ’ãƒƒãƒˆï¼';
                        bubble.style.display = 'block';
                        bubble.style.left = clone.style.left;
                        bubble.style.top = (parseInt(clone.style.top) - 30) + 'px';
                        
                        // Spin and shrink effect
                        let rotation = 0;
                        let scale = 1;
                        const deleteEffect = setInterval(() => {
                            rotation += 45;
                            scale -= 0.1;
                            clone.style.transform = `rotate(${rotation}deg) scale(${scale})`;
                            
                            if (scale <= 0) {
                                clearInterval(deleteEffect);
                                clone.remove();
                                bubble.style.display = 'none';
                                
                                const remaining = document.querySelectorAll('[id^="click-clone-"]').length;
                                if (remaining === 0) {
                                    status.textContent = 'ğŸ‰ ã™ã¹ã¦ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’å‰Šé™¤ã—ã¾ã—ãŸï¼ã‚¯ãƒªã‚¢ï¼';
                                } else {
                                    status.textContent = `âœ… ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå‰Šé™¤ï¼æ®‹ã‚Š${remaining}å€‹`;
                                }
                            }
                        }, 100);
                    });
                    
                    status.textContent = `ğŸ¯ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ${i}ã‚’é…ç½®ã—ã¾ã—ãŸ`;
                    
                }, i * 400);
            }
            
            setTimeout(() => {
                status.textContent = 'ğŸ¯ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‰Šé™¤ã—ã‚ˆã†ï¼';
            }, 2500);
        }
        
        function resetCloneClickAnimation() {
            const sprite = document.getElementById('sprite-clone-click');
            const bubble = document.getElementById('speech-bubble-clone-click');
            const status = document.getElementById('clone-click-status');
            
            // Remove all existing click clones
            const clones = document.querySelectorAll('[id^="click-clone-"]');
            clones.forEach(clone => clone.remove());
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.filter = 'none';
            sprite.style.transform = 'scale(1)';
            bubble.style.display = 'none';
            status.textContent = 'çš„ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‰Šé™¤ã—ã‚ˆã†';
        }
        
        // Clone deletion answer functions
        function showCloneDeletionAnswer1() {
            document.getElementById('clone-deletion-answer1').style.display = 'block';
            document.getElementById('cloneDeletionAnswerBtn1').disabled = true;
            document.getElementById('cloneDeletionAnswerBtn1').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        function showCloneDeletionAnswer2() {
            document.getElementById('clone-deletion-answer2').style.display = 'block';
            document.getElementById('cloneDeletionAnswerBtn2').disabled = true;
            document.getElementById('cloneDeletionAnswerBtn2').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        // Clone applications section navigation
        let currentCloneApplicationsStep = 1;
        
        function changeCloneApplicationsStep(direction) {
            currentCloneApplicationsStep += direction;
            if (currentCloneApplicationsStep < 1) currentCloneApplicationsStep = 1;
            if (currentCloneApplicationsStep > 4) currentCloneApplicationsStep = 4;
            updateCloneApplicationsStep();
            setTimeout(renderBlocks, 100);
        }
        
        function updateCloneApplicationsStep() {
            // Hide all steps
            document.querySelectorAll('#clone-applications-section .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            
            // Show current step
            document.getElementById('clone-applications-step' + currentCloneApplicationsStep).classList.add('step-active');
            
            // Update title and progress
            document.getElementById('clone-applications-step-title').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentCloneApplicationsStep} / 4`;
            document.getElementById('clone-applications-progress').style.width = (currentCloneApplicationsStep / 4 * 100) + '%';
            
            // Update buttons
            document.getElementById('cloneApplicationsPrevBtn').disabled = currentCloneApplicationsStep === 1;
            document.getElementById('cloneApplicationsNextBtn').disabled = currentCloneApplicationsStep === 4;
            document.getElementById('cloneApplicationsNextBtn').textContent = currentCloneApplicationsStep === 4 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }
        
        // Clone applications animations
        // æ˜Ÿç©ºã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ - å®‰å…¨ç‰ˆ
        let starfieldAnimationInProgress = false;

        function startStarfieldAnimation() {
            if (starfieldAnimationInProgress) return;
            
            console.log('startStarfieldAnimation called');
            starfieldAnimationInProgress = true;
            
            const sprite = document.getElementById('sprite-starfield');
            const status = document.getElementById('starfield-status');
            const stage = sprite ? sprite.parentNode : null;
            
            console.log('Starfield elements:', {sprite, status, stage});
            
            if (!sprite || !status || !stage) {
                console.error('Required elements not found for starfield animation');
                status && (status.textContent = 'ã‚¨ãƒ©ãƒ¼: è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                starfieldAnimationInProgress = false;
                return;
            }

            resetStarfieldAnimation();
            status.textContent = 'âœ¨ ç¾ã—ã„æ˜Ÿç©ºã‚’ä½œæˆä¸­...';
            
            // Create 10 stars sequentially
            createStarSequence(1, sprite, status, stage);
        }

        function createStarSequence(starNumber, sprite, status, stage) {
            if (starNumber > 10) {
                status.textContent = 'ğŸŒŸ ç¾ã—ã„æ˜Ÿç©ºãŒå®Œæˆã—ã¾ã—ãŸï¼';
                starfieldAnimationInProgress = false;
                return;
            }

            try {
                console.log(`Creating star ${starNumber}`);
                
                const star = sprite.cloneNode(true);
                star.id = `starfield-star-${starNumber}`;
                star.style.left = (Math.random() * 350) + 'px';
                star.style.top = (Math.random() * 200) + 'px';
                star.style.background = `hsl(${Math.random() * 60 + 40}, 80%, 70%)`;
                star.style.transform = 'scale(0)';
                star.style.position = 'absolute';
                star.style.display = 'flex';
                
                stage.appendChild(star);
                
                // Animation effect
                setTimeout(() => {
                    star.style.transform = `scale(${0.5 + Math.random() * 0.8})`;
                }, 100);
                
                status.textContent = `â­ æ˜Ÿ${starNumber}å€‹ç›®ã‚’é…ç½®...`;
                
                // Create next star
                setTimeout(() => {
                    createStarSequence(starNumber + 1, sprite, status, stage);
                }, 200);
                
            } catch (error) {
                console.error(`Error creating star ${starNumber}:`, error);
                status.textContent = `ã‚¨ãƒ©ãƒ¼: æ˜Ÿ${starNumber}ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ`;
                starfieldAnimationInProgress = false;
            }
        }

        // å¤ã„é–¢æ•°åã¨ã®äº’æ›æ€§ã‚’ä¿ã¤
        function playStarfieldAnimation() {
            startStarfieldAnimation();
        }
        
        function resetStarfieldAnimation() {
            console.log('resetStarfieldAnimation called');
            starfieldAnimationInProgress = false;
            
            const sprite = document.getElementById('sprite-starfield');
            const status = document.getElementById('starfield-status');
            
            if (!sprite || !status) {
                console.error('Required elements not found for starfield reset');
                return;
            }
            
            try {
                // Remove all existing starfield stars
                const stars = document.querySelectorAll('[id^="starfield-star-"]');
                console.log('Removing stars:', stars.length);
                stars.forEach((star, index) => {
                    try {
                        star.remove();
                        console.log(`Removed star ${index + 1}`);
                    } catch (removeError) {
                        console.error(`Error removing star ${index + 1}:`, removeError);
                    }
                });
                
                // Reset sprite
                sprite.style.left = '150px';
                sprite.style.top = '120px';
                sprite.style.background = '#ff6b6b';
                sprite.style.transform = 'scale(1)';
                sprite.style.filter = 'none';
                sprite.textContent = 'â­';
                
                status.textContent = 'ç¾ã—ã„æ˜Ÿç©ºã‚’ä½œã£ã¦ã¿ã‚ˆã†ï¼';
                
                console.log('Starfield animation reset completed');
                
            } catch (error) {
                console.error('Starfield reset error:', error);
                status.textContent = 'ãƒªã‚»ãƒƒãƒˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ';
            }
        }
        
        function playFireworksAnimation() {
            console.log('playFireworksAnimation called');
            const sprite = document.getElementById('sprite-fireworks');
            const status = document.getElementById('fireworks-status');
            
            console.log('sprite:', sprite);
            console.log('status:', status);
            
            if (!sprite || !status) {
                console.error('Required elements not found for fireworks animation');
                return;
            }
            
            resetFireworksAnimation();
            
            status.textContent = 'ğŸ† èŠ±ç«æ‰“ã¡ä¸Šã’é–‹å§‹...';
            
            // Launch 3 fireworks with delay
            for (let firework = 1; firework <= 3; firework++) {
                setTimeout(() => {
                    const fireworkX = Math.random() * 200 + 50;
                    const fireworkY = Math.random() * 100 + 80;
                    
                    status.textContent = `ğŸš€ èŠ±ç«${firework}ç™ºå°„ï¼`;
                    
                    // Create firework burst
                    for (let spark = 1; spark <= 12; spark++) {
                        setTimeout(() => {
                            const sparkClone = sprite.cloneNode(true);
                            sparkClone.id = `firework-${firework}-spark-${spark}`;
                            sparkClone.style.left = fireworkX + 'px';
                            sparkClone.style.top = fireworkY + 'px';
                            sparkClone.style.filter = `hue-rotate(${firework * 120 + spark * 30}deg)`;
                            sprite.parentNode.appendChild(sparkClone);
                            
                            // Animate spark explosion
                            const angle = (spark - 1) * 30; // 30 degrees apart
                            animateFireworkSpark(sparkClone, angle, firework, spark);
                            
                        }, spark * 50);
                    }
                    
                    setTimeout(() => {
                        status.textContent = `ğŸ† èŠ±ç«${firework}çˆ†ç™ºå®Œäº†ï¼`;
                    }, 1000);
                    
                }, firework * 2000);
            }
            
            setTimeout(() => {
                status.textContent = 'ğŸŠ èŠ±ç«ã‚·ãƒ§ãƒ¼å®Œäº†ï¼ç´ æ™´ã‚‰ã—ã„ï¼';
            }, 7000);
        }
        
        function animateFireworkSpark(spark, angle, fireworkId, sparkId) {
            const radians = angle * Math.PI / 180;
            const speed = 3;
            let distance = 0;
            const maxDistance = 60;
            let opacity = 1;
            
            const sparkAnimation = setInterval(() => {
                if (!document.getElementById(`firework-${fireworkId}-spark-${sparkId}`)) {
                    clearInterval(sparkAnimation);
                    return;
                }
                
                distance += speed;
                opacity -= 0.02;
                
                const x = parseInt(spark.style.left) + Math.cos(radians) * distance;
                const y = parseInt(spark.style.top) + Math.sin(radians) * distance;
                
                spark.style.left = x + 'px';
                spark.style.top = y + 'px';
                spark.style.opacity = opacity;
                
                if (distance >= maxDistance || opacity <= 0) {
                    clearInterval(sparkAnimation);
                    spark.remove();
                }
            }, 50);
        }
        
        function resetFireworksAnimation() {
            const sprite = document.getElementById('sprite-fireworks');
            const status = document.getElementById('fireworks-status');
            
            // Remove all existing firework sparks
            const sparks = document.querySelectorAll('[id^="firework-"]');
            sparks.forEach(spark => spark.remove());
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.filter = 'none';
            sprite.style.opacity = '1';
            status.textContent = 'èŠ±ç«ãŒçˆ†ç™ºã™ã‚‹ç¬é–“ã‚’è¦‹ã‚ˆã†ï¼';
        }
        
        function playRainAnimation() {
            console.log('playRainAnimation called');
            const sprite = document.getElementById('sprite-rain');
            const status = document.getElementById('rain-status');
            
            console.log('sprite:', sprite);
            console.log('status:', status);
            
            if (!sprite || !status) {
                console.error('Required elements not found for rain animation');
                return;
            }
            
            resetRainAnimation();
            
            status.textContent = 'ğŸŒ§ï¸ é›¨ãŒé™ã‚Šå§‹ã‚ã¾ã—ãŸ...';
            
            let rainDropCount = 0;
            const rainInterval = setInterval(() => {
                if (rainDropCount >= 15) {
                    clearInterval(rainInterval);
                    status.textContent = 'â˜” é›¨ãŒãŸãã•ã‚“é™ã£ã¦ã„ã¾ã™ï¼';
                    return;
                }
                
                const rainDrop = sprite.cloneNode(true);
                rainDrop.id = `rain-drop-${rainDropCount}`;
                rainDrop.style.left = (Math.random() * 280 + 10) + 'px';
                rainDrop.style.top = '10px';
                rainDrop.style.filter = `hue-rotate(${Math.random() * 60 + 180}deg)`;
                sprite.parentNode.appendChild(rainDrop);
                
                // Animate rain drop falling
                animateRainDrop(rainDrop, rainDropCount);
                
                rainDropCount++;
            }, 300);
        }
        
        function animateRainDrop(rainDrop, id) {
            let y = 10;
            const fallSpeed = 4;
            
            const fallAnimation = setInterval(() => {
                if (!document.getElementById(`rain-drop-${id}`)) {
                    clearInterval(fallAnimation);
                    return;
                }
                
                y += fallSpeed;
                rainDrop.style.top = y + 'px';
                
                // Remove when hitting ground
                if (y >= 190) {
                    clearInterval(fallAnimation);
                    rainDrop.remove();
                }
            }, 50);
        }
        
        function resetRainAnimation() {
            const sprite = document.getElementById('sprite-rain');
            const status = document.getElementById('rain-status');
            
            // Remove all existing rain drops
            const drops = document.querySelectorAll('[id^="rain-drop-"]');
            drops.forEach(drop => drop.remove());
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.filter = 'none';
            status.textContent = 'é›¨ãŒé™ã‚‹æ§˜å­ã‚’è¦‹ã¦ã¿ã‚ˆã†';
        }
        
        function playBulletAnimation() {
            console.log('playBulletAnimation called');
            const sprite = document.getElementById('sprite-bullet');
            const status = document.getElementById('bullet-status');
            
            console.log('sprite:', sprite);
            console.log('status:', status);
            
            if (!sprite || !status) {
                console.error('Required elements not found for bullet animation');
                return;
            }
            
            resetBulletAnimation();
            
            status.textContent = 'ğŸš€ å¼¾ä¸¸ç™ºå°„ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•ï¼';
            
            // Simulate automatic bullet firing
            let bulletCount = 0;
            const bulletInterval = setInterval(() => {
                if (bulletCount >= 8) {
                    clearInterval(bulletInterval);
                    status.textContent = 'âœ… å¼¾ä¸¸ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¢å®Œäº†ï¼';
                    return;
                }
                
                const bullet = sprite.cloneNode(true);
                bullet.id = `bullet-${bulletCount}`;
                bullet.style.left = '150px'; // Center position
                bullet.style.top = '150px'; // Starting position
                bullet.style.filter = `hue-rotate(${bulletCount * 45}deg)`;
                sprite.parentNode.appendChild(bullet);
                
                // Animate bullet flying upward
                animateBulletFlight(bullet, bulletCount);
                
                bulletCount++;
                status.textContent = `ğŸ¯ å¼¾ä¸¸${bulletCount}ç™ºå°„ï¼`;
            }, 400);
        }
        
        function animateBulletFlight(bullet, id) {
            let y = 150;
            const speed = 8;
            
            const flightAnimation = setInterval(() => {
                if (!document.getElementById(`bullet-${id}`)) {
                    clearInterval(flightAnimation);
                    return;
                }
                
                y -= speed;
                bullet.style.top = y + 'px';
                
                // Remove when reaching top
                if (y <= -20) {
                    clearInterval(flightAnimation);
                    bullet.remove();
                }
            }, 50);
        }
        
        function resetBulletAnimation() {
            const sprite = document.getElementById('sprite-bullet');
            const status = document.getElementById('bullet-status');
            
            // Remove all existing bullets
            const bullets = document.querySelectorAll('[id^="bullet-"]');
            bullets.forEach(bullet => bullet.remove());
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.filter = 'none';
            status.textContent = 'ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã§å¼¾ä¸¸ã‚’æ’ƒã¨ã†';
        }
        
        // Clone applications answer functions
        function showCloneApplicationsAnswer1() {
            document.getElementById('clone-applications-answer1').style.display = 'block';
            document.getElementById('cloneApplicationsAnswerBtn1').disabled = true;
            document.getElementById('cloneApplicationsAnswerBtn1').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        function showCloneApplicationsAnswer2() {
            document.getElementById('clone-applications-answer2').style.display = 'block';
            document.getElementById('cloneApplicationsAnswerBtn2').disabled = true;
            document.getElementById('cloneApplicationsAnswerBtn2').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }
        
        // Force override any cached functions
        window.hideAllViews = function() {
            console.log('=== FORCE OVERRIDE hideAllViews called - V2.0 ===');
            const elements = [
                'home-view',
                'variables-menu', 
                'health-system',
                'score-system',
                'string-variables',
                'conditional-menu',
                'if-then-section',
                'if-else-section',
                'loop',
                'clones-menu',
                'basic-clone-section',
                'clone-movement-section',
                'clone-deletion-section',
                'clone-applications-section'
            ];
            
            elements.forEach(id => {
                try {
                    const element = document.getElementById(id);
                    if (element) {
                        element.style.display = 'none';
                    }
                } catch (error) {
                    console.error('Error hiding element:', id, error);
                }
            });
            console.log('=== FORCE OVERRIDE hideAllViews completed - V2.0 ===');
        };

        // Force override showClonesMenu
        window.showClonesMenu = function() {
            console.log('=== FORCE OVERRIDE showClonesMenu called - V2.0 ===');
            window.hideAllViews();
            const clonesMenu = document.getElementById('clones-menu');
            if (clonesMenu) {
                clonesMenu.style.display = 'block';
                console.log('clones-menu display set to block');
            } else {
                console.error('clones-menu element not found');
            }
        };

        // Start loading when page loads
        window.addEventListener('load', function() {
            console.log('=== NEW VERSION LOADED - V2.0 ===');
            initializeBlocks();
            
            // Debug: Check if clone elements exist
            console.log('Page loaded, checking elements...');
            const clonesMenu = document.getElementById('clones-menu');
            console.log('clones-menu element:', clonesMenu);
            console.log('clones-menu display:', clonesMenu ? clonesMenu.style.display : 'element not found');
        });
    </script>
    
    <!-- FORCE OVERRIDE SCRIPT TO FIX CACHE ISSUES -->
    <script>
        console.log('=== EMERGENCY OVERRIDE SCRIPT LOADED ===');
        
        // Force override the problematic functions
        window.hideAllViews = function() {
            console.log('=== EMERGENCY OVERRIDE hideAllViews called ===');
            const elements = [
                'home-view',
                'variables-menu', 
                'health-system',
                'score-system',
                'string-variables',
                'conditional-menu',
                'if-then-section',
                'if-else-section',
                'loop',
                'clones-menu',
                'basic-clone-section',
                'clone-movement-section',
                'clone-deletion-section',
                'clone-applications-section'
            ];
            
            elements.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.style.display = 'none';
                }
            });
            console.log('=== EMERGENCY OVERRIDE hideAllViews completed ===');
        };
        
        window.showClonesMenu = function() {
            console.log('=== EMERGENCY OVERRIDE showClonesMenu called ===');
            window.hideAllViews();
            const clonesMenu = document.getElementById('clones-menu');
            if (clonesMenu) {
                clonesMenu.style.display = 'block';
                console.log('clones-menu display set to block');
            } else {
                console.error('clones-menu element not found');
            }
        };
        
        // Override all animation functions with error handling
        window.playBasicCloneAnimation = function() {
            console.log('=== EMERGENCY OVERRIDE playBasicCloneAnimation called ===');
            const sprite = document.getElementById('sprite-clone-basic');
            const bubble = document.getElementById('speech-bubble-clone-basic');
            const status = document.getElementById('clone-basic-status');
            
            if (!sprite || !bubble || !status) {
                console.error('Required elements not found for basic clone animation');
                alert('ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚');
                return;
            }
            
            // Reset first
            const clones = document.querySelectorAll('[id^="clone-"]');
            clones.forEach(clone => clone.remove());
            
            sprite.style.left = '50px';
            sprite.style.top = '50px';
            sprite.style.filter = 'none';
            bubble.style.display = 'none';
            status.textContent = 'ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œã‚‰ã‚Œã‚‹æ§˜å­ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼';
            
            // Start animation
            status.textContent = 'ğŸ§¬ ã‚¯ãƒ­ãƒ¼ãƒ³ä½œæˆé–‹å§‹...';
            
            // Create 3 clones with delay
            for (let i = 1; i <= 3; i++) {
                setTimeout(() => {
                    const clone = sprite.cloneNode(true);
                    clone.id = `clone-${i}`;
                    clone.style.left = (50 + i * 80) + 'px';
                    clone.style.top = (50 + i * 20) + 'px';
                    clone.style.filter = `hue-rotate(${i * 60}deg)`;
                    sprite.parentNode.appendChild(clone);
                    
                    status.textContent = `ğŸ‰ ã‚¯ãƒ­ãƒ¼ãƒ³${i}å€‹ç›®ãŒä½œã‚‰ã‚Œã¾ã—ãŸï¼`;
                    
                    // Make clone say hello
                    setTimeout(() => {
                        if (document.getElementById(`clone-${i}`)) {
                            bubble.textContent = `ã“ã‚“ã«ã¡ã¯ï¼ã‚¯ãƒ­ãƒ¼ãƒ³${i}ã§ã™`;
                            bubble.style.display = 'block';
                            bubble.style.left = (150 + i * 80) + 'px';
                            bubble.style.top = (20 + i * 20) + 'px';
                        }
                    }, 500);
                    
                    setTimeout(() => {
                        bubble.style.display = 'none';
                    }, 1500);
                    
                }, i * 1000);
            }
            
            setTimeout(() => {
                status.textContent = 'âœ… 3å€‹ã®ã‚¯ãƒ­ãƒ¼ãƒ³ãŒä½œæˆå®Œäº†ï¼ãã‚Œãã‚ŒãŒç‹¬ç«‹ã—ã¦å­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚';
            }, 4000);
        };
        
        // Costumes section functions - è¦‹ãŸç›®ã®å¤‰æ›´æ©Ÿèƒ½
        let currentCostumesStep = 1;

        function updateCostumesStep() {
            // Hide all steps
            document.querySelectorAll('#costumes-section .step-container').forEach(step => {
                step.classList.remove('step-active');
            });
            
            // Show current step
            document.getElementById('costumes-step' + currentCostumesStep).classList.add('step-active');
            
            // Update title and progress
            document.getElementById('costumes-step-title').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentCostumesStep} / 4`;
            document.getElementById('costumes-progress').style.width = (currentCostumesStep / 4 * 100) + '%';
            
            // Update buttons
            document.getElementById('costumesPrevBtn').disabled = currentCostumesStep === 1;
            document.getElementById('costumesNextBtn').disabled = currentCostumesStep === 4;
            document.getElementById('costumesNextBtn').textContent = currentCostumesStep === 4 ? 'å®Œäº†' : 'æ¬¡ã¸';
        }

        function changeCostumesStep(direction) {
            currentCostumesStep += direction;
            if (currentCostumesStep < 1) currentCostumesStep = 1;
            if (currentCostumesStep > 4) currentCostumesStep = 4;
            updateCostumesStep();
            setTimeout(renderBlocks, 100);
        }

        function playCostumesAnimation() {
            const sprite = document.getElementById('sprite-costumes');
            const bubble = document.getElementById('speech-bubble-costumes');
            const status = document.getElementById('costumes-status');
            
            if (!sprite || !bubble || !status) {
                console.error('Costumes animation elements not found');
                return;
            }
            
            resetCostumesAnimation();
            
            setTimeout(() => {
                status.textContent = 'ğŸ’¬ å¤‰èº«ã—ã¾ã™ï¼';
                bubble.textContent = 'å¤‰èº«ã—ã¾ã™ï¼';
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
            }, 500);
            
            setTimeout(() => {
                bubble.style.display = 'none';
                status.textContent = 'ğŸ­ ã‚³ã‚¹ãƒãƒ¥ãƒ¼ãƒ å¤‰æ›´ä¸­...';
                sprite.textContent = 'ğŸ¦„'; // çŒ«ã‹ã‚‰ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³ã«å¤‰èº«
            }, 1500);
            
            setTimeout(() => {
                status.textContent = 'ğŸŒˆ è‰²ã®åŠ¹æœã‚’è¿½åŠ ä¸­...';
                sprite.style.filter = 'hue-rotate(60deg)';
            }, 3000);
            
            setTimeout(() => {
                status.textContent = 'âœ¨ ã•ã‚‰ã«è‰²ã‚’å¤‰ãˆã¦ã„ã¾ã™...';
                sprite.style.filter = 'hue-rotate(120deg)';
            }, 4000);
            
            setTimeout(() => {
                bubble.textContent = 'å¤‰èº«å®Œäº†ï¼';
                bubble.style.display = 'block';
                bubble.style.left = '100px';
                bubble.style.top = '20px';
                status.textContent = 'ğŸ‰ è¦‹ãŸç›®ã®å¤‰æ›´ãŒå®Œäº†ã—ã¾ã—ãŸï¼';
            }, 5000);
            
            setTimeout(() => {
                bubble.style.display = 'none';
            }, 7000);
        }

        function resetCostumesAnimation() {
            const sprite = document.getElementById('sprite-costumes');
            const bubble = document.getElementById('speech-bubble-costumes');
            const status = document.getElementById('costumes-status');
            
            if (sprite && bubble && status) {
                sprite.textContent = 'ğŸ˜¸';
                sprite.style.filter = 'none';
                bubble.style.display = 'none';
                status.textContent = 'ã‚³ã‚¹ãƒãƒ¥ãƒ¼ãƒ ã¨è‰²ã®åŠ¹æœã®ãƒ‡ãƒ¢ã‚’è¦‹ã‚ˆã†ï¼';
            }
        }

        function playEffectsAnimation() {
            const sprite = document.getElementById('sprite-effects');
            const status = document.getElementById('effects-status');
            
            if (!sprite || !status) {
                console.error('Effects animation elements not found');
                return;
            }
            
            resetEffectsAnimation();
            
            let colorValue = 0;
            const interval = setInterval(() => {
                colorValue += 30;
                sprite.style.filter = `hue-rotate(${colorValue}deg)`;
                status.textContent = `ğŸŒˆ è‰²ã®åŠ¹æœ: ${colorValue}`;
                
                if (colorValue >= 180) {
                    clearInterval(interval);
                    status.textContent = 'âœ… è‰²ã®åŠ¹æœã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†ï¼';
                }
            }, 500);
        }

        function resetEffectsAnimation() {
            const sprite = document.getElementById('sprite-effects');
            const status = document.getElementById('effects-status');
            
            if (sprite && status) {
                sprite.style.filter = 'none';
                status.textContent = 'è‰²ã®åŠ¹æœãŒæ®µéšçš„ã«å¤‰ã‚ã‚Šã¾ã™';
            }
        }

        function playRainbowAnimation() {
            const sprite = document.getElementById('sprite-rainbow');
            const status = document.getElementById('rainbow-status');
            
            if (!sprite || !status) {
                console.error('Rainbow animation elements not found');
                return;
            }
            
            resetRainbowAnimation();
            
            let step = 0;
            const steps = 6;
            const colors = [0, 60, 120, 180, 240, 300];
            
            const rainbowInterval = setInterval(() => {
                sprite.style.filter = `hue-rotate(${colors[step]}deg)`;
                status.textContent = `ğŸŒˆ ã‚¹ãƒ†ãƒƒãƒ— ${step + 1}/${steps}: è‰² ${colors[step]}åº¦`;
                
                step++;
                if (step >= steps) {
                    clearInterval(rainbowInterval);
                    setTimeout(() => {
                        sprite.style.filter = 'none';
                        status.textContent = 'ğŸ‰ ãƒ¬ã‚¤ãƒ³ãƒœãƒ¼åŠ¹æœå®Œäº†ï¼å…ƒã®è‰²ã«æˆ»ã—ã¾ã—ãŸã€‚';
                    }, 1000);
                }
            }, 800);
        }

        function resetRainbowAnimation() {
            const sprite = document.getElementById('sprite-rainbow');
            const status = document.getElementById('rainbow-status');
            
            if (sprite && status) {
                sprite.style.filter = 'none';
                status.textContent = '6å›ç¹°ã‚Šè¿”ã—ã¦è™¹è‰²ã«å¤‰åŒ–ã—ã¾ã™';
            }
        }

        function showCostumesAnswer() {
            document.getElementById('costumes-answer').style.display = 'block';
            document.querySelector('.answer-btn').disabled = true;
            document.querySelector('.answer-btn').textContent = 'âœ… ç­”ãˆã‚’è¡¨ç¤ºä¸­';
        }

        // hideAllViews ã‚’æ›´æ–°ã—ã¦ costumes-section ã‚’å«ã‚ã‚‹
        const originalHideAllViews = hideAllViews;
        hideAllViews = function() {
            originalHideAllViews();
            const costumesSection = document.getElementById('costumes-section');
            if (costumesSection) {
                costumesSection.style.display = 'none';
            }
        };

        // æ–°æ©Ÿèƒ½ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤ºé–¢æ•°
        function showSoundsMenu() {
            hideAllViews();
            document.getElementById('sounds-menu').style.display = 'block';
            updateProgress('sounds-menu', 0);
        }

        function showMessagesMenu() {
            hideAllViews();
            document.getElementById('messages-menu').style.display = 'block';
            updateProgress('messages-menu', 0);
        }

        function showBackgroundsMenu() {
            hideAllViews();
            document.getElementById('backgrounds-menu').style.display = 'block';
            updateProgress('backgrounds-menu', 0);
        }

        function showListsMenu() {
            hideAllViews();
            document.getElementById('lists-menu').style.display = 'block';
            updateProgress('lists-menu', 0);
        }

        function showPenMenu() {
            hideAllViews();
            document.getElementById('pen-menu').style.display = 'block';
            updateProgress('pen-menu', 0);
        }

        // éŸ³æ¥½æ©Ÿèƒ½ã®å€‹åˆ¥ãƒ¬ãƒƒã‚¹ãƒ³é–¢æ•°
        function showBasicSounds() {
            alert('ğŸ”Š åŸºæœ¬çš„ãªéŸ³\n\nãƒ»ã€ŒéŸ³ã‚’é³´ã‚‰ã™ã€ãƒ–ãƒ­ãƒƒã‚¯ã®ä½¿ã„æ–¹\nãƒ»åŠ¹æœéŸ³ã®é¸ã³æ–¹\nãƒ»éŸ³ã®é•·ã•ã®èª¿æ•´\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        function showMusicInstruments() {
            alert('ğŸº æ¥½å™¨ã®éŸ³\n\nãƒ»æ¥½å™¨ã®ç¨®é¡ã‚’é¸ã¶\nãƒ»éŸ³éšã‚’å¤‰ãˆã‚‹\nãƒ»æ¥½å™¨ã®çµ„ã¿åˆã‚ã›\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        function showSoundEffects() {
            alert('ğŸ­ åŠ¹æœéŸ³\n\nãƒ»ã‚²ãƒ¼ãƒ ç”¨åŠ¹æœéŸ³\nãƒ»å‹•ä½œã«åˆã‚ã›ãŸéŸ³\nãƒ»ã‚ªãƒªã‚¸ãƒŠãƒ«åŠ¹æœéŸ³\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        function showMusicControl() {
            alert('ğŸ›ï¸ éŸ³æ¥½ã®åˆ¶å¾¡\n\nãƒ»ãƒ†ãƒ³ãƒã®èª¿æ•´\nãƒ»éŸ³é‡ã®å¤‰æ›´\nãƒ»éŸ³æ¥½ã®åœæ­¢ãƒ»å†é–‹\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ©Ÿèƒ½ã®å€‹åˆ¥ãƒ¬ãƒƒã‚¹ãƒ³é–¢æ•°
        function showBasicMessages() {
            alert('ğŸ“¨ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€å—ä¿¡\n\nãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹ãƒ–ãƒ­ãƒƒã‚¯\nãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ã‘å–ã‚‹ãƒ–ãƒ­ãƒƒã‚¯\nãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®åå‰ã‚’æ±ºã‚ã‚‹\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        function showSpritesCommunication() {
            alert('ğŸ¤ ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆé–“ã®é€šä¿¡\n\nãƒ»è¤‡æ•°ã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã§é€£æº\nãƒ»é †ç•ªã«å‹•ã‹ã™\nãƒ»åŒæ™‚ã«å‹•ã‹ã™\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        // èƒŒæ™¯æ©Ÿèƒ½ã®å€‹åˆ¥ãƒ¬ãƒƒã‚¹ãƒ³é–¢æ•°
        function showBackgroundBasics() {
            alert('ğŸ–¼ï¸ èƒŒæ™¯ã®åŸºæœ¬\n\nãƒ»èƒŒæ™¯ã‚’å¤‰ãˆã‚‹ãƒ–ãƒ­ãƒƒã‚¯\nãƒ»èƒŒæ™¯ã®ç¨®é¡ã‚’é¸ã¶\nãƒ»èƒŒæ™¯ã®åŠ¹æœ\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        function showBackgroundSwitching() {
            alert('ğŸ”„ èƒŒæ™¯ã®åˆ‡ã‚Šæ›¿ãˆ\n\nãƒ»å ´é¢ã«å¿œã˜ãŸèƒŒæ™¯å¤‰æ›´\nãƒ»èƒŒæ™¯ãŒå¤‰ã‚ã£ãŸæ™‚ã®å‡¦ç†\nãƒ»èƒŒæ™¯ã‚’ä½¿ã£ãŸæ¼”å‡º\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        // ãƒªã‚¹ãƒˆæ©Ÿèƒ½ã®å€‹åˆ¥ãƒ¬ãƒƒã‚¹ãƒ³é–¢æ•°
        function showListBasics() {
            alert('ğŸ“ ãƒªã‚¹ãƒˆã®åŸºæœ¬\n\nãƒ»ãƒªã‚¹ãƒˆã‚’ä½œã‚‹\nãƒ»ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹\nãƒ»ãƒªã‚¹ãƒˆã®ä»•çµ„ã¿\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        function showListOperations() {
            alert('â• ãƒªã‚¹ãƒˆã®æ“ä½œ\n\nãƒ»ãƒªã‚¹ãƒˆã«è¿½åŠ ã™ã‚‹\nãƒ»ãƒªã‚¹ãƒˆã‹ã‚‰å‰Šé™¤ã™ã‚‹\nãƒ»ãƒªã‚¹ãƒˆã‚’ç©ºã«ã™ã‚‹\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        function showListAccess() {
            alert('ğŸ” ãƒªã‚¹ãƒˆã®å†…å®¹ã‚’ä½¿ã†\n\nãƒ»ãƒªã‚¹ãƒˆã®é …ç›®ã‚’å–ã‚Šå‡ºã™\nãƒ»ãƒªã‚¹ãƒˆã®é•·ã•ã‚’èª¿ã¹ã‚‹\nãƒ»ãƒªã‚¹ãƒˆã®ä¸­èº«ã‚’æ¤œç´¢\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        function showListApplications() {
            alert('ğŸ¯ ãƒªã‚¹ãƒˆã®æ´»ç”¨\n\nãƒ»ã‚²ãƒ¼ãƒ ã§ã®æ´»ç”¨ä¾‹\nãƒ»ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã®æ–¹æ³•\nãƒ»å®Ÿè·µçš„ãªä½¿ã„æ–¹\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        // ãƒšãƒ³æ©Ÿèƒ½ã®å€‹åˆ¥ãƒ¬ãƒƒã‚¹ãƒ³é–¢æ•°
        function showPenBasics() {
            alert('ğŸ–Šï¸ ãƒšãƒ³ã®åŸºæœ¬\n\nãƒ»ãƒšãƒ³ã‚’ä¸‹ã‚ã™/ä¸Šã’ã‚‹\nãƒ»ç·šã‚’æã\nãƒ»ãƒšãƒ³ã®è¨­å®š\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        function showPenColors() {
            alert('ğŸŒˆ è‰²ã¨å¤ªã•\n\nãƒ»ãƒšãƒ³ã®è‰²ã‚’å¤‰ãˆã‚‹\nãƒ»ãƒšãƒ³ã®å¤ªã•ã‚’å¤‰ãˆã‚‹\nãƒ»ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        function showShapeDrawing() {
            alert('ğŸ”º å›³å½¢ã‚’æã\n\nãƒ»ä¸‰è§’å½¢ã‚„å››è§’å½¢\nãƒ»å††ã‚’æã\nãƒ»è¤‡é›‘ãªå›³å½¢\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }

        function showArtCreation() {
            alert('ğŸ¨ ã‚¢ãƒ¼ãƒˆä½œå“\n\nãƒ»è‡ªç”±ãªçµµã‚’æã\nãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½œã‚‹\nãƒ»èŠ¸è¡“çš„ãªè¡¨ç¾\n\nï¼ˆå®Ÿè£…æº–å‚™ä¸­ï¼‰');
        }
        
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’è¿½åŠ ã—ã¦ç™½ç”»é¢ã‚’é˜²ã
        window.addEventListener('error', function(event) {
            console.error('=== GLOBAL ERROR CAUGHT ===');
            console.error('Error message:', event.message);
            console.error('Error filename:', event.filename);
            console.error('Error line:', event.lineno);
            console.error('Error column:', event.colno);
            console.error('Error object:', event.error);
            
            // ç™½ç”»é¢ã‚’é˜²ã
            event.preventDefault();
            return true;
        });
        
        window.addEventListener('unhandledrejection', function(event) {
            console.error('=== UNHANDLED PROMISE REJECTION ===');
            console.error('Reason:', event.reason);
            event.preventDefault();
        });
        
        console.log('=== EMERGENCY OVERRIDE SCRIPT COMPLETED ===');
    </script>
</body>
</html>